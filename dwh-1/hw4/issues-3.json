[
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11251",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11251/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11251/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11251/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11251",
    "id": 626514212,
    "node_id": "MDU6SXNzdWU2MjY1MTQyMTI=",
    "number": 11251,
    "title": "CREATE TABLE as remote",
    "user": {
      "login": "Tri0L",
      "id": 1208486,
      "node_id": "MDQ6VXNlcjEyMDg0ODY=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/1208486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tri0L",
      "html_url": "https://github.com/Tri0L",
      "followers_url": "https://api.github.com/users/Tri0L/followers",
      "following_url": "https://api.github.com/users/Tri0L/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tri0L/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tri0L/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tri0L/subscriptions",
      "organizations_url": "https://api.github.com/users/Tri0L/orgs",
      "repos_url": "https://api.github.com/users/Tri0L/repos",
      "events_url": "https://api.github.com/users/Tri0L/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tri0L/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 785082162,
        "node_id": "MDU6TGFiZWw3ODUwODIxNjI=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-documentation",
        "name": "comp-documentation",
        "color": "b5bcff",
        "default": false,
        "description": "Used to run automatic builds of the documentation"
      },
      {
        "id": 386401509,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDk=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/invalid",
        "name": "invalid",
        "color": "e6e6e6",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "BayoNet",
      "id": 2968367,
      "node_id": "MDQ6VXNlcjI5NjgzNjc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2968367?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BayoNet",
      "html_url": "https://github.com/BayoNet",
      "followers_url": "https://api.github.com/users/BayoNet/followers",
      "following_url": "https://api.github.com/users/BayoNet/following{/other_user}",
      "gists_url": "https://api.github.com/users/BayoNet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BayoNet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BayoNet/subscriptions",
      "organizations_url": "https://api.github.com/users/BayoNet/orgs",
      "repos_url": "https://api.github.com/users/BayoNet/repos",
      "events_url": "https://api.github.com/users/BayoNet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BayoNet/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "BayoNet",
        "id": 2968367,
        "node_id": "MDQ6VXNlcjI5NjgzNjc=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/2968367?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BayoNet",
        "html_url": "https://github.com/BayoNet",
        "followers_url": "https://api.github.com/users/BayoNet/followers",
        "following_url": "https://api.github.com/users/BayoNet/following{/other_user}",
        "gists_url": "https://api.github.com/users/BayoNet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BayoNet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BayoNet/subscriptions",
        "organizations_url": "https://api.github.com/users/BayoNet/orgs",
        "repos_url": "https://api.github.com/users/BayoNet/repos",
        "events_url": "https://api.github.com/users/BayoNet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BayoNet/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-28T13:35:15Z",
    "updated_at": "2020-05-28T19:25:25Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hello.\r\n\r\nClickHouse: **20.1.2.4**\r\n\r\nDon't know, bug or feature, but I think it is unexpected behavior.\r\n\r\nI try create table as copy of table from another server:\r\n```\r\nCREATE TABLE dest_table AS remote('another.clickhouse.host', 'schema', 'src_table', 'user', 'pwd');\r\n```\r\n\r\n**Expected behavior**\r\nAs written in docs \r\n\r\n*Creates a table with the structure and data returned by a table function.*\r\n\r\n**Really do:**\r\nReally CH create something like foreign table, without data and schema.\r\nSelects/inserts sends to remote server.\r\n```\r\nSHOW CREATE TABLE dest_table\r\n\r\n┌─statement───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐\r\n│ CREATE TABLE dest_table AS remote('another.clickhouse.host', 'schema', 'src_table', 'user', 'pwd') │\r\n└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11248",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11248/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11248/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11248/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11248",
    "id": 626461808,
    "node_id": "MDU6SXNzdWU2MjY0NjE4MDg=",
    "number": 11248,
    "title": "Expose table read-only interface to users.",
    "user": {
      "login": "xjewer",
      "id": 922743,
      "node_id": "MDQ6VXNlcjkyMjc0Mw==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/922743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xjewer",
      "html_url": "https://github.com/xjewer",
      "followers_url": "https://api.github.com/users/xjewer/followers",
      "following_url": "https://api.github.com/users/xjewer/following{/other_user}",
      "gists_url": "https://api.github.com/users/xjewer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xjewer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xjewer/subscriptions",
      "organizations_url": "https://api.github.com/users/xjewer/orgs",
      "repos_url": "https://api.github.com/users/xjewer/repos",
      "events_url": "https://api.github.com/users/xjewer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xjewer/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      },
      {
        "id": 1507888214,
        "node_id": "MDU6TGFiZWwxNTA3ODg4MjE0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-accepted",
        "name": "st-accepted",
        "color": "e5b890",
        "default": false,
        "description": "The issue is in our backlog, ready to take"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-28T12:16:44Z",
    "updated_at": "2020-05-28T12:54:57Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Problem\r\nClickHouse doesn't expose any handle to set a table in a read-only mode on a given replica.\r\n\r\n### Proposal\r\nProvide a DDL, to enable/disable read-only mode for a table with any engine type.\r\n\r\n**scenario 1**:\r\n\r\ntable_1 (Engine Null) -> MV -> table_2(Engine *MergeTree)\r\n\r\ncurrently there's no option to change MV, other than drop/recreate. All inbound data during this would be lost in table_2, without stopping insertion to a replica.\r\n\r\n**scenario 2**:\r\n\r\nMarking a table read-only on an overloaded replica to relief pressure. \r\n\r\nExample query:\r\n```sql\r\n\r\nALTER TABLE [db].name SET read-only\r\nALTER TABLE [db].name UNSET read-only\r\n```\r\n\r\ncc @nvartolomei "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11247",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11247/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11247/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11247/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11247",
    "id": 626417485,
    "node_id": "MDU6SXNzdWU2MjY0MTc0ODU=",
    "number": 11247,
    "title": " Cannot reserve 1.00 MiB, not enough space",
    "user": {
      "login": "leobelive",
      "id": 4366253,
      "node_id": "MDQ6VXNlcjQzNjYyNTM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4366253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leobelive",
      "html_url": "https://github.com/leobelive",
      "followers_url": "https://api.github.com/users/leobelive/followers",
      "following_url": "https://api.github.com/users/leobelive/following{/other_user}",
      "gists_url": "https://api.github.com/users/leobelive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leobelive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leobelive/subscriptions",
      "organizations_url": "https://api.github.com/users/leobelive/orgs",
      "repos_url": "https://api.github.com/users/leobelive/repos",
      "events_url": "https://api.github.com/users/leobelive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leobelive/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-28T10:59:20Z",
    "updated_at": "2020-06-12T17:20:40Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": " DB::ExceptionDB::Exception: Cannot reserve 1.00 MiB, not enough space. Stack trace:\r\n0. Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0xbb8c1cc in /usr/bin/clickhouse\r\n1. DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x4ff4bb9 in /usr/bin/clickhouse\r\n2. ? @ 0x4c55fe5 in /usr/bin/clickhouse\r\n3. DB::MergeTreeData::reserveSpacePreferringTTLRules(unsigned long, DB::MergeTreeDataPartTTLInfos const&, long, unsigned long) const @ 0x8ef9fc6 in /usr/bin/clickhouse\r\n4. DB::MergeTreeDataWriter::writeTempPart(DB::BlockWithPartition&) @ 0x8f906dc in /usr/bin/clickhouse\r\n5. DB::MergeTreeBlockOutputStream::write(DB::Block const&) @ 0x8eee305 in /usr/bin/clickhouse\r\n6. DB::PushingToViewsBlockOutputStream::write(DB::Block const&) @ 0x9469458 in /usr/bin/clickhouse\r\n7. DB::SquashingBlockOutputStream::writeSuffix() @ 0x9482b3a in /usr/bin/clickhouse\r\n8. DB::TCPHandler::processInsertQuery(DB::Settings const&) @ 0x504df32 in /usr/bin/clickhouse\r\n9. DB::TCPHandler::runImpl() @ 0x504f5b3 in /usr/bin/clickhouse\r\n10. DB::TCPHandler::run() @ 0x504faa9 in /usr/bin/clickhouse\r\n11. Poco::Net::TCPServerConnection::start() @ 0x9c68017 in /usr/bin/clickhouse\r\n12. Poco::Net::TCPServerDispatcher::run() @ 0x9c6840d in /usr/bin/clickhouse\r\n13. Poco::PooledThread::run() @ 0xbbfaf4f in /usr/bin/clickhouse\r\n14. Poco::ThreadImpl::runnableEntry(void*) @ 0xbbf81b8 in /usr/bin/clickhouse\r\n15. ? @ 0xbbf98e9 in /usr/bin/clickhouse\r\n16. start_thread @ 0x7e65 in /usr/lib64/libpthread-2.17.so\r\n17. clone @ 0xfe88d in /usr/lib64/libc-2.17.so\r\n\r\ncan anyone help ， how to resolved  this issue? \r\nwhen i  insert   about 20k data with clickhouse-jdbc  , the error comes ?\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11245",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11245/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11245/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11245/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11245",
    "id": 626359754,
    "node_id": "MDU6SXNzdWU2MjYzNTk3NTQ=",
    "number": 11245,
    "title": "Weird behaviour of function IPv4CIDRToRange/IPv6CIDRToRange",
    "user": {
      "login": "nvartolomei",
      "id": 543193,
      "node_id": "MDQ6VXNlcjU0MzE5Mw==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/543193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nvartolomei",
      "html_url": "https://github.com/nvartolomei",
      "followers_url": "https://api.github.com/users/nvartolomei/followers",
      "following_url": "https://api.github.com/users/nvartolomei/following{/other_user}",
      "gists_url": "https://api.github.com/users/nvartolomei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nvartolomei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nvartolomei/subscriptions",
      "organizations_url": "https://api.github.com/users/nvartolomei/orgs",
      "repos_url": "https://api.github.com/users/nvartolomei/repos",
      "events_url": "https://api.github.com/users/nvartolomei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nvartolomei/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 644208617,
        "node_id": "MDU6TGFiZWw2NDQyMDg2MTc=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/easy%20task",
        "name": "easy task",
        "color": "0e8a16",
        "default": false,
        "description": ""
      },
      {
        "id": 1507888214,
        "node_id": "MDU6TGFiZWwxNTA3ODg4MjE0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-accepted",
        "name": "st-accepted",
        "color": "e5b890",
        "default": false,
        "description": "The issue is in our backlog, ready to take"
      },
      {
        "id": 1547429435,
        "node_id": "MDU6TGFiZWwxNTQ3NDI5NDM1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v19.14",
        "name": "v19.14",
        "color": "55007a",
        "default": false,
        "description": "Issue affects version 19.14.* or PR was manually backported to related stable branch"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      },
      {
        "id": 2070999159,
        "node_id": "MDU6TGFiZWwyMDcwOTk5MTU5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.4-affected",
        "name": "v20.4-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.4"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-28T09:27:02Z",
    "updated_at": "2020-06-24T13:06:33Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**How to reproduce**\r\n* Which ClickHouse server version to use: version 20.4.4\r\n\r\n```sql\r\nDROP TABLE IF EXISTS test;\r\nCREATE TABLE test Engine = Memory\r\nAS SELECT '1.1.1.1/24' as address;\r\n```\r\n\r\n```sql\r\nWITH '1.1.1.1' AS addr\r\nSELECT\r\n    address,\r\n    splitByChar('/', address) AS prefix,\r\n    prefix[1] AS base,\r\n    toUInt8(prefix[2]) AS mask\r\nFROM test\r\nWHERE (IPv4CIDRToRange(toIPv4(addr), mask).1) = toIPv4(base)\r\n\r\nReceived exception from server (version 20.4.4):\r\nCode: 44. DB::Exception: Received from localhost:9000. DB::Exception: Illegal column Const(UInt32) of argument of function IPv4CIDRToRange.\r\n```\r\n\r\nExpected behaviour is this (here `mask` is hard coded to 24.\r\n\r\n```sql\r\nWITH '1.1.1.1' AS addr\r\nSELECT\r\n    address,\r\n    splitByChar('/', address) AS prefix,\r\n    prefix[1] AS base,\r\n    toUInt8(prefix[2]) AS mask\r\nFROM test\r\nWHERE (IPv4CIDRToRange(toIPv4(addr), 24).1) = toIPv4(base)\r\n\r\n┌─address────┬─prefix───────────┬─base────┬─mask─┐\r\n│ 1.1.1.0/24 │ ['1.1.1.0','24'] │ 1.1.1.0 │   24 │\r\n└────────────┴──────────────────┴─────────┴──────┘\r\n\r\n1 rows in set. Elapsed: 0.005 sec.\r\n```\r\n\r\ncc @lspgn"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11235",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11235/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11235/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11235/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11235",
    "id": 626040576,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0MTIwNzQ2",
    "number": 11235,
    "title": "Add -OrderBy combinator",
    "user": {
      "login": "Sonichka1311",
      "id": 47637442,
      "node_id": "MDQ6VXNlcjQ3NjM3NDQy",
      "avatar_url": "https://avatars2.githubusercontent.com/u/47637442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sonichka1311",
      "html_url": "https://github.com/Sonichka1311",
      "followers_url": "https://api.github.com/users/Sonichka1311/followers",
      "following_url": "https://api.github.com/users/Sonichka1311/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sonichka1311/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sonichka1311/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sonichka1311/subscriptions",
      "organizations_url": "https://api.github.com/users/Sonichka1311/orgs",
      "repos_url": "https://api.github.com/users/Sonichka1311/repos",
      "events_url": "https://api.github.com/users/Sonichka1311/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sonichka1311/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "CurtizJ",
      "id": 20361854,
      "node_id": "MDQ6VXNlcjIwMzYxODU0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/20361854?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CurtizJ",
      "html_url": "https://github.com/CurtizJ",
      "followers_url": "https://api.github.com/users/CurtizJ/followers",
      "following_url": "https://api.github.com/users/CurtizJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/CurtizJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CurtizJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CurtizJ/subscriptions",
      "organizations_url": "https://api.github.com/users/CurtizJ/orgs",
      "repos_url": "https://api.github.com/users/CurtizJ/repos",
      "events_url": "https://api.github.com/users/CurtizJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CurtizJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "CurtizJ",
        "id": 20361854,
        "node_id": "MDQ6VXNlcjIwMzYxODU0",
        "avatar_url": "https://avatars0.githubusercontent.com/u/20361854?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/CurtizJ",
        "html_url": "https://github.com/CurtizJ",
        "followers_url": "https://api.github.com/users/CurtizJ/followers",
        "following_url": "https://api.github.com/users/CurtizJ/following{/other_user}",
        "gists_url": "https://api.github.com/users/CurtizJ/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/CurtizJ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/CurtizJ/subscriptions",
        "organizations_url": "https://api.github.com/users/CurtizJ/orgs",
        "repos_url": "https://api.github.com/users/CurtizJ/repos",
        "events_url": "https://api.github.com/users/CurtizJ/events{/privacy}",
        "received_events_url": "https://api.github.com/users/CurtizJ/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-27T21:22:41Z",
    "updated_at": "2020-06-16T15:13:46Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11235",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11235",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11235.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11235.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nAdd -OrderBy combinator && change transformArguments signature\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11234",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11234/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11234/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11234/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11234",
    "id": 626032260,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0MTE0OTgz",
    "number": 11234,
    "title": "Add LDAP authentication support",
    "user": {
      "login": "traceon",
      "id": 10261534,
      "node_id": "MDQ6VXNlcjEwMjYxNTM0",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10261534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/traceon",
      "html_url": "https://github.com/traceon",
      "followers_url": "https://api.github.com/users/traceon/followers",
      "following_url": "https://api.github.com/users/traceon/following{/other_user}",
      "gists_url": "https://api.github.com/users/traceon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/traceon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/traceon/subscriptions",
      "organizations_url": "https://api.github.com/users/traceon/orgs",
      "repos_url": "https://api.github.com/users/traceon/repos",
      "events_url": "https://api.github.com/users/traceon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/traceon/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      },
      {
        "id": 2107435505,
        "node_id": "MDU6TGFiZWwyMTA3NDM1NTA1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/submodule%20changed",
        "name": "submodule changed",
        "color": "b7130b",
        "default": false,
        "description": "At least one submodule changed in this PR."
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "vitlibar",
      "id": 45142681,
      "node_id": "MDQ6VXNlcjQ1MTQyNjgx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/45142681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vitlibar",
      "html_url": "https://github.com/vitlibar",
      "followers_url": "https://api.github.com/users/vitlibar/followers",
      "following_url": "https://api.github.com/users/vitlibar/following{/other_user}",
      "gists_url": "https://api.github.com/users/vitlibar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vitlibar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vitlibar/subscriptions",
      "organizations_url": "https://api.github.com/users/vitlibar/orgs",
      "repos_url": "https://api.github.com/users/vitlibar/repos",
      "events_url": "https://api.github.com/users/vitlibar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vitlibar/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "vitlibar",
        "id": 45142681,
        "node_id": "MDQ6VXNlcjQ1MTQyNjgx",
        "avatar_url": "https://avatars1.githubusercontent.com/u/45142681?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vitlibar",
        "html_url": "https://github.com/vitlibar",
        "followers_url": "https://api.github.com/users/vitlibar/followers",
        "following_url": "https://api.github.com/users/vitlibar/following{/other_user}",
        "gists_url": "https://api.github.com/users/vitlibar/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vitlibar/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vitlibar/subscriptions",
        "organizations_url": "https://api.github.com/users/vitlibar/orgs",
        "repos_url": "https://api.github.com/users/vitlibar/repos",
        "events_url": "https://api.github.com/users/vitlibar/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vitlibar/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-27T21:08:43Z",
    "updated_at": "2020-06-24T16:12:05Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11234",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11234",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11234.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11234.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category:\r\n- New Feature\r\n\r\nChangelog entry:\r\n- Added support of LDAP authentication for preconfigured users (\"Simple Bind\" method)\r\n\r\nDetailed description:\r\n- Documented in a form of in-line comments in the sample `config.xml` and `users.xml` files. See `<ldap_servers>` and `<ldap>` tags.\r\n\r\nTODO: add testing"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11231",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11231/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11231/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11231/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11231",
    "id": 625885566,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0MDAyOTEx",
    "number": 11231,
    "title": "[WIP] Try to add possibility to use BloomFilters for probabilistic IN operations",
    "user": {
      "login": "GoToCoding",
      "id": 16542586,
      "node_id": "MDQ6VXNlcjE2NTQyNTg2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/16542586?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GoToCoding",
      "html_url": "https://github.com/GoToCoding",
      "followers_url": "https://api.github.com/users/GoToCoding/followers",
      "following_url": "https://api.github.com/users/GoToCoding/following{/other_user}",
      "gists_url": "https://api.github.com/users/GoToCoding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GoToCoding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GoToCoding/subscriptions",
      "organizations_url": "https://api.github.com/users/GoToCoding/orgs",
      "repos_url": "https://api.github.com/users/GoToCoding/repos",
      "events_url": "https://api.github.com/users/GoToCoding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GoToCoding/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-27T17:27:54Z",
    "updated_at": "2020-06-20T16:40:33Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11231",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11231",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11231.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11231.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nwill be soon\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\nwill be soon\r\n...\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11228",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11228/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11228/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11228/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11228",
    "id": 625815170,
    "node_id": "MDU6SXNzdWU2MjU4MTUxNzA=",
    "number": 11228,
    "title": "Exception in dictGetUInt32 when using in GROUP BY clause",
    "user": {
      "login": "pic-Nick",
      "id": 5773437,
      "node_id": "MDQ6VXNlcjU3NzM0Mzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5773437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pic-Nick",
      "html_url": "https://github.com/pic-Nick",
      "followers_url": "https://api.github.com/users/pic-Nick/followers",
      "following_url": "https://api.github.com/users/pic-Nick/following{/other_user}",
      "gists_url": "https://api.github.com/users/pic-Nick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pic-Nick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pic-Nick/subscriptions",
      "organizations_url": "https://api.github.com/users/pic-Nick/orgs",
      "repos_url": "https://api.github.com/users/pic-Nick/repos",
      "events_url": "https://api.github.com/users/pic-Nick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pic-Nick/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1351463315,
        "node_id": "MDU6TGFiZWwxMzUxNDYzMzE1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dictionary",
        "name": "comp-dictionary",
        "color": "b5bcff",
        "default": false,
        "description": "Dictionaries"
      },
      {
        "id": 1547429435,
        "node_id": "MDU6TGFiZWwxNTQ3NDI5NDM1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v19.14",
        "name": "v19.14",
        "color": "55007a",
        "default": false,
        "description": "Issue affects version 19.14.* or PR was manually backported to related stable branch"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      },
      {
        "id": 2070999159,
        "node_id": "MDU6TGFiZWwyMDcwOTk5MTU5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.4-affected",
        "name": "v20.4-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.4"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-27T15:48:53Z",
    "updated_at": "2020-06-05T10:49:49Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nClickHouse throws an error when the function dictGetUInt32 is used inside GROUP BY clause with first parameter passed as function if(...). On the other hand, it works normally when dictGetUInt32 is used inside SELECT clause with the same parameters. \r\n\r\n**How to reproduce**\r\nClickHouse server version 20.4.4.18\r\n\r\nStructure of 'weekendsday' dictionary ('weeksday' the same):\r\n```\r\n    <dictionary>\r\n        <name>weekendsday</name>\r\n        <source>\r\n            <file>\r\n                <path>weekendsday.tsv</path>\r\n                <format>TabSeparated</format>\r\n            </file>\r\n        </source>\r\n        <layout>\r\n            <complex_key_hashed />\r\n        </layout>\r\n        <structure>\r\n            <key>\r\n                <attribute>\r\n                    <name>wdate</name>\r\n                    <type>Date</type>\r\n                </attribute>\r\n            </key>\r\n            <attribute>\r\n                <name>id</name>\r\n                <type>UInt32</type>\r\n                <null_value>0</null_value>\r\n            </attribute>\r\n        </structure>\r\n        <lifetime>300</lifetime>\r\n    </dictionary>\r\n```\r\n \r\nThis doesn't work:\r\n```\r\nCREATE TABLE aaa (\r\n    col1 Int32,\r\n    col2 Date\r\n)\r\nEngine = Memory\r\n\r\nINSERT into aaa(col1, col2)\r\nselect 1, toDate('2020-02-01') + number FROM system.numbers limit toUInt64(toDate('2020-02-10') - toDate('2020-02-01')) + 1\r\n\r\nwith 'weekend' as grouping\r\nSELECT sum(col1)\r\nfrom aaa\r\ngroup by dictGetUInt32(if(grouping = 'weekend', 'weekendsday', 'weeksday'), 'id', tuple(col2))\r\n```\r\nThis works well:\r\n```\r\nwith 'weekend' as grouping\r\nSELECT sum(col1)\r\nfrom aaa\r\ngroup by dictGetUInt32('weekendsday', 'id', tuple(col2))\r\n```\r\nand\r\n```\r\nwith 'weekend' as grouping\r\nSELECT *, dictGetUInt32(if(grouping = 'weekend', 'weekendsday', 'weeksday'), 'id', tuple(col2))\r\nfrom aaa\r\n```\r\n\r\n**Error message and/or stacktrace**\r\n```\r\n2020.05.27 15:41:41.504288 [ 21712 ] {} <Error> DynamicQueryHandler: Code: 368, e.displayText() = DB::Exception: Bad cast from type DB::ASTFunction to DB::ASTLiteral, Stack trace (when copying this message, always include the lines below):\r\n\r\n0. Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x104191d0 in /usr/bin/clickhouse\r\n1. DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x8fff8ad in /usr/bin/clickhouse\r\n2. std::__1::enable_if<is_reference_v<DB::ASTLiteral&>, DB::ASTLiteral&>::type typeid_cast<DB::ASTLiteral&, DB::IAST>(DB::IAST&) @ 0x9144848 in /usr/bin/clickhouse\r\n3. ? @ 0xd4de863 in /usr/bin/clickhouse\r\n4. DB::SyntaxAnalyzer::analyzeSelect(std::__1::shared_ptr<DB::IAST>&, DB::SyntaxAnalyzerResult&&, DB::SelectQueryOptions const&, std::__1::vector<DB::TableWithColumnNamesAndTypes, std::__1::allocator<DB::TableWithColumnNamesAndTypes> > const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&, std::__1::shared_ptr<DB::TableJoin>) const @ 0xd4e284f in /usr/bin/clickhouse\r\n5. ? @ 0xd236379 in /usr/bin/clickhouse\r\n6. DB::InterpreterSelectQuery::InterpreterSelectQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, std::__1::shared_ptr<DB::IBlockInputStream> const&, std::__1::optional<DB::Pipe>, std::__1::shared_ptr<DB::IStorage> const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd2398ef in /usr/bin/clickhouse\r\n7. DB::InterpreterSelectQuery::InterpreterSelectQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd23afe9 in /usr/bin/clickhouse\r\n8. DB::InterpreterSelectWithUnionQuery::InterpreterSelectWithUnionQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd40c421 in /usr/bin/clickhouse\r\n9. DB::InterpreterFactory::get(std::__1::shared_ptr<DB::IAST>&, DB::Context&, DB::QueryProcessingStage::Enum) @ 0xd1a8804 in /usr/bin/clickhouse\r\n10. ? @ 0xd54951e in /usr/bin/clickhouse\r\n11. DB::executeQuery(DB::ReadBuffer&, DB::WriteBuffer&, bool, DB::Context&, std::__1::function<void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>) @ 0xd54d430 in /usr/bin/clickhouse\r\n12. DB::HTTPHandler::processQuery(Poco::Net::HTTPServerRequest&, HTMLForm&, Poco::Net::HTTPServerResponse&, DB::HTTPHandler::Output&) @ 0x90e47fc in /usr/bin/clickhouse\r\n13. DB::HTTPHandler::handleRequest(Poco::Net::HTTPServerRequest&, Poco::Net::HTTPServerResponse&) @ 0x90e8256 in /usr/bin/clickhouse\r\n14. Poco::Net::HTTPServerConnection::run() @ 0x102c9b83 in /usr/bin/clickhouse\r\n15. Poco::Net::TCPServerConnection::start() @ 0x10304f4b in /usr/bin/clickhouse\r\n16. Poco::Net::TCPServerDispatcher::run() @ 0x103053db in /usr/bin/clickhouse\r\n17. Poco::PooledThread::run() @ 0x104b2fa6 in /usr/bin/clickhouse\r\n18. Poco::ThreadImpl::runnableEntry(void*) @ 0x104ae260 in /usr/bin/clickhouse\r\n19. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so\r\n20. __clone @ 0x12188f in /lib/x86_64-linux-gnu/libc-2.27.so\r\n (version 20.4.4.18 (official build)) \r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11222",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11222/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11222/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11222/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11222",
    "id": 625629113,
    "node_id": "MDU6SXNzdWU2MjU2MjkxMTM=",
    "number": 11222,
    "title": "DateTime64 comparison is not working",
    "user": {
      "login": "kulkarnikv",
      "id": 9944640,
      "node_id": "MDQ6VXNlcjk5NDQ2NDA=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/9944640?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kulkarnikv",
      "html_url": "https://github.com/kulkarnikv",
      "followers_url": "https://api.github.com/users/kulkarnikv/followers",
      "following_url": "https://api.github.com/users/kulkarnikv/following{/other_user}",
      "gists_url": "https://api.github.com/users/kulkarnikv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kulkarnikv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kulkarnikv/subscriptions",
      "organizations_url": "https://api.github.com/users/kulkarnikv/orgs",
      "repos_url": "https://api.github.com/users/kulkarnikv/repos",
      "events_url": "https://api.github.com/users/kulkarnikv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kulkarnikv/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1481221764,
        "node_id": "MDU6TGFiZWwxNDgxMjIxNzY0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-datetime",
        "name": "comp-datetime",
        "color": "b5bcff",
        "default": false,
        "description": "date & time & timezone related"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-27T11:53:09Z",
    "updated_at": "2020-06-01T12:34:35Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "SQL queries with DateTime64 comparison are returning 0 records. Casting to Date (using toDate) or DateTime (using toDateTime) works. \r\n\r\nclickhosue version - 20.4.4\r\n``` sql\r\n:) show create table android.item_purchased\r\n\r\nCREATE TABLE android.item_purchased\r\n(\r\n    `event_name` String, \r\n    `event_time` DateTime64(3), \r\n    `reporting_time` DateTime64(3), \r\n    `post_type` String, \r\n    `client_ip` String, \r\n    `event_id` String\r\n)\r\nENGINE = MergeTree()\r\nPARTITION BY toDate(event_time)\r\nORDER BY event_time\r\nSETTINGS index_granularity = 8192 \r\n```\r\n**Working**\r\n``` sql\r\n:) select event_time from android.item_purchased\r\nSELECT event_time\r\nFROM android.item_purchased\r\n┌──────────────event_time─┐\r\n│ 2020-05-25 14:37:35.864 │\r\n│ 2020-05-25 14:37:35.864 │\r\n└─────────────────────────┘\r\n2 rows in set. Elapsed: 0.026 sec. \r\n```\r\n**Not working**\r\n``` sql\r\n:) select event_time from android.item_purchased where event_time between '2020-01-01' and '2020-12-31'\r\n\r\nSELECT event_time\r\nFROM android.item_purchased\r\nWHERE (event_time >= '2020-01-01') AND (event_time <= '2020-12-31')\r\nOk.\r\n0 rows in set. Elapsed: 0.007 sec. \r\n```\r\n**Not working**\r\n``` sql\r\n:) select event_time from android.item_purchased where event_time between '2020-01-01 00:00:00.000' and '2020-12-31 00:00:00.000'\r\n\r\nSELECT event_time\r\nFROM android.item_purchased\r\nWHERE (event_time >= '2020-01-01 00:00:00.000') AND (event_time <= '2020-12-31 00:00:00.000')\r\n\r\nOk.\r\n\r\n0 rows in set. Elapsed: 0.011 sec. \r\n```\r\n**Working with toDate()**\r\n``` sql\r\n:) select event_time from android.item_purchased where toDate(event_time) between '2020-01-01' and '2020-12-31'\r\n\r\nSELECT event_time\r\nFROM android.item_purchased\r\nWHERE (toDate(event_time) >= '2020-01-01') AND (toDate(event_time) <= '2020-12-31')\r\n\r\n┌──────────────event_time─┐\r\n│ 2020-05-25 14:37:35.864 │\r\n│ 2020-05-25 14:37:35.864 │\r\n└─────────────────────────┘\r\n```\r\n**Working with toDateTime()**\r\n``` sql\r\n:) select event_time from android.item_purchased where toDateTime(event_time) between '2020-01-01 00:00:00' and '2020-12-31 00:00:00'\r\n\r\nSELECT event_time\r\nFROM android.item_purchased\r\nWHERE (toDateTime(event_time) >= '2020-01-01 00:00:00') AND (toDateTime(event_time) <= '2020-12-31 00:00:00')\r\n\r\n┌──────────────event_time─┐\r\n│ 2020-05-25 14:37:35.864 │\r\n│ 2020-05-25 14:37:35.864 │\r\n└─────────────────────────┘\r\n\r\n2 rows in set. Elapsed: 0.026 sec. \r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11217",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11217/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11217/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11217/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11217",
    "id": 625442753,
    "node_id": "MDU6SXNzdWU2MjU0NDI3NTM=",
    "number": 11217,
    "title": "Simple not ... clause fails with \"Memory limit exceeded\" while rewrited as != works just fine",
    "user": {
      "login": "WiPiton",
      "id": 6258132,
      "node_id": "MDQ6VXNlcjYyNTgxMzI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/6258132?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WiPiton",
      "html_url": "https://github.com/WiPiton",
      "followers_url": "https://api.github.com/users/WiPiton/followers",
      "following_url": "https://api.github.com/users/WiPiton/following{/other_user}",
      "gists_url": "https://api.github.com/users/WiPiton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WiPiton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WiPiton/subscriptions",
      "organizations_url": "https://api.github.com/users/WiPiton/orgs",
      "repos_url": "https://api.github.com/users/WiPiton/repos",
      "events_url": "https://api.github.com/users/WiPiton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WiPiton/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1507860028,
        "node_id": "MDU6TGFiZWwxNTA3ODYwMDI4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-repro",
        "name": "st-need-repro",
        "color": "e5b890",
        "default": false,
        "description": "We were not able to reproduce the problem, please help us."
      },
      {
        "id": 1575085465,
        "node_id": "MDU6TGFiZWwxNTc1MDg1NDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/unexpected%20behaviour",
        "name": "unexpected behaviour",
        "color": "e088ca",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-27T07:16:16Z",
    "updated_at": "2020-05-27T15:30:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hello!\r\n\r\nI have some query (auto-generated by BI system), which have **not (`tbd_route_d`.`id` = '-')** clause.\r\nIt produces **Memory limit (for query) exceeded ... exception**.\r\n\r\nWhen I rewrite it as **`tbd_route_d`.`id` != '-'** all works perfectly fine (and fast!)\r\n\r\nWhy such a different behaviour for functionally identical queries? Maybe add detection of such simple **not's** to treat them as **!=** ?\r\n\r\nPS: build is **20.3.8.53**"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11215",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11215/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11215/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11215/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11215",
    "id": 625353244,
    "node_id": "MDU6SXNzdWU2MjUzNTMyNDQ=",
    "number": 11215,
    "title": "WHERE 1 or WHERE 1=1 causes bugs when using GLOBAL JOIN",
    "user": {
      "login": "toannhu96",
      "id": 54266244,
      "node_id": "MDQ6VXNlcjU0MjY2MjQ0",
      "avatar_url": "https://avatars1.githubusercontent.com/u/54266244?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/toannhu96",
      "html_url": "https://github.com/toannhu96",
      "followers_url": "https://api.github.com/users/toannhu96/followers",
      "following_url": "https://api.github.com/users/toannhu96/following{/other_user}",
      "gists_url": "https://api.github.com/users/toannhu96/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/toannhu96/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/toannhu96/subscriptions",
      "organizations_url": "https://api.github.com/users/toannhu96/orgs",
      "repos_url": "https://api.github.com/users/toannhu96/repos",
      "events_url": "https://api.github.com/users/toannhu96/events{/privacy}",
      "received_events_url": "https://api.github.com/users/toannhu96/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1357578153,
        "node_id": "MDU6TGFiZWwxMzU3NTc4MTUz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-joins",
        "name": "comp-joins",
        "color": "b5bcff",
        "default": false,
        "description": "JOINs"
      },
      {
        "id": 1397892658,
        "node_id": "MDU6TGFiZWwxMzk3ODkyNjU4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/obsolete-version",
        "name": "obsolete-version",
        "color": "dddddd",
        "default": false,
        "description": ""
      },
      {
        "id": 1674646749,
        "node_id": "MDU6TGFiZWwxNjc0NjQ2NzQ5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v19.17",
        "name": "v19.17",
        "color": "55007a",
        "default": false,
        "description": "Issue affects version 19.17.* or PR was manually backported to related stable branch"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-27T03:44:22Z",
    "updated_at": "2020-06-18T06:06:38Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nI use **GLOBAL ANY LEFT JOIN** to join metadata table with fact table.\r\nWhen I use **WHERE 1=1** to add additional conditions with **AND...** then it return nothings when left join with metadata table\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use: **19.17**\r\n* Which interface to use, if matters: **DataGrip**\r\n* Queries to run that lead to unexpected result`\r\n\r\n```\r\nSELECT *\r\nFROM (\r\n      SELECT *\r\n      FROM cdp.recommendation_metadata_prod\r\n      GLOBAL ANY\r\n      LEFT JOIN\r\n           (SELECT recommend_id       AS uuid,\r\n                   sum(sends)         AS sends,\r\n                   sum(opens)         AS opens,\r\n                   sum(clicks)        AS clicks,\r\n                   sum(unique_clicks) AS unique_clicks,\r\n                   sum(unique_opens)  AS unique_opens,\r\n                   sum(orders)        AS orders,\r\n                   sum(revenue)       AS revenue,\r\n                   sum(activations)   AS activations,\r\n                   sum(revenue_gmv)   AS revenue_gmv,\r\n                   sum(revenue_cmv)   AS revenue_cmv,\r\n                   sum(revenue_nmv)   AS revenue_nmv,\r\n                   sum(orders_nmv)    AS orders_nmv,\r\n                   sum(orders_cmv)    AS orders_cmv\r\n            FROM (SELECT date_key,\r\n                         recommend_id,\r\n                         sends,\r\n                         opens,\r\n                         clicks,\r\n                         unique_clicks,\r\n                         unique_opens,\r\n                         orders,\r\n                         transaction_revenue AS revenue,\r\n                         activations,\r\n                         transaction_gmv     AS revenue_gmv,\r\n                         cmv                 AS revenue_cmv,\r\n                         nmv                 AS revenue_nmv,\r\n                         net_orders          AS orders_nmv,\r\n                         confirmed_orders    AS orders_cmv\r\n                  FROM cdp.view_campaign_performance\r\n                  WHERE date_key BETWEEN '2020-05-21' AND '2020-05-27'\r\n                        AND isNotNull(recommend_id)\r\n                        AND notEmpty(recommend_id)\r\n\r\n                  UNION ALL\r\n\r\n                  SELECT date_key,\r\n                         recommend_id,\r\n                         sends,\r\n                         opens,\r\n                         clicks,\r\n                         unique_clicks,\r\n                         unique_opens,\r\n                         total_orders  AS orders,\r\n                         total_revenue AS revenue,\r\n                         activations,\r\n                         0.0           AS revenue_gmv,\r\n                         0.0           AS revenue_cmv,\r\n                         0.0           AS revenue_nmv,\r\n                         0             AS orders_nmv,\r\n                         0             AS orders_cmv\r\n                  FROM cdp.realtime_campaign_performance\r\n                  WHERE date_key BETWEEN '2020-05-21' AND '2020-05-27'\r\n                        AND isNotNull(recommend_id)\r\n                        AND notEmpty(recommend_id)\r\n             )\r\n            GROUP BY uuid)\r\n      USING (uuid)\r\n      WHERE 1=1\r\n      ORDER BY event_time DESC\r\n      LIMIT 1 BY uuid)\r\n ORDER BY created_at DESC\r\nLIMIT 10 OFFSET 0;\r\n```\r\n\r\n**With WHERE 1=1**\r\n<img width=\"946\" alt=\"Screen Shot 2020-05-27 at 10 35 29\" src=\"https://user-images.githubusercontent.com/54266244/82975534-f0e4dd00-a006-11ea-8cdf-3e349c3743e7.png\">\r\n\r\n**Without WHERE 1=1**\r\n<img width=\"957\" alt=\"Screen Shot 2020-05-27 at 10 35 01\" src=\"https://user-images.githubusercontent.com/54266244/82975530-ed515600-a006-11ea-9044-b86733150124.png\">\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11210",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11210/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11210/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11210/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11210",
    "id": 624990478,
    "node_id": "MDU6SXNzdWU2MjQ5OTA0Nzg=",
    "number": 11210,
    "title": "Pass virtual column from inner table to materialized view",
    "user": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1350221495,
        "node_id": "MDU6TGFiZWwxMzUwMjIxNDk1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-matview",
        "name": "comp-matview",
        "color": "b5bcff",
        "default": false,
        "description": "Materialized views"
      },
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      },
      {
        "id": 1365579236,
        "node_id": "MDU6TGFiZWwxMzY1NTc5MjM2",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/prio-minor",
        "name": "prio-minor",
        "color": "ac7fef",
        "default": false,
        "description": "Priority: minor"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-26T15:50:08Z",
    "updated_at": "2020-05-26T15:50:08Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "```\r\ncreate table x engine=MergeTree ORDER BY tuple() as select * from numbers(100);\r\ncreate materialized view x_mv engine=MergeTree ORDER BY tuple() as select * from x;\r\ninsert into x select * from numbers(100);\r\n```\r\n\r\nThat works: \r\n```\r\nselect _part, count() from `.inner.x_mv` group by _part;\r\n\r\nSELECT \r\n    _part, \r\n    count()\r\nFROM `.inner.x_mv`\r\nGROUP BY _part\r\n\r\n┌─_part─────┬─count()─┐\r\n│ all_1_1_0 │     100 │\r\n└───────────┴─────────┘\r\n\r\n1 rows in set. Elapsed: 0.004 sec.\r\n```\r\n\r\nThat - not:\r\n```\r\nselect _part, count() from x_mv group by _part;\r\nReceived exception from server (version 20.5.1):\r\nCode: 47. DB::Exception: Received from localhost:9000. DB::Exception: Missing columns: '_part' while processing query: 'SELECT _part, count() FROM x_mv GROUP BY _part', required columns: '_part', source columns: 'number'. \r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11204",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11204/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11204/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11204/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11204",
    "id": 624873066,
    "node_id": "MDU6SXNzdWU2MjQ4NzMwNjY=",
    "number": 11204,
    "title": "Implement a way to ALTER unreplicated tables ON CLUSTER with internal_replication=true",
    "user": {
      "login": "Felixoid",
      "id": 3025537,
      "node_id": "MDQ6VXNlcjMwMjU1Mzc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3025537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Felixoid",
      "html_url": "https://github.com/Felixoid",
      "followers_url": "https://api.github.com/users/Felixoid/followers",
      "following_url": "https://api.github.com/users/Felixoid/following{/other_user}",
      "gists_url": "https://api.github.com/users/Felixoid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Felixoid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Felixoid/subscriptions",
      "organizations_url": "https://api.github.com/users/Felixoid/orgs",
      "repos_url": "https://api.github.com/users/Felixoid/repos",
      "events_url": "https://api.github.com/users/Felixoid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Felixoid/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-26T13:12:36Z",
    "updated_at": "2020-05-26T13:12:36Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Use case**\r\nCurrently, it's impossible to use `ALTER TABLE .. ON CLUSTER` DDL for non-Replicated engines (except Distributed) without defining an extra cluster. Related issues are #10769, #3268 (and I'm sure even more)\r\n\r\n**Describe the solution you'd like**\r\nI've tried to implement this feature in #11082, but it's impossible in the current implementation. Here's a quote from CH-devs telegram group https://t.me/c/1425947904/5777 :\r\n\r\n> Есть способ в таску записать настройку или я копаю не туда?\r\n\r\n> В текущем варианте нет. DDL-запрос исполняется с копией глобального контекста. У меня вообще желаение там основательно покопаться, сейчас пользователи часто жалуются (по моим наблюдениям), а функциональность популярная.  \r\n> Но вполне можно аккуратно добавить какие-то настройки, будет правда несовместимо при апдейте, но я почти уверен, что что-то несовместимое с ним всё равно нужно будет сделать.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11202",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11202/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11202/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11202/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11202",
    "id": 624857480,
    "node_id": "MDU6SXNzdWU2MjQ4NTc0ODA=",
    "number": 11202,
    "title": "clickhouse-local Not found: application.baseName",
    "user": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 993003747,
        "node_id": "MDU6TGFiZWw5OTMwMDM3NDc=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-cli",
        "name": "comp-cli",
        "color": "b5bcff",
        "default": false,
        "description": "Console & command line"
      },
      {
        "id": 2079355812,
        "node_id": "MDU6TGFiZWwyMDc5MzU1ODEy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-local",
        "name": "comp-local",
        "color": "b5bcff",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-26T12:48:51Z",
    "updated_at": "2020-05-26T12:59:11Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "```\r\nclickhouse-local --help | grep log\r\n  --logger.log arg                                                 Log file name\r\n  --logger.level arg                                               Log level\r\n\r\nclickhouse-local -q 'select 1' --logger.log=log.txt\r\nPoco::Exception. Code: 1000, e.code() = 0, e.displayText() = Not found: application.baseName, Stack trace (when copying this message, always include the lines below):\r\n0. /build/obj-x86_64-linux-gnu/../contrib/poco/Foundation/src/Exception.cpp:27: Poco::NotFoundException::NotFoundException(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x1065e000 in /usr/lib/debug/usr/bin/clickhouse\r\n1. /build/obj-x86_64-linux-gnu/../contrib/poco/Util/src/AbstractConfiguration.cpp:77: Poco::Util::AbstractConfiguration::getString(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const (.cold) @ 0x105834ba in /usr/lib/debug/usr/bin/clickhouse\r\n2. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/string:2134: Poco::Util::Application::commandName() const @ 0x10589761 in /usr/lib/debug/usr/bin/clickhouse\r\n3. /build/obj-x86_64-linux-gnu/../contrib/poco/Util/include/Poco/Util/Application.h:438: DB::LocalServer::initialize(Poco::Util::Application&) @ 0x92c9e57 in /usr/lib/debug/usr/bin/clickhouse\r\n4. /build/obj-x86_64-linux-gnu/../contrib/poco/Util/src/Application.cpp:334: Poco::Util::Application::run() @ 0x10589239 in /usr/lib/debug/usr/bin/clickhouse\r\n5. /build/obj-x86_64-linux-gnu/../programs/local/LocalServer.cpp:516: mainEntryClickHouseLocal(int, char**) @ 0x92c9b76 in /usr/lib/debug/usr/bin/clickhouse\r\n6. /build/obj-x86_64-linux-gnu/../contrib/libcxx/include/vector:461: main @ 0x91498f9 in /usr/lib/debug/usr/bin/clickhouse\r\n7. /build/glibc-OTsEL5/glibc-2.27/csu/../csu/libc-start.c:344: __libc_start_main @ 0x21b97 in /usr/lib/debug/lib/x86_64-linux-gnu/libc-2.27.so\r\n8. _start @ 0x914902e in /usr/lib/debug/usr/bin/clickhouse\r\n (version 20.5.1.3327 (official build))\r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11201",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11201/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11201/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11201/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11201",
    "id": 624818576,
    "node_id": "MDU6SXNzdWU2MjQ4MTg1NzY=",
    "number": 11201,
    "title": "table with Dictionary engine lead to server start failed",
    "user": {
      "login": "jackpgao",
      "id": 3423412,
      "node_id": "MDQ6VXNlcjM0MjM0MTI=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3423412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jackpgao",
      "html_url": "https://github.com/jackpgao",
      "followers_url": "https://api.github.com/users/jackpgao/followers",
      "following_url": "https://api.github.com/users/jackpgao/following{/other_user}",
      "gists_url": "https://api.github.com/users/jackpgao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jackpgao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jackpgao/subscriptions",
      "organizations_url": "https://api.github.com/users/jackpgao/orgs",
      "repos_url": "https://api.github.com/users/jackpgao/repos",
      "events_url": "https://api.github.com/users/jackpgao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jackpgao/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1351463315,
        "node_id": "MDU6TGFiZWwxMzUxNDYzMzE1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dictionary",
        "name": "comp-dictionary",
        "color": "b5bcff",
        "default": false,
        "description": "Dictionaries"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-26T11:41:14Z",
    "updated_at": "2020-05-31T02:11:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "- `vip_did` is one of my dictionaries with right configuration.\r\n\r\n- update to version `20.4.3.16-2` cann't start successful.\r\n\r\n- err msg as below.\r\n\r\n```\r\n2020.05.26 17:31:07.294039 [ 47314 ] {} <Error> ThreadPool: Exception in ThreadPool(max_threads: 24, max_free_threads: 24, queue_size: 24, shutdown_on_exception: 1).: Code: 36, e.displayText() = DB::Exception: external dictionary 'vip_did' not found: Cannot attach table `bip`.`vip_did` from metadata file /data1/clickhouse/metadata/bip/vip_did.sql from query ATTACH TABLE vip_did (`app` String, `name` String, `did` String) ENGINE = Dictionary('vip_did'), Stack trace (when copying this message, always include the lines below):\r\n\r\n0. Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10418760 in ?\r\n1. DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x8fff8ad in ?\r\n2. ? @ 0xd04f4d1 in ?\r\n3. std::__1::shared_ptr<DB::IExternalLoadable const> DB::ExternalLoader::load<std::__1::shared_ptr<DB::IExternalLoadable const>, void>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const @ 0xd05b153 in ?\r\n4. ? @ 0xd660cdc in ?\r\n5. DB::StorageFactory::get(DB::ASTCreateQuery const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, DB::Context&, DB::ColumnsDescription const&, DB::ConstraintsDescription const&, bool) const @ 0xd68257d in ?\r\n6. DB::createTableFromAST(DB::ASTCreateQuery, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, bool) @ 0xd03e227 in ?\r\n7. ? @ 0xd030578 in ?\r\n8. ? @ 0xd030f32 in ?\r\n9. ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::__1::__list_iterator<ThreadFromGlobalPool, void*>) @ 0x90263ab in ?\r\n10. ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...)::'lambda'()::operator()() const @ 0x902717a in ?\r\n11. ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x902526b in ?\r\n12. ? @ 0x9023753 in ?\r\n13. start_thread @ 0x7dc5 in /usr/lib64/libpthread-2.17.so\r\n14. clone @ 0xf773d in /usr/lib64/libc-2.17.so\r\n (version 20.4.3.16 (official build))\r\n```\r\n\r\n\r\n- what I do is to remove the table, and recreate it after server start.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11195",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11195/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11195/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11195/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11195",
    "id": 624649456,
    "node_id": "MDU6SXNzdWU2MjQ2NDk0NTY=",
    "number": 11195,
    "title": "Distributed engine data loss",
    "user": {
      "login": "pcode93",
      "id": 11965515,
      "node_id": "MDQ6VXNlcjExOTY1NTE1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/11965515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcode93",
      "html_url": "https://github.com/pcode93",
      "followers_url": "https://api.github.com/users/pcode93/followers",
      "following_url": "https://api.github.com/users/pcode93/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcode93/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcode93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcode93/subscriptions",
      "organizations_url": "https://api.github.com/users/pcode93/orgs",
      "repos_url": "https://api.github.com/users/pcode93/repos",
      "events_url": "https://api.github.com/users/pcode93/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcode93/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1634829961,
        "node_id": "MDU6TGFiZWwxNjM0ODI5OTYx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-distributed",
        "name": "comp-distributed",
        "color": "b5bcff",
        "default": false,
        "description": "Distributed tables"
      },
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-26T07:07:20Z",
    "updated_at": "2020-05-26T15:27:24Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hey, I'm using a Distributed engine on top of a replicated table. \r\nI want to insert data using the Distributed table (instead of inserting directly into replicas).\r\n\r\nThe documentation states that\r\n```If the server ceased to exist or had a rough restart (for example, after a device failure) after an INSERT to a Distributed table, the inserted data might be lost```\r\n\r\nCan such data loss be prevented ? Would using `insert_distributed_sync` help?"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11193",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11193/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11193/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11193/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11193",
    "id": 624581367,
    "node_id": "MDU6SXNzdWU2MjQ1ODEzNjc=",
    "number": 11193,
    "title": "How to set maximum number of merge threads in the background via parameters?",
    "user": {
      "login": "BernieJiangDL",
      "id": 16134828,
      "node_id": "MDQ6VXNlcjE2MTM0ODI4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/16134828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BernieJiangDL",
      "html_url": "https://github.com/BernieJiangDL",
      "followers_url": "https://api.github.com/users/BernieJiangDL/followers",
      "following_url": "https://api.github.com/users/BernieJiangDL/following{/other_user}",
      "gists_url": "https://api.github.com/users/BernieJiangDL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BernieJiangDL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BernieJiangDL/subscriptions",
      "organizations_url": "https://api.github.com/users/BernieJiangDL/orgs",
      "repos_url": "https://api.github.com/users/BernieJiangDL/repos",
      "events_url": "https://api.github.com/users/BernieJiangDL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BernieJiangDL/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-26T03:44:51Z",
    "updated_at": "2020-05-27T04:15:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Is there any parameters in the config.xml to set maximum number of background merge threads besides set \"parts_to_throw_insert\" and batchsize of inserts?\r\n\r\nThe 'Too many parts ...' exception happens sometime when inserting batch of  parts into multiple partitions."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11191",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11191/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11191/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11191/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11191",
    "id": 624525494,
    "node_id": "MDU6SXNzdWU2MjQ1MjU0OTQ=",
    "number": 11191,
    "title": "Skip useless values in primary key in memory.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-25T23:58:23Z",
    "updated_at": "2020-05-29T19:24:01Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Suppose there is primary key `(x, y)` when `x` is arbitrary column and `y` is variable length column like `String`.\r\n\r\nWhen loading index in memory, we can avoid storing actual value of y if the value of x is different from the value in previous and next mark. We can store default value instead.\r\n\r\nExample:\r\n\r\nInstead of:\r\n`... (123, 'hello'), (124, 'world'), (125, 'goodbye') ...`\r\n\r\nWe can store:\r\n`... (123, 'hello'), (124, ''), (125, 'goodbye') ...`\r\n\r\nBecause 124 is not equal to 123 and 125.\r\nAnd the actual value of `y` column is not important."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11189",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11189/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11189/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11189/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11189",
    "id": 624505576,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyOTEyNjM3",
    "number": 11189,
    "title": "Avoid overallocation of memory in PODArray (experiment)",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1874596525,
        "node_id": "MDU6TGFiZWwxODc0NTk2NTI1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/no-docs-needed",
        "name": "no-docs-needed",
        "color": "efefef",
        "default": false,
        "description": ""
      },
      {
        "id": 1309683578,
        "node_id": "MDU6TGFiZWwxMzA5NjgzNTc4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-performance",
        "name": "pr-performance",
        "color": "007700",
        "default": false,
        "description": "Pull request with some performance improvements"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-25T22:23:20Z",
    "updated_at": "2020-06-09T02:04:00Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11189",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11189",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11189.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11189.patch"
    },
    "body": "Changelog category (leave one):\r\n- Performance Improvement\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nReduce memory usage for index and in some other cases.\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n`PODArray` has 2 times growth when `push_back`, `emplace_back` or `insert` needs to reallocate. It works exactly in the same way as `std::vector`.\r\n\r\nBut we also have rounding to the nearest power of two on construct, `assign` and `reserve`, so we allocate more memory than needed.\r\n\r\nIt helps in some cases, for example it helps to avoid huge performance drop when programmer erroneously writes `vec.reserve(vec.size() + 1)` or something similar in a loop.\r\n\r\nProbably we have some cases like this and they will slow down. Need to check performance test and then check all 482 usages of `reserve` in our code base.\r\n\r\nBut also this behaviour leads to memory overallocation in cases when we are filling array once and never going to insert more after that.\r\n\r\nAlternative solutions: provide a method `reserve_exact` and leave `reserve` as is."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11188",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11188/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11188/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11188/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11188",
    "id": 624496979,
    "node_id": "MDU6SXNzdWU2MjQ0OTY5Nzk=",
    "number": 11188,
    "title": "Protection from too large size of index in memory.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1532016596,
        "node_id": "MDU6TGFiZWwxNTMyMDE2NTk2",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/memory",
        "name": "memory",
        "color": "e99695",
        "default": false,
        "description": "Memory leaks & allocation issues"
      },
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-25T21:48:10Z",
    "updated_at": "2020-05-25T22:31:24Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "The user may accidentially create a table with index_granularity = 1 and insert many rows.\r\nIn this case, the size of primary.idx may become too large, it will lead to OOM and subsequent infinite loop of OOM after startup."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11177",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11177/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11177/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11177/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11177",
    "id": 624107815,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyNTk1NjA3",
    "number": 11177,
    "title": "Added `allow_merges` option for volumes in multi-disk configuration",
    "user": {
      "login": "excitoon",
      "id": 2255111,
      "node_id": "MDQ6VXNlcjIyNTUxMTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2255111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/excitoon",
      "html_url": "https://github.com/excitoon",
      "followers_url": "https://api.github.com/users/excitoon/followers",
      "following_url": "https://api.github.com/users/excitoon/following{/other_user}",
      "gists_url": "https://api.github.com/users/excitoon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/excitoon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/excitoon/subscriptions",
      "organizations_url": "https://api.github.com/users/excitoon/orgs",
      "repos_url": "https://api.github.com/users/excitoon/repos",
      "events_url": "https://api.github.com/users/excitoon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/excitoon/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      },
      {
        "id": 1507864673,
        "node_id": "MDU6TGFiZWwxNTA3ODY0Njcz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-waiting-for-fix",
        "name": "st-waiting-for-fix",
        "color": "e5b890",
        "default": false,
        "description": "We verified the report, and was able to reproduce that. Bug is waiting to be fixed."
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "Akazz",
      "id": 9271526,
      "node_id": "MDQ6VXNlcjkyNzE1MjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9271526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Akazz",
      "html_url": "https://github.com/Akazz",
      "followers_url": "https://api.github.com/users/Akazz/followers",
      "following_url": "https://api.github.com/users/Akazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Akazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Akazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Akazz/subscriptions",
      "organizations_url": "https://api.github.com/users/Akazz/orgs",
      "repos_url": "https://api.github.com/users/Akazz/repos",
      "events_url": "https://api.github.com/users/Akazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Akazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "Akazz",
        "id": 9271526,
        "node_id": "MDQ6VXNlcjkyNzE1MjY=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/9271526?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Akazz",
        "html_url": "https://github.com/Akazz",
        "followers_url": "https://api.github.com/users/Akazz/followers",
        "following_url": "https://api.github.com/users/Akazz/following{/other_user}",
        "gists_url": "https://api.github.com/users/Akazz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Akazz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Akazz/subscriptions",
        "organizations_url": "https://api.github.com/users/Akazz/orgs",
        "repos_url": "https://api.github.com/users/Akazz/repos",
        "events_url": "https://api.github.com/users/Akazz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Akazz/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-25T07:36:53Z",
    "updated_at": "2020-06-23T09:53:40Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11177",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11177",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11177.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11177.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\nAdded `allow_merges` option for volumes in multi-disk configuration.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11167",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11167/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11167/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11167/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11167",
    "id": 623873840,
    "node_id": "MDU6SXNzdWU2MjM4NzM4NDA=",
    "number": 11167,
    "title": "Buffer Table not clearing | merge table always merging | ttl not cleared ",
    "user": {
      "login": "shivakumarss",
      "id": 32130187,
      "node_id": "MDQ6VXNlcjMyMTMwMTg3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/32130187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shivakumarss",
      "html_url": "https://github.com/shivakumarss",
      "followers_url": "https://api.github.com/users/shivakumarss/followers",
      "following_url": "https://api.github.com/users/shivakumarss/following{/other_user}",
      "gists_url": "https://api.github.com/users/shivakumarss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shivakumarss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shivakumarss/subscriptions",
      "organizations_url": "https://api.github.com/users/shivakumarss/orgs",
      "repos_url": "https://api.github.com/users/shivakumarss/repos",
      "events_url": "https://api.github.com/users/shivakumarss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shivakumarss/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-24T14:18:55Z",
    "updated_at": "2020-05-24T14:36:11Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "- I have clickhouse installed in a machine with following configurations.\r\n  - 16 GB RAM\r\n  - 4 cpu core\r\n  - 1.5 TB Non SSD Machine.\r\n\r\n- There is a table with 80 columns which is of mergeTree Table. It has a ttl of 5 days. \r\n- Every day on an average we ingest around 250 ~ million rows.\r\n- This ingestion is happening from a spark cluster in a batch of 250,000 rows.\r\n- This ingestion is happening in buffer table.  with default configuration. ( from buffer table it is automatically going to destination table ) .\r\n- Concurrent ingestion threads 3.\r\n- This table has around 5300 partitions. \r\n  - SELECT     partition,    name,    active FROM system.parts WHERE table = '{table}'\r\n\r\nI have noticed couple of things : \r\n\r\n1. Buffer table is not getting cleared, it still has a count of 5 days data.\r\n2. Looks like the merge is ever ending . pls have a look at the attached logs. \r\n[merge_logs.txt](https://github.com/ClickHouse/clickhouse-jdbc/files/4673673/merge_logs.txt)\r\n3. Even thought i have set a ttl on the main table of 5 day. it has data of 7 days.\r\n\r\n\r\nCan you please help me with these 3 queries. \r\n\r\nThanks.\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11160",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11160/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11160/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11160/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11160",
    "id": 623752375,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyMzM0MDAx",
    "number": 11160,
    "title": "Parse user agent header",
    "user": {
      "login": "lll-phill-lll",
      "id": 33665449,
      "node_id": "MDQ6VXNlcjMzNjY1NDQ5",
      "avatar_url": "https://avatars0.githubusercontent.com/u/33665449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lll-phill-lll",
      "html_url": "https://github.com/lll-phill-lll",
      "followers_url": "https://api.github.com/users/lll-phill-lll/followers",
      "following_url": "https://api.github.com/users/lll-phill-lll/following{/other_user}",
      "gists_url": "https://api.github.com/users/lll-phill-lll/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lll-phill-lll/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lll-phill-lll/subscriptions",
      "organizations_url": "https://api.github.com/users/lll-phill-lll/orgs",
      "repos_url": "https://api.github.com/users/lll-phill-lll/repos",
      "events_url": "https://api.github.com/users/lll-phill-lll/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lll-phill-lll/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-23T22:18:17Z",
    "updated_at": "2020-06-09T02:04:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11160",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11160",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11160.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11160.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n- Bug Fix\r\n- Improvement\r\n- Performance Improvement\r\n- Backward Incompatible Change\r\n- Build/Testing/Packaging Improvement\r\n- Documentation (changelog entry is not required)\r\n- Other\r\n- Not for changelog (changelog entry is not required)\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11154",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11154/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11154/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11154/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11154",
    "id": 623537506,
    "node_id": "MDU6SXNzdWU2MjM1Mzc1MDY=",
    "number": 11154,
    "title": "generateRandom: Bad get: has UInt64, requested String",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-23T00:56:02Z",
    "updated_at": "2020-05-23T09:24:34Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "```\r\n/4/ :) select * from generateRandom(1, 10, 10)\r\n\r\nReceived exception from server (version 20.5.1):\r\nCode: 170. DB::Exception: Received from localhost:9000. DB::Exception: Bad get: has UInt64, requested String. Stack trace:\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11138",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11138/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11138/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11138/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11138",
    "id": 623143342,
    "node_id": "MDU6SXNzdWU2MjMxNDMzNDI=",
    "number": 11138,
    "title": "Add gcc-10 to CI.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 521113272,
        "node_id": "MDU6TGFiZWw1MjExMTMyNzI=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/build",
        "name": "build",
        "color": "d93f0b",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-22T11:27:28Z",
    "updated_at": "2020-05-22T13:37:13Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "It was released and now we have to start support it."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11135",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11135/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11135/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11135/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11135",
    "id": 623125007,
    "node_id": "MDU6SXNzdWU2MjMxMjUwMDc=",
    "number": 11135,
    "title": "Ambiguous column error for remote() tables",
    "user": {
      "login": "zhuyoucui0909",
      "id": 31003798,
      "node_id": "MDQ6VXNlcjMxMDAzNzk4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/31003798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhuyoucui0909",
      "html_url": "https://github.com/zhuyoucui0909",
      "followers_url": "https://api.github.com/users/zhuyoucui0909/followers",
      "following_url": "https://api.github.com/users/zhuyoucui0909/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhuyoucui0909/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhuyoucui0909/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhuyoucui0909/subscriptions",
      "organizations_url": "https://api.github.com/users/zhuyoucui0909/orgs",
      "repos_url": "https://api.github.com/users/zhuyoucui0909/repos",
      "events_url": "https://api.github.com/users/zhuyoucui0909/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhuyoucui0909/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845271686,
        "node_id": "MDU6TGFiZWw4NDUyNzE2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/backward%20compatibility",
        "name": "backward compatibility",
        "color": "28af63",
        "default": false,
        "description": ""
      },
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1634829961,
        "node_id": "MDU6TGFiZWwxNjM0ODI5OTYx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-distributed",
        "name": "comp-distributed",
        "color": "b5bcff",
        "default": false,
        "description": "Distributed tables"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 10,
    "created_at": "2020-05-22T10:51:40Z",
    "updated_at": "2020-06-04T08:56:56Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "\r\n**Describe the issue**\r\n\r\nThere is ambiguous column error on version 20.3.8.53 for distributed table. The same sql run correct on version 19.14.7.15.\r\n\r\n**How to reproduce**\r\nTo simplify the reproducing steps, I use remote query on two hosts to substitute the query on distributed table.\r\n\r\n1. prepare table and data on host1 and host2\r\n\r\n`create table test.fact (id1 Int64, id2 Int64, value Int64) ENGINE = MergeTree() ORDER BY id1;`\r\n`create table test.dimension (id1 Int64, name String) ENGINE = MergeTree() ORDER BY id1;`\r\n`insert into test.fact values (1,2,10),(2,2,10),(3,3,10),(4,3,10);`\r\n`insert into test.dimension values (1,'name_1'),(2,'name_1'),(3,'name_3'),(4, 'name_4');`\r\n\r\n2. run sql on both host1 and host2 is correct\r\n`SELECT \r\n    f.id1 AS ID, \r\n    d.name AS Name, \r\n    sum(f.value)\r\nFROM test.fact AS f\r\nLEFT JOIN test.dimension AS d ON f.id1 = d.id1\r\nWHERE f.id1 = f.id2\r\nGROUP BY \r\n    ID, \r\n    Name`\r\n\r\nResult\r\n\r\n┌─ID─┬─Name───┬─sum(value)─┐\r\n│  2 │ name_1 │         10 │\r\n│  3 │ name_3 │         10 │\r\n└────┴────────┴────────────┘\r\n\r\n3. But, run the sql based on two remote hosts is not correct. Run on host1, reports error on host2. Run on host2, report error on host1.\r\n`SELECT \r\n    f.id1 AS ID, \r\n    d.name AS Name, \r\n    sum(f.value)\r\nFROM remote('{{host1}},{{host2}}', test.fact, 'default', '') AS f\r\nLEFT JOIN test.dimension AS d ON f.id1 = d.id1\r\nWHERE f.id1 = f.id2\r\nGROUP BY \r\n    ID, \r\n    Name`\r\n\r\nReport error\r\n\r\n`↖ Progress: 0.00 rows, 0.00 B (0.00 rows/s., 0.00 B/s.) Received exception from server (version 20.3.8):\r\nCode: 352. DB::Exception: Received from localhost:9000. DB::Exception: Received from {host2}:9000. DB::Exception: Ambiguous column 'id1'. \r\n`\r\n\r\n* Which ClickHouse server versions are incompatible\r\nThe same sql run correct on version 19.14.7.15, but fail on version 20.3.8.53. On version 20.3.8.53, it reports  \"DB::Exception: Ambiguous column***\"\r\n\r\n* Which interface to use, if matters\r\n\r\nclickhouse-client\r\n\r\n\r\n**Additional context**\r\nWe are planing to upgrade clickhouse version from 19.14.7.15. to 20.3.8.53. \r\nSo, we do function regression for the new version 20.3.8.53. We unfortunately found that our widely used sql pattern, as described above, is not supported on the new version.\r\n\r\n*This issue is quite emergent on our side. Looking forward to your reply. Thanks!*"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11133",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11133/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11133/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11133/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11133",
    "id": 623110592,
    "node_id": "MDU6SXNzdWU2MjMxMTA1OTI=",
    "number": 11133,
    "title": "use_compact_format_in_distributed_parts_names problems",
    "user": {
      "login": "dregor",
      "id": 3247188,
      "node_id": "MDQ6VXNlcjMyNDcxODg=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/3247188?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dregor",
      "html_url": "https://github.com/dregor",
      "followers_url": "https://api.github.com/users/dregor/followers",
      "following_url": "https://api.github.com/users/dregor/following{/other_user}",
      "gists_url": "https://api.github.com/users/dregor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dregor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dregor/subscriptions",
      "organizations_url": "https://api.github.com/users/dregor/orgs",
      "repos_url": "https://api.github.com/users/dregor/repos",
      "events_url": "https://api.github.com/users/dregor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dregor/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1634829961,
        "node_id": "MDU6TGFiZWwxNjM0ODI5OTYx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-distributed",
        "name": "comp-distributed",
        "color": "b5bcff",
        "default": false,
        "description": "Distributed tables"
      },
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-22T10:24:14Z",
    "updated_at": "2020-05-22T20:10:40Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hello, i added two new replicas in my cluster and got this error:\r\n\r\n` [ 23165 ] {5a41e916-458e-4372-9f94-e327b725daa1} <Error> executeQuery: Poco::Exception. Code: 1000, e.code() = 36, e.displayText() = Bad path syntax: /var/lib/clickhouse/data/database/test.....`\r\n\r\nbecause path name was too long, then i try to change password and replication user name to shorter, but it was not enough. And i gon new error :\r\n\r\n`020.05.22 10:00:33.133395 [ 65534 ] {bd6c4607-4d19-443d-878b-1a26846b0cbd} <Error> executeQuery: Code: 192, e.displayText() = DB::Exception: replicator: User has been dropped (version 20.4.2.9 (official build)) (from 178.63.41.77:64310) (`\r\n\r\nI leve old replication users on servers with the same password but error still was. I found `use_compact_format_in_distributed_parts_names`, update clickhouse, add option, all works, but error about `User has been dropped` still here, and directories with old names still here `/var/lib/clickhouse/data/database/test/replicator:password@ch%2Ds03%2Dr1%2Edomain%2Ecom:9000,replicator:password@ch%2Ds03%2Dr2%2Edomain%2Ecom:9000/`, i try to find them and drop, but gon many new errors :\r\n\r\n`2020.05.22 09:44:52.584465 [ 26357 ] {} <Error> database.test DirectoryMonitor: Poco::Exception. Code: 1000, e.code() = 2, e.displayText() = File not found: /var/lib/clickhouse/data/database/test/replicator:password@ch%2Ds03%2Dr1%2Edomain%2Ecom:9000,replicator:password@ch%2Ds03%2Dr2%2Edomain%2Ecom:9000/, Stack trace (when copying this message, always include the lines below): 7. DB::BackgroundSchedulePoolTaskcom::execute() @ 0xcfd91f9 in /usr/bin/clickhouse\r\n`\r\n`(version 20.4.2.9 (official build)) 5. DB::StorageDistributedDirectoryMonitor::processFiles() @ 0xd811886 in /usr/bin/clickhouse 6. DB::StorageDistributedDirectoryMonitor::run() @ 0xd812160 in /usr/bin/clickhouse 0. Poco::FileNotFoundException::FileNotFoundException(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10410790 in /usr/bin/clickhouse 8. DB::BackgroundSchedulePool::threadFunction() @ 0xcfd9822 in /usr/bin/clickhouse 0. Poco::FileNotFoundException::FileNotFoundException(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10410790 in /usr/bin/clickhouse 8. DB::BackgroundSchedulePool::threadFunction() @ 0xcfd9822 in /usr/bin/clickhouse 0. Poco::FileNotFoundException::FileNotFoundException(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10410790 in /usr/bin/clickhouse 8. DB::BackgroundSchedulePool::threadFunction() @ 0xcfd9822 in /usr/bin/clickhouse 0. Poco::FileNotFoundException::FileNotFoundException(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10410790 in /usr/bin/clickhouse 8. `\r\n\r\nHow can i drop info bout this old data from clickhouse ?"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11127",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11127/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11127/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11127/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11127",
    "id": 622963819,
    "node_id": "MDU6SXNzdWU2MjI5NjM4MTk=",
    "number": 11127,
    "title": "Support asterisks for complex JOINs (enable multiple_joins_rewriter_version = 2 by default)",
    "user": {
      "login": "samz406",
      "id": 3055810,
      "node_id": "MDQ6VXNlcjMwNTU4MTA=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3055810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/samz406",
      "html_url": "https://github.com/samz406",
      "followers_url": "https://api.github.com/users/samz406/followers",
      "following_url": "https://api.github.com/users/samz406/following{/other_user}",
      "gists_url": "https://api.github.com/users/samz406/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/samz406/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/samz406/subscriptions",
      "organizations_url": "https://api.github.com/users/samz406/orgs",
      "repos_url": "https://api.github.com/users/samz406/repos",
      "events_url": "https://api.github.com/users/samz406/events{/privacy}",
      "received_events_url": "https://api.github.com/users/samz406/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-22T05:37:29Z",
    "updated_at": "2020-05-29T19:18:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "hi there are 3 left join, run it's error ,please help\r\n\r\nMultiple JOIN do not support asterisks for complex queries yet (version 19.15.3.6 (official build)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/3055810/82634713-13ef4580-9c31-11ea-8b86-d0b031be7487.png)\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11125",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11125/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11125/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11125/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11125",
    "id": 622890445,
    "node_id": "MDU6SXNzdWU2MjI4OTA0NDU=",
    "number": 11125,
    "title": "random permutation/selection for arrays",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-22T01:42:35Z",
    "updated_at": "2020-05-22T01:42:35Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Implement functions for generating random permutations and random selections of an array.\r\n\r\nI need permutations for generating randomization distribution in performance tests, and now have to emulate it with `order by rand()` which becomes painfully slow for big arrays. In contrast, shuffle algorithms work in linear time.\r\n\r\nSelections would also be useful in performance tests for bootstrapping confidence intervals for query run time."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11124",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11124/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11124/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11124/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11124",
    "id": 622888124,
    "node_id": "MDU6SXNzdWU2MjI4ODgxMjQ=",
    "number": 11124,
    "title": "clickhouse-local freezes on multiple read from pipe",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 2079355812,
        "node_id": "MDU6TGFiZWwyMDc5MzU1ODEy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-local",
        "name": "comp-local",
        "color": "b5bcff",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-22T01:34:40Z",
    "updated_at": "2020-05-22T01:35:18Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "```\r\necho 1 | build-clang10/programs/clickhouse-local --structure \"a int\" --query \"select a from table where a in (select a from table)\"\r\n```\r\n\r\nThis does not finish. Works fine if I put this `1` into a file and specify it with `--file`.\r\nThis is a usability problem for using `clickhouse-local` in a pipeline. Also sometimes it doesn't freeze but returns unexpected result, which is even worse. I've had this happen but don't remember the exact scenario now."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11123",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11123/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11123/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11123/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11123",
    "id": 622885429,
    "node_id": "MDU6SXNzdWU2MjI4ODU0Mjk=",
    "number": 11123,
    "title": "clickhouse-local usability improvements",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 2079355812,
        "node_id": "MDU6TGFiZWwyMDc5MzU1ODEy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-local",
        "name": "comp-local",
        "color": "b5bcff",
        "default": false,
        "description": ""
      },
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "akuzm",
        "id": 36882414,
        "node_id": "MDQ6VXNlcjM2ODgyNDE0",
        "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/akuzm",
        "html_url": "https://github.com/akuzm",
        "followers_url": "https://api.github.com/users/akuzm/followers",
        "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
        "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
        "organizations_url": "https://api.github.com/users/akuzm/orgs",
        "repos_url": "https://api.github.com/users/akuzm/repos",
        "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
        "received_events_url": "https://api.github.com/users/akuzm/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-22T01:24:53Z",
    "updated_at": "2020-05-22T05:29:36Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "A loose list of ideas.\r\n\r\nThe main principle is that clickhouse-local should be your go-to tool for ad hoc manipulation of tabular data in well-known formats.\r\n\r\nAlso see the comp-local label: https://github.com/ClickHouse/ClickHouse/issues?q=is%3Aissue+is%3Aopen+label%3Acomp-local\r\n\r\n- [ ] Determine File columns from the file header for TSVWithNamesAndTypes. Goodbye to endlessly writing out the table structure, a real imporvement to the quality of life.\r\n\r\n- [ ] Parse TSVWithNamesAndTypes in parallel. Yes, it doesn't work now, because of the header.\r\n\r\n- [ ] Support a function for output to multiple files, with path given by an input column. This might be useful if you have to split the data by some key to feed it to an external tool. For now it can be emulated by prefixing all rows with the key and then splitting the file by this prefix using grep -- e.g. see what I do for flamegraphs in perf tests: https://github.com/ClickHouse/ClickHouse/blob/432648ca1ee3a5055bc6cd91bc35dbd88457b952/docker/test/performance-comparison/compare.sh#L603 .\r\n\r\n- [ ] Load a query from file. Now I just cat hundreds of lines into `--query` parameter and then endlessly scroll through `set -x` output.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11121",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11121/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11121/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11121/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11121",
    "id": 622853707,
    "node_id": "MDU6SXNzdWU2MjI4NTM3MDc=",
    "number": 11121,
    "title": "Investigate memory-related unstable latencies in performance tests",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "akuzm",
        "id": 36882414,
        "node_id": "MDQ6VXNlcjM2ODgyNDE0",
        "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/akuzm",
        "html_url": "https://github.com/akuzm",
        "followers_url": "https://api.github.com/users/akuzm/followers",
        "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
        "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
        "organizations_url": "https://api.github.com/users/akuzm/orgs",
        "repos_url": "https://api.github.com/users/akuzm/repos",
        "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
        "received_events_url": "https://api.github.com/users/akuzm/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-21T23:38:49Z",
    "updated_at": "2020-05-26T17:56:24Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "A list for me not to forget.\r\n\r\nI've seen two main sources of unpredictable memory-related latency:\r\n* Some pages we receive from the allocator may be newly allocated from the OS and still be copy-on-write references to zero page. On write to such pages, page fault occurs, and a new writable page is allocated and filled with zeros.\r\n* Sometimes jemalloc decides that it's time to purge the arena and peforms MADV_DONTNEED on some pages.\r\n\r\nWhat can we do about this:\r\n* Increase (or maybe decrease instead?) the decay time for arenas, governed by the `arenas.dirty_decay_ms` and `arenas.muzzy_decay_ms` parameters. Read the docs carefully, because it's not obvious what they influence. Tried to do this once, but ran into some Weirdness with our cmake config that prevented me from using `mallctl` (USE_JEMALLOC not defined for Server.cpp). A sample snippet for `Server::initialize`:\r\n```\r\n+\r\n+#if USE_JEMALLOC\r\n+    const int64_t decay_time_ms = 10 * 60 * 1000;\r\n+    logger().information(\"Will set jemalloc decay time to %ls ms\\n\", decay_time_ms);\r\n+    logger().information(\"test\");\r\n+\r\n+    int err = mallctl(\"arenas.dirty_decay_ms\", nullptr, nullptr, &decay_time_ms, sizeof(decay_time_ms));\r\n+    if (err != 0)\r\n+        logger().error(\"Failed to set 'arenas.dirty_decay_ms' with code %ld\", err);\r\n+\r\n+    err = mallctl(\"arenas.muzzy_decay_ms\", nullptr, nullptr, &decay_time_ms, sizeof(decay_time_ms));\r\n+    if (err != 0)\r\n+        logger().error(\"Failed to set 'arenas.muzzy_decay_ms' with code %ld\", err);\r\n+#endif\r\n+\r\n```\r\n* Decay the arenas explicitly using `arenas.<i>.decay` with `i = MALLCTL_ARENAS_ALL`. This could be a hidden system query e.g. `system reset memory`, and we could call it before we start test runs of each query from performance tests."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11117",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11117/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11117/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11117/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11117",
    "id": 622774217,
    "node_id": "MDU6SXNzdWU2MjI3NzQyMTc=",
    "number": 11117,
    "title": "Input Protobuf format for multi-levels nested data type  ",
    "user": {
      "login": "hanguyen6",
      "id": 8893951,
      "node_id": "MDQ6VXNlcjg4OTM5NTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8893951?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanguyen6",
      "html_url": "https://github.com/hanguyen6",
      "followers_url": "https://api.github.com/users/hanguyen6/followers",
      "following_url": "https://api.github.com/users/hanguyen6/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanguyen6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanguyen6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanguyen6/subscriptions",
      "organizations_url": "https://api.github.com/users/hanguyen6/orgs",
      "repos_url": "https://api.github.com/users/hanguyen6/repos",
      "events_url": "https://api.github.com/users/hanguyen6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanguyen6/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1401255404,
        "node_id": "MDU6TGFiZWwxNDAxMjU1NDA0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-formats",
        "name": "comp-formats",
        "color": "b5bcff",
        "default": false,
        "description": "Input / output formats"
      },
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-21T20:40:16Z",
    "updated_at": "2020-05-25T15:12:50Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi, \r\n\r\nThe document mentions that nested messages are supported. e.g\r\n\r\n```\r\nmessage MessageType {\r\n  message XType {\r\n    message YType {\r\n      int32 z;\r\n    };\r\n    repeated YType y;\r\n  };\r\n  XType x;\r\n};\r\nClickHouse tries to find a column named x.y.z (or x_y_z or X.y_Z and so on).\r\n```\r\n\r\nI am trying to create the ClickHouse table to map the above nested structure. But look like ClickHouse supports only single nesting level as it is mentioned [here](https://clickhouse.tech/docs/en/sql-reference/data-types/nested-data-structures/nested/)\r\n\r\n\r\n```\r\ncreate table nested (x Nested (y Nested (z Int64))) ENGINE MergeTree ORDER BY tuple();\r\n\r\nReceived exception from server (version 19.11.4):\r\n\r\nCode: 62. DB::Exception: Syntax error (data type): failed at position 21: Int64))). Expected one of: NOT, BETWEEN, AND, alias, AS, OR, NOT LIKE, LIKE, GLOBAL IN, IN, GLOBAL NOT IN, NOT IN, Comma, Dot, Arrow, QuestionMark, IS, token.\r\n```\r\n\r\n\r\n\r\nSo does that mean we only can input Protobuf format data with single nesting level ? \r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11116",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11116/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11116/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11116/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11116",
    "id": 622765409,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxNTY3NDE1",
    "number": 11116,
    "title": "[DRAFT] RAID 1",
    "user": {
      "login": "NanoBjorn",
      "id": 7040701,
      "node_id": "MDQ6VXNlcjcwNDA3MDE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7040701?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NanoBjorn",
      "html_url": "https://github.com/NanoBjorn",
      "followers_url": "https://api.github.com/users/NanoBjorn/followers",
      "following_url": "https://api.github.com/users/NanoBjorn/following{/other_user}",
      "gists_url": "https://api.github.com/users/NanoBjorn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NanoBjorn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NanoBjorn/subscriptions",
      "organizations_url": "https://api.github.com/users/NanoBjorn/orgs",
      "repos_url": "https://api.github.com/users/NanoBjorn/repos",
      "events_url": "https://api.github.com/users/NanoBjorn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NanoBjorn/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "alesapin",
      "id": 3684697,
      "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alesapin",
      "html_url": "https://github.com/alesapin",
      "followers_url": "https://api.github.com/users/alesapin/followers",
      "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
      "organizations_url": "https://api.github.com/users/alesapin/orgs",
      "repos_url": "https://api.github.com/users/alesapin/repos",
      "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alesapin/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "alesapin",
        "id": 3684697,
        "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alesapin",
        "html_url": "https://github.com/alesapin",
        "followers_url": "https://api.github.com/users/alesapin/followers",
        "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
        "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
        "organizations_url": "https://api.github.com/users/alesapin/orgs",
        "repos_url": "https://api.github.com/users/alesapin/repos",
        "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alesapin/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-21T20:24:28Z",
    "updated_at": "2020-06-22T09:19:45Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11116",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11116",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11116.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11116.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11110",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11110/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11110/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11110/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11110",
    "id": 622630688,
    "node_id": "MDU6SXNzdWU2MjI2MzA2ODg=",
    "number": 11110,
    "title": "protobuf multiple schemafiles",
    "user": {
      "login": "hanguyen6",
      "id": 8893951,
      "node_id": "MDQ6VXNlcjg4OTM5NTE=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/8893951?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hanguyen6",
      "html_url": "https://github.com/hanguyen6",
      "followers_url": "https://api.github.com/users/hanguyen6/followers",
      "following_url": "https://api.github.com/users/hanguyen6/following{/other_user}",
      "gists_url": "https://api.github.com/users/hanguyen6/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hanguyen6/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hanguyen6/subscriptions",
      "organizations_url": "https://api.github.com/users/hanguyen6/orgs",
      "repos_url": "https://api.github.com/users/hanguyen6/repos",
      "events_url": "https://api.github.com/users/hanguyen6/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hanguyen6/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-21T16:39:12Z",
    "updated_at": "2020-05-21T16:39:12Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "When inserting protobuf format, ClickHouse requires external format schema : \r\n\r\ne.g. \r\ncat protobuf_messages.bin | clickhouse-client --query \"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'\"\r\n\r\nis it possible to specify multiple schema .proto files ? we use import statement to define dependencies between schema files. "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11103",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11103/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11103/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11103/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11103",
    "id": 622482726,
    "node_id": "MDU6SXNzdWU2MjI0ODI3MjY=",
    "number": 11103,
    "title": "Calculate functions after LIMIT if possible.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "KochetovNicolai",
      "id": 4092911,
      "node_id": "MDQ6VXNlcjQwOTI5MTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4092911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KochetovNicolai",
      "html_url": "https://github.com/KochetovNicolai",
      "followers_url": "https://api.github.com/users/KochetovNicolai/followers",
      "following_url": "https://api.github.com/users/KochetovNicolai/following{/other_user}",
      "gists_url": "https://api.github.com/users/KochetovNicolai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KochetovNicolai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KochetovNicolai/subscriptions",
      "organizations_url": "https://api.github.com/users/KochetovNicolai/orgs",
      "repos_url": "https://api.github.com/users/KochetovNicolai/repos",
      "events_url": "https://api.github.com/users/KochetovNicolai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KochetovNicolai/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "KochetovNicolai",
        "id": 4092911,
        "node_id": "MDQ6VXNlcjQwOTI5MTE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/4092911?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KochetovNicolai",
        "html_url": "https://github.com/KochetovNicolai",
        "followers_url": "https://api.github.com/users/KochetovNicolai/followers",
        "following_url": "https://api.github.com/users/KochetovNicolai/following{/other_user}",
        "gists_url": "https://api.github.com/users/KochetovNicolai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KochetovNicolai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KochetovNicolai/subscriptions",
        "organizations_url": "https://api.github.com/users/KochetovNicolai/orgs",
        "repos_url": "https://api.github.com/users/KochetovNicolai/repos",
        "events_url": "https://api.github.com/users/KochetovNicolai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KochetovNicolai/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-21T12:59:26Z",
    "updated_at": "2020-06-26T20:17:44Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Example:\r\n\r\n```\r\nSELECT throwIf(number = 5) FROM (SELECT * FROM numbers(10)) ORDER BY number LIMIT 1\r\n```\r\n\r\nIf the optimization exists, `throwIf(number = 5)` will be calculate only on first row and the query won't throw exception."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11098",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11098/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11098/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11098/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11098",
    "id": 622446136,
    "node_id": "MDU6SXNzdWU2MjI0NDYxMzY=",
    "number": 11098,
    "title": "when readonly replica become active data cann't sync between replicas",
    "user": {
      "login": "weiyongyuan",
      "id": 20318636,
      "node_id": "MDQ6VXNlcjIwMzE4NjM2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/20318636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/weiyongyuan",
      "html_url": "https://github.com/weiyongyuan",
      "followers_url": "https://api.github.com/users/weiyongyuan/followers",
      "following_url": "https://api.github.com/users/weiyongyuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/weiyongyuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/weiyongyuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/weiyongyuan/subscriptions",
      "organizations_url": "https://api.github.com/users/weiyongyuan/orgs",
      "repos_url": "https://api.github.com/users/weiyongyuan/repos",
      "events_url": "https://api.github.com/users/weiyongyuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/weiyongyuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1478073551,
        "node_id": "MDU6TGFiZWwxNDc4MDczNTUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-replication",
        "name": "comp-replication",
        "color": "b5bcff",
        "default": false,
        "description": "Replicated tables"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-21T11:47:25Z",
    "updated_at": "2020-05-22T01:35:27Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nI'm testing replicated table.I have two servers as a shard with two replicas and a zookeeper cluster with 2 nodes.\r\nFirst,when i insert data into one replica ,i kill the process of zk munually which the replica has established a connection with it.\r\nsecond,the replica become readonly and another become leader.the readonly replicas has a connection with another zk process.\r\nthird,i start the zk process which is killed.the readonly replica still is readonly.\r\nforth,i restart the readonly replica ck server,then the readonly replica become active（query through the system.replicas）, not as a leader,**but,the active replicas is 1.**,and now i can insert data into it.\r\nBut,the two replicas don't sync data. I tail the leader replica's log,can see some infos like this:\r\n**iplog_local (ReplicatedMergeTreePartCheckThread): Checking if anyone has a part covering 441683_25_25_0.\r\niplog_local (ReplicatedMergeTreePartCheckThread): Found part 441683_25_25_0 on 1 that covers the missing part 441683_25_25_0**\r\nAnd throguth the zkclient, i can see the leader replica's queue is stacking ,and can't consume the queue's data.\r\n\r\nHere the metrika configuration:\r\n\r\n<clickhouse_replicas>\r\n   <!-- shard 1 -->\r\n   <shard>\r\n       <internal_replication>true</internal_replication>\r\n       <replica>\r\n           <host>platform-server-4</host>\r\n           <port>9000</port>\r\n       </replica>\r\n       <replica>\r\n           <host>platform-server-4</host>\r\n           <port>9000</port>\r\n       </replica>\r\n   </shard>\r\n </clickhouse_replicas>\r\n\r\n\r\n\r\n**How to reproduce**\r\nyou can reproduce it  like what i did.\r\n* Which ClickHouse server version to use\r\n20.1.6.30\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11092",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11092/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11092/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11092/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11092",
    "id": 622295230,
    "node_id": "MDU6SXNzdWU2MjIyOTUyMzA=",
    "number": 11092,
    "title": "when set max_parallel_replicas=n, count query's result change to n*correct result.",
    "user": {
      "login": "weiyongyuan",
      "id": 20318636,
      "node_id": "MDQ6VXNlcjIwMzE4NjM2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/20318636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/weiyongyuan",
      "html_url": "https://github.com/weiyongyuan",
      "followers_url": "https://api.github.com/users/weiyongyuan/followers",
      "following_url": "https://api.github.com/users/weiyongyuan/following{/other_user}",
      "gists_url": "https://api.github.com/users/weiyongyuan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/weiyongyuan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/weiyongyuan/subscriptions",
      "organizations_url": "https://api.github.com/users/weiyongyuan/orgs",
      "repos_url": "https://api.github.com/users/weiyongyuan/repos",
      "events_url": "https://api.github.com/users/weiyongyuan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/weiyongyuan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 6,
    "created_at": "2020-05-21T07:01:58Z",
    "updated_at": "2020-05-29T14:06:24Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "(you don't have to strictly follow this form)\r\n\r\n**Describe the bug**\r\nI have as cluster,one distribute node,two local node to consist  a shard.\r\nwhen set max_parallel_replicas=n,count query'sresult change to n*correct result.\r\n**How to reproduce**\r\nuse a replicated table,and one shard has tow or more replicas,then set set max_parallel_replicas=n.\r\n* Which ClickHouse server version to use\r\n20.1.6.30\r\n\r\n* Queries to run that lead to unexpected result\r\n>**select count()from default.iplog;**\r\n>this count result is 387000.\r\n>**then set max_parallel_replicas=2;**\r\n>execute the same query.\r\n>**select count()from default.iplog;**\r\n>this count result is 774000.\r\n**Expected behavior**\r\nwhy is the result not 387000 but 774000 when  i set max_parallel_replicas=2?Obveriously,the result is the sum of two replicas's count result:387000 +387000 =774000 .\r\ncan we select one of the max result or most correct result of replicas?\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11090",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11090/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11090/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11090/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11090",
    "id": 622260623,
    "node_id": "MDU6SXNzdWU2MjIyNjA2MjM=",
    "number": 11090,
    "title": "Performance optimization: getColumnNameWithMinumumCompressedSize not always needed",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-21T05:36:49Z",
    "updated_at": "2020-05-21T05:40:37Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "When all queried columns in data part is missing (e.g. they were added with ALTER) we choose a column with minumum size and read it. It's needed to know the number of rows.\r\n\r\nBut we know the exact number of rows in data part in most cases. We can avoid reading a column."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11085",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11085/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11085/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11085/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11085",
    "id": 622115163,
    "node_id": "MDU6SXNzdWU2MjIxMTUxNjM=",
    "number": 11085,
    "title": "Type deduction breaks for tuples in CASE with default ELSE",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T22:09:44Z",
    "updated_at": "2020-05-20T22:09:44Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "```\r\n/4/ :) select case when number = 0 then (select 0) when number = 1 then (select 1) end from numbers(2);\r\n\r\n┌─multiIf(equals(number, 0), _subquery21, equals(number, 1), _subquery22, NULL)─┐\r\n│                                                                             0 │\r\n│                                                                             1 │\r\n└───────────────────────────────────────────────────────────────────────────────┘\r\n\r\n/4/ :) select case when number = 0 then (select 1, 2) when number = 1 then (select 3, 4) end from numbers(2);\r\nReceived exception from server (version 20.5.1):\r\nCode: 386. DB::Exception: Received from localhost:9000. DB::Exception: There is no supertype for types Tuple(UInt8, UInt8), Tuple(UInt8, UInt8), Nullable(Nothing) because some of them are Tuple and some of them are not. Stack trace:\r\n```\r\nWorks for single columns, but breaks for tuples."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11083",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11083/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11083/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11083/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11083",
    "id": 622109521,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxMDQwNDQ1",
    "number": 11083,
    "title": "CUDA aggregate functions prototype",
    "user": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T21:57:23Z",
    "updated_at": "2020-06-09T02:04:02Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11083",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11083",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11083.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11083.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nAdd experimental GPU accelerated aggregation functions started here #9503\r\n\r\nDetailed description / Documentation draft:\r\nAdd `count()` and `uniq()` functions under `use_cuda_aggregation` setting\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11075",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11075/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11075/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11075/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11075",
    "id": 621999804,
    "node_id": "MDU6SXNzdWU2MjE5OTk4MDQ=",
    "number": 11075,
    "title": "ALTER TABLE COMMENT COLUMN for Materialized View with ReplicatedAggregatingMergeTree engine doesn't propegate to all replicas.",
    "user": {
      "login": "abraithwaite",
      "id": 3791413,
      "node_id": "MDQ6VXNlcjM3OTE0MTM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3791413?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abraithwaite",
      "html_url": "https://github.com/abraithwaite",
      "followers_url": "https://api.github.com/users/abraithwaite/followers",
      "following_url": "https://api.github.com/users/abraithwaite/following{/other_user}",
      "gists_url": "https://api.github.com/users/abraithwaite/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abraithwaite/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abraithwaite/subscriptions",
      "organizations_url": "https://api.github.com/users/abraithwaite/orgs",
      "repos_url": "https://api.github.com/users/abraithwaite/repos",
      "events_url": "https://api.github.com/users/abraithwaite/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abraithwaite/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-20T18:34:05Z",
    "updated_at": "2020-05-20T19:22:03Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the issue**\r\nWhen you do an `ALTER TABLE COMMENT COLUMN` for a ReplicatedMergeTree table, it propagates the comment as expected.\r\n\r\nIf you've built a Materialized View on top of this ReplicatedMergeTree table using the ReplicatedAggregatingMergeTree engine, and attempt to do a similar `ALTER TABLE COMMENT COLUMN` operation, it does not propagate to it's replicas.\r\n\r\n**How to reproduce**\r\n- Create a ReplicatedMergeTree raw data table with 3 replicas.\r\n- Create a ReplicatedAggregatingMergeTree Materialized View which references the raw data table created above.\r\n- Create a migration which issues an ALTER TABLE COMMENT COLUMN on the Materialized View.\r\n- Observe that the COMMENT COLUMN migration is only applied to one replica and not propegated to the other replicas.\r\n\r\n**Expected behavior**\r\nALTER TABLE COMMENT COLUMN is replicated for Materialized Views that use replicated table engines.\r\n\r\n**Error message and/or stacktrace**\r\nIf you're trying to recover from failure, you'll get this kind of message when trying to reapply the schema to a node:\r\n\r\n```\r\nDB::Exception: Table structure in ZooKeeper is too different from local table structure.\r\n```\r\n\r\n**Additional context**\r\nWe're on version 19.9.2.4 and ran into this while working on upgrading to a more recent version.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11069",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11069/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11069/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11069/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11069",
    "id": 621625736,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIwNjM5OTg1",
    "number": 11069,
    "title": "Add storage RabbitMQ",
    "user": {
      "login": "kssenii",
      "id": 54203879,
      "node_id": "MDQ6VXNlcjU0MjAzODc5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/54203879?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kssenii",
      "html_url": "https://github.com/kssenii",
      "followers_url": "https://api.github.com/users/kssenii/followers",
      "following_url": "https://api.github.com/users/kssenii/following{/other_user}",
      "gists_url": "https://api.github.com/users/kssenii/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kssenii/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kssenii/subscriptions",
      "organizations_url": "https://api.github.com/users/kssenii/orgs",
      "repos_url": "https://api.github.com/users/kssenii/repos",
      "events_url": "https://api.github.com/users/kssenii/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kssenii/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      },
      {
        "id": 2107435505,
        "node_id": "MDU6TGFiZWwyMTA3NDM1NTA1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/submodule%20changed",
        "name": "submodule changed",
        "color": "b7130b",
        "default": false,
        "description": "At least one submodule changed in this PR."
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "alesapin",
      "id": 3684697,
      "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alesapin",
      "html_url": "https://github.com/alesapin",
      "followers_url": "https://api.github.com/users/alesapin/followers",
      "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
      "organizations_url": "https://api.github.com/users/alesapin/orgs",
      "repos_url": "https://api.github.com/users/alesapin/repos",
      "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alesapin/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "alesapin",
        "id": 3684697,
        "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alesapin",
        "html_url": "https://github.com/alesapin",
        "followers_url": "https://api.github.com/users/alesapin/followers",
        "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
        "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
        "organizations_url": "https://api.github.com/users/alesapin/orgs",
        "repos_url": "https://api.github.com/users/alesapin/repos",
        "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alesapin/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T09:53:25Z",
    "updated_at": "2020-06-25T19:53:59Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11069",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11069",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11069.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11069.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nAdd storage RabbitMQ.\r\n\r\nDetailed description / Documentation draft:\r\n\r\nCRATE TABLE query parameters:\r\n\r\n- rabbitmq_host_port\r\n- rabbitmq_routing_key_list\r\n- rabbitmq_exchange_name\r\n- rabbitmq_exchange_type\r\n- rabbitmq_format\r\n- rabbitmq_row_delimiter\r\n- rabbitmq_num_consumers\r\n- rabbitmq_num_queues\r\n- rabbitmq_transactional_channel\r\n\r\nSome explanation:\r\n\r\nThe routing key of the message and exchange name are parameters that are set while publishing messages from any RabbitMQ client. Therefore, they are speicified by the client.\r\n\r\nAll exchange types, known in RabbitMQ, are supported: direct-exchange, fanout-exchange, topic-exchange, headers-exchange, consistent-hash-exchange. The preferred exchange type is specified by the client in exchange_type parameter.\r\n\r\nThere can be no more than one exchange per table. Also one exchange can be shared between multiple tables - it enables routing into multiple tables at the same time.\r\n\r\nIf exchange type is set to 'direct', then messages go to table(s) with a routing_key parameter that exactly matches the routing key of the message.\r\n\r\nIf exchange type is set to 'fanout', it routes received messages to all tables that are bound to it regardless of routing keys. (To table(s), where the exchange_name is the same.)\r\n\r\nIf exchange type is set to 'topic', then messages are routed to one or many tables based on a matching between a message routing key and a pattern, which is set in routing_key_list parameter. By RabbitMQ documentation, if messages are sent to topic-exchange, then a routing key must be a list of words, delimited by a dot. The routing patterns may contain “\\*”. For example, if a pattern (specified in routing_key_list) of some tables is '\\*.logs', then messages with a routing key with suffix '.logs' will be sent to all those tables. Patterns can be complicated (like 'agreements.\\*.\\*.data.'). Patterns can also contain '#' -  indicates a match of zero or more words. For more details see RabbitMQ documentation.\r\n\r\nIf exchange type is set to 'headers', the routing is even more flexible. If using headers-exchange, routing key can be a map (dictionary). For example, if (key = value) headers of published messages are 'format=logs', 'type=report', 'year=2020' with setting 'x-match=all', then these messages will be routed to all tables, where routing_key_list contains all those matches. If a setting is 'x-match=any', then those messages are send to all tables where at least one dictionary value matches its key. The setting is passed in the same list as headers:\r\nrabbitmq_routing_key_list = 'x-match=all,format=logs,type=report,year=2020'.\r\n\r\nIf exchange type is set to 'consistent_hash', which is a special sharding exchange, - there will be an even distribution of messages between all tables, where the exchange_name is the same. Note that, by RabbitMQ documentation, if using consistent-hash-exchange, by default it will distribute messages based on a hash value of a routing key. Therefore, the key must be a string integer, randomised for every batch. \r\n\r\nMultiple routing keys for each table are supported. They are specified in a list of keys, separated by commas: rabbitmq_routing_key_list = 'key1,key2,key3,key4,key5'. In case of topic-exchange it can be a list of patterns, separated by commas: rabbitmq_routing_key_list = '\\*.logs,data.\\*,\\*.work.data.*.logs'. In case of headers-exchange it can be a list of (key = value) headers: rabbitmq_routing_key_list = 'x-match=any,format=logs,type=report,year=2020'.\r\n\r\nIf parameter num_consumers is set, then in current implementation the exchange, specified by the client, is bound to a consistent-hash exchange (by the specified routing keys) and this exchange will make an even distribution between all (concurrent) consumers within one table, because, without this binding to consistent-hash exchange, it is impossible to ensure that one message is received no more than once, as it is the only way to enable sharding between queues (~ consumers)) with the same routing key. \r\n\r\nIf parameter num_queues (number of queues per consumer) is set, then distribution of messages is done between all queues of all consumers. It is worth setting num_queues parameter as one queue can handle up to 50K messages and it is in general highly recommended to keep queues as short as possible to increase throughput. By default, there is one unique queue for each consumer. Also there is no limit in size of parameters num_consumers, num_queues.\r\n\r\nAlso, as a local (unique for each table) consistent-hash-exchange is used for sharding within one table and as there still remains a rule that hash-exchange distributes messages based on a hash value of an integer-key, which in our case can be a string, a complicated pattern or a key=value header, then in current implementation hash-property of the exchange is changed to message_id. (This will make it possible to enable sharding with non-integer routing keys). But remember, that to be able to use a different hash-property, by RabbitMQ documentation, when messages are published from some RabbitMQ client, then the message_id property must be set in publishing parameters (otherwise all messages are routed to one arbitrary chosen queue). And to enable sharding - this message_id should be unique for each message or at least unique for every batch of messages.\r\n\r\n(!) If there is no need for a specific exchange type, then there is a default implementation. It should be used, if there is just a need for specific table to receive messages quickly. Because in this case only direct-exchange type is used, which is the quickest type of all, and for sharding consistent-hash exchange is not used - everything is done only by direct-exchange. This makes a certain difference in speed as direct-exchange works quicker than consistent-hash-exchange. Sharding with direct-exchange is possible because of the special internal bindings, which are made by default. Therefore, with default implementation, a much faster sharding between all concurrent consumers (~ their queues) is done within each table. This implementation is also used in INSERT query.\r\n\r\nTo use this default behaviour, exchange_type parameter must not be used, exchange_name must be different for each table, there is no need to set routing_key_list parameter (as it will be ignored). Also when publishing messages - the routing key message parameter must be a string integer, randomized in range [1, num_consumers] for every batch of messages (the smaller the batch size, the better). And if num_queues is set, then in range [1, num_consumers * num_queues]. (In this case, the exchange type, where messages are first published by the client is fanout-exchange, later it will be routed to the needed local table's exchange.)\r\n\r\nIf transactional_channel parameter is set to 1 (true), then publishing inside INSERT queries implementation will be wrapped in transactions.\r\n\r\nNote:\r\n- Consistent-hash exchange must be enabled with rabbitmq plugin.\r\n- By RabbitMQ documentation, if there are multiple consumers, then the order of messages is not guaranteed."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11068",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11068/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11068/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11068/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11068",
    "id": 621600716,
    "node_id": "MDU6SXNzdWU2MjE2MDA3MTY=",
    "number": 11068,
    "title": "Using alias in simple view",
    "user": {
      "login": "andrelec1",
      "id": 3273204,
      "node_id": "MDQ6VXNlcjMyNzMyMDQ=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3273204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrelec1",
      "html_url": "https://github.com/andrelec1",
      "followers_url": "https://api.github.com/users/andrelec1/followers",
      "following_url": "https://api.github.com/users/andrelec1/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrelec1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrelec1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrelec1/subscriptions",
      "organizations_url": "https://api.github.com/users/andrelec1/orgs",
      "repos_url": "https://api.github.com/users/andrelec1/repos",
      "events_url": "https://api.github.com/users/andrelec1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrelec1/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 2069471772,
        "node_id": "MDU6TGFiZWwyMDY5NDcxNzcy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-view",
        "name": "comp-view",
        "color": "b5bcff",
        "default": false,
        "description": "VIEWs"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      },
      {
        "id": 2070999159,
        "node_id": "MDU6TGFiZWwyMDcwOTk5MTU5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.4-affected",
        "name": "v20.4-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.4"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-20T09:17:27Z",
    "updated_at": "2020-05-20T14:27:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I try to make a view... for the moment i have this request : \r\n\r\n```\r\ndrop table if exists computed_datum_hours;\r\ncreate view computed_datum_hours as\r\nselect\r\n    toStartOfHour(b.datetime_value) as datetime_desc,\r\n    b.computed_id,\r\n    b.computed_kind,\r\n    b.computed_type,\r\n    sum(b.value) as value\r\nfrom computed_datum as b\r\ngroup by\r\n    b.computed_id,\r\n    b.computed_kind,\r\n    b.computed_type,\r\n    toStartOfHour(b.datetime_value)\r\n;\r\n```\r\nbut clickhouse say :\r\n`Code: 47, e.displayText() = DB::Exception: Missing columns: 'b.value' 'b.datetime_value' 'b.computed_type' 'b.computed_kind' 'b.computed_id' while processing query: 'SELECT toStartOfHour(b.datetime_value) AS datetime_desc, b.computed_id, b.computed_kind, b.computed_type, sum(b.value) AS value FROM api_client.computed_datum GROUP BY b.computed_id, b.computed_kind, b.computed_type, toStartOfHour(b.datetime_value)', required columns: 'b.computed_id' 'b.computed_kind' 'b.computed_type' 'b.datetime_value' 'b.value', source columns: 'flags' 'computed_type' 'datetime_value' 'uuid' 'value' 'computed_id' 'insert' 'computed_kind' 'EventDateTime' (version 20.4.2.9 (official build))`\r\n\r\nthis is a bug or alias is different from mariadb ? \r\n( PS, if i remove every alias to b , the view work ) "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11066",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11066/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11066/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11066/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11066",
    "id": 621557477,
    "node_id": "MDU6SXNzdWU2MjE1NTc0Nzc=",
    "number": 11066,
    "title": "Illegal column Array(UInt128) of third argument of function if.",
    "user": {
      "login": "alex-zaitsev",
      "id": 25770686,
      "node_id": "MDQ6VXNlcjI1NzcwNjg2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/25770686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex-zaitsev",
      "html_url": "https://github.com/alex-zaitsev",
      "followers_url": "https://api.github.com/users/alex-zaitsev/followers",
      "following_url": "https://api.github.com/users/alex-zaitsev/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex-zaitsev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex-zaitsev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex-zaitsev/subscriptions",
      "organizations_url": "https://api.github.com/users/alex-zaitsev/orgs",
      "repos_url": "https://api.github.com/users/alex-zaitsev/repos",
      "events_url": "https://api.github.com/users/alex-zaitsev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex-zaitsev/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T08:16:25Z",
    "updated_at": "2020-05-20T08:16:25Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "```\r\nWITH [toUUID('8a421510-e1fe-11e9-bb8f-853d60c00749')] AS uuid\r\nSELECT if(empty(materialize(uuid)), uuid, arrayPopFront(uuid))\r\n\r\nReceived exception from server (version 20.3.9):\r\nCode: 44. DB::Exception: Received from localhost:9000. DB::Exception: Illegal column Const(Array(UInt128)) of third argument of function if. \r\n\r\n0 rows in set. Elapsed: 0.001 sec. \r\n```\r\n\r\nOriginally has been detected executing ALTER TABLE UPDATE over Array(UUID) column.\r\n```\r\nALTER TABLE T\r\n    UPDATE unique_users1 = arrayMap(x -> toUUID(x), arrayFilter(x -> (length(x) = 36), unique_users)) WHERE length(unique_users1) = 0\r\n\r\nReceived exception from server (version 20.3.9):\r\nCode: 44. DB::Exception: Received from localhost:9000. DB::Exception: Illegal column Array(UInt128) of third argument of function if. \r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11059",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11059/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11059/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11059/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11059",
    "id": 621438001,
    "node_id": "MDU6SXNzdWU2MjE0MzgwMDE=",
    "number": 11059,
    "title": "Upsert support",
    "user": {
      "login": "templarzq",
      "id": 18200917,
      "node_id": "MDQ6VXNlcjE4MjAwOTE3",
      "avatar_url": "https://avatars1.githubusercontent.com/u/18200917?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/templarzq",
      "html_url": "https://github.com/templarzq",
      "followers_url": "https://api.github.com/users/templarzq/followers",
      "following_url": "https://api.github.com/users/templarzq/following{/other_user}",
      "gists_url": "https://api.github.com/users/templarzq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/templarzq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/templarzq/subscriptions",
      "organizations_url": "https://api.github.com/users/templarzq/orgs",
      "repos_url": "https://api.github.com/users/templarzq/repos",
      "events_url": "https://api.github.com/users/templarzq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/templarzq/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-05-20T03:50:01Z",
    "updated_at": "2020-06-26T21:51:17Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Use case**\r\nupsert row data on replacing merge tree\r\nensuring primary key to be exact one\r\n\r\n**Describe the solution you'd like**\r\nthe replacing merge tree now must use query with final keyword to ensure the exact one primary key result. and the final query execution is slow.\r\n\r\n**Describe alternatives you've considered**\r\n(1) optimize the merge algorithm of replacingmerge tree , \r\n(2) optimize the wirte procedure of replacingmerge tree\r\n(3) optimize the storage file format to ensure the primary key exactly one\r\n    e.g   lsm-tree , \r\n   \r\n\r\n**Additional context**\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11058",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11058/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11058/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11058/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11058",
    "id": 621429081,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIwNDgxOTM5",
    "number": 11058,
    "title": "WIP Implement IDisk interface for HDFS",
    "user": {
      "login": "overshov",
      "id": 30050993,
      "node_id": "MDQ6VXNlcjMwMDUwOTkz",
      "avatar_url": "https://avatars0.githubusercontent.com/u/30050993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/overshov",
      "html_url": "https://github.com/overshov",
      "followers_url": "https://api.github.com/users/overshov/followers",
      "following_url": "https://api.github.com/users/overshov/following{/other_user}",
      "gists_url": "https://api.github.com/users/overshov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/overshov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/overshov/subscriptions",
      "organizations_url": "https://api.github.com/users/overshov/orgs",
      "repos_url": "https://api.github.com/users/overshov/repos",
      "events_url": "https://api.github.com/users/overshov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/overshov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T03:21:25Z",
    "updated_at": "2020-06-09T02:04:03Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11058",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11058",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11058.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11058.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\nAdd Disks/DiskHdfs, work in progress\r\nMake ReadBufferFromHDFS Seekable due to IDisk requirements\r\n\r\nSimple unit tests with hardcored paths\r\nLack of integration tests in progress.\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11055",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11055/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11055/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11055/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11055",
    "id": 621362597,
    "node_id": "MDU6SXNzdWU2MjEzNjI1OTc=",
    "number": 11055,
    "title": "DB::Exception: Unable to connect to endpoint",
    "user": {
      "login": "surekhasaharan",
      "id": 13008746,
      "node_id": "MDQ6VXNlcjEzMDA4NzQ2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/13008746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/surekhasaharan",
      "html_url": "https://github.com/surekhasaharan",
      "followers_url": "https://api.github.com/users/surekhasaharan/followers",
      "following_url": "https://api.github.com/users/surekhasaharan/following{/other_user}",
      "gists_url": "https://api.github.com/users/surekhasaharan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/surekhasaharan/subscriptions",
      "organizations_url": "https://api.github.com/users/surekhasaharan/orgs",
      "repos_url": "https://api.github.com/users/surekhasaharan/repos",
      "events_url": "https://api.github.com/users/surekhasaharan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/surekhasaharan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-20T00:03:20Z",
    "updated_at": "2020-05-20T00:03:20Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "```\r\nclickhouse-server --version\r\nClickHouse server version 20.4.2.9 (official build)\r\n```\r\ninserting data from s3 does not work with above version\r\neg command\r\n```\r\ninsert INTO table1 SELECT * FROM s3('s3://test/abc/file1', 'access key', 'secret key', 'Parquet',cols)\r\n```\r\n\r\nsaw these errors in the error log\r\n```\r\n2020.05.13 17:16:42.390033 [ 2759 ] {30fe119b-5dd7-40d0-abb8-8d5d5d37e6b3} <Warning> AWSClient: AWSClient: If the signature check failed. This could be because of a time skew. Attempting to adjust the signer.\r\n2020.05.13 17:16:42.390052 [ 2759 ] {30fe119b-5dd7-40d0-abb8-8d5d5d37e6b3} <Warning> AWSClient: AWSClient: Request failed, now waiting 6400 ms before attempting again.\r\n2020.05.13 17:16:48.790684 [ 2759 ] {30fe119b-5dd7-40d0-abb8-8d5d5d37e6b3} <Error> AWSClient: CurlHttpClient: Curl returned error code 3 - URL using bad/illegal format or missing URL\r\n2020.05.13 17:16:48.790763 [ 2759 ] {30fe119b-5dd7-40d0-abb8-8d5d5d37e6b3} <Error> AWSClient: AWSClient: HTTP response code: -1\r\nException name:\r\nError message: Unable to connect to endpoint\r\n```\r\n\r\nThe same insert command used to work with version `20.3.8.53`, so I went back to that version.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11054",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11054/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11054/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11054/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11054",
    "id": 621335280,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDIwNDA3MDMy",
    "number": 11054,
    "title": "added simple regex",
    "user": {
      "login": "lll-phill-lll",
      "id": 33665449,
      "node_id": "MDQ6VXNlcjMzNjY1NDQ5",
      "avatar_url": "https://avatars0.githubusercontent.com/u/33665449?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lll-phill-lll",
      "html_url": "https://github.com/lll-phill-lll",
      "followers_url": "https://api.github.com/users/lll-phill-lll/followers",
      "following_url": "https://api.github.com/users/lll-phill-lll/following{/other_user}",
      "gists_url": "https://api.github.com/users/lll-phill-lll/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lll-phill-lll/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lll-phill-lll/subscriptions",
      "organizations_url": "https://api.github.com/users/lll-phill-lll/orgs",
      "repos_url": "https://api.github.com/users/lll-phill-lll/repos",
      "events_url": "https://api.github.com/users/lll-phill-lll/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lll-phill-lll/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-19T22:54:36Z",
    "updated_at": "2020-06-09T02:04:04Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/11054",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/11054",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/11054.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/11054.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n- Bug Fix\r\n- Improvement\r\n- Performance Improvement\r\n- Backward Incompatible Change\r\n- Build/Testing/Packaging Improvement\r\n- Documentation (changelog entry is not required)\r\n- Other\r\n- Non-significant (changelog entry is not required)\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11044",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11044/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11044/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11044/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11044",
    "id": 621029505,
    "node_id": "MDU6SXNzdWU2MjEwMjk1MDU=",
    "number": 11044,
    "title": "Incorrect secure port in clickhouse-benchmark ",
    "user": {
      "login": "qoega",
      "id": 2159081,
      "node_id": "MDQ6VXNlcjIxNTkwODE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2159081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoega",
      "html_url": "https://github.com/qoega",
      "followers_url": "https://api.github.com/users/qoega/followers",
      "following_url": "https://api.github.com/users/qoega/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoega/subscriptions",
      "organizations_url": "https://api.github.com/users/qoega/orgs",
      "repos_url": "https://api.github.com/users/qoega/repos",
      "events_url": "https://api.github.com/users/qoega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoega/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 644208617,
        "node_id": "MDU6TGFiZWw2NDQyMDg2MTc=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/easy%20task",
        "name": "easy task",
        "color": "0e8a16",
        "default": false,
        "description": ""
      },
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-19T14:36:02Z",
    "updated_at": "2020-05-19T14:36:10Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nWe need to set correct port with `--secure` setting\r\n**How to reproduce**\r\n```\r\nclickhouse-benchmark --host localhost --user user --password password --secure  <<< \"SELECT 1\"\r\nLoaded 1 queries.\r\nDB::NetException: Connection refused (localhost:9000)\r\n```\r\nHere we try to connect to 9000 instead of 9440\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11007",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11007/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11007/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11007/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11007",
    "id": 620172838,
    "node_id": "MDU6SXNzdWU2MjAxNzI4Mzg=",
    "number": 11007,
    "title": "Copier deletes a MATERIALIZED column even if it was in the partitioning key. ",
    "user": {
      "login": "nikitamikhaylov",
      "id": 25705399,
      "node_id": "MDQ6VXNlcjI1NzA1Mzk5",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25705399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikitamikhaylov",
      "html_url": "https://github.com/nikitamikhaylov",
      "followers_url": "https://api.github.com/users/nikitamikhaylov/followers",
      "following_url": "https://api.github.com/users/nikitamikhaylov/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikitamikhaylov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikitamikhaylov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikitamikhaylov/subscriptions",
      "organizations_url": "https://api.github.com/users/nikitamikhaylov/orgs",
      "repos_url": "https://api.github.com/users/nikitamikhaylov/repos",
      "events_url": "https://api.github.com/users/nikitamikhaylov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikitamikhaylov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1401853216,
        "node_id": "MDU6TGFiZWwxNDAxODUzMjE2",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-copier",
        "name": "comp-copier",
        "color": "b5bcff",
        "default": false,
        "description": "clickhouse-copier"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "nikitamikhaylov",
      "id": 25705399,
      "node_id": "MDQ6VXNlcjI1NzA1Mzk5",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25705399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikitamikhaylov",
      "html_url": "https://github.com/nikitamikhaylov",
      "followers_url": "https://api.github.com/users/nikitamikhaylov/followers",
      "following_url": "https://api.github.com/users/nikitamikhaylov/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikitamikhaylov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikitamikhaylov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikitamikhaylov/subscriptions",
      "organizations_url": "https://api.github.com/users/nikitamikhaylov/orgs",
      "repos_url": "https://api.github.com/users/nikitamikhaylov/repos",
      "events_url": "https://api.github.com/users/nikitamikhaylov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikitamikhaylov/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "nikitamikhaylov",
        "id": 25705399,
        "node_id": "MDQ6VXNlcjI1NzA1Mzk5",
        "avatar_url": "https://avatars0.githubusercontent.com/u/25705399?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nikitamikhaylov",
        "html_url": "https://github.com/nikitamikhaylov",
        "followers_url": "https://api.github.com/users/nikitamikhaylov/followers",
        "following_url": "https://api.github.com/users/nikitamikhaylov/following{/other_user}",
        "gists_url": "https://api.github.com/users/nikitamikhaylov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nikitamikhaylov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nikitamikhaylov/subscriptions",
        "organizations_url": "https://api.github.com/users/nikitamikhaylov/orgs",
        "repos_url": "https://api.github.com/users/nikitamikhaylov/repos",
        "events_url": "https://api.github.com/users/nikitamikhaylov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nikitamikhaylov/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-18T12:34:30Z",
    "updated_at": "2020-05-19T11:03:16Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "ClusterCopier uses distributed tables to insert data to target cluster and to perform resharding. It creates internal distributed tables on each shard with a subset of original columns (It deletes `MATERIALIZED` columns and columns with `ALIAS` not to send useless data over the network) : https://github.com/ClickHouse/ClickHouse/blob/c76a82777c8b28608a3dfa0640cc6a003b1746bb/dbms/programs/copier/ClusterCopier.cpp#L2159-L2161\r\n\r\nHowever, these columns could be in PARTITION key, SAMPLE key or whatever.  And it leads to exceptions. "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11005",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11005/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11005/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11005/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11005",
    "id": 620134728,
    "node_id": "MDU6SXNzdWU2MjAxMzQ3Mjg=",
    "number": 11005,
    "title": "Install clickhouse-server-20.3.8.53 on centos and get a version of 20.4.2.9",
    "user": {
      "login": "winter7",
      "id": 3394868,
      "node_id": "MDQ6VXNlcjMzOTQ4Njg=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/3394868?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winter7",
      "html_url": "https://github.com/winter7",
      "followers_url": "https://api.github.com/users/winter7/followers",
      "following_url": "https://api.github.com/users/winter7/following{/other_user}",
      "gists_url": "https://api.github.com/users/winter7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winter7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winter7/subscriptions",
      "organizations_url": "https://api.github.com/users/winter7/orgs",
      "repos_url": "https://api.github.com/users/winter7/repos",
      "events_url": "https://api.github.com/users/winter7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winter7/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1643658066,
        "node_id": "MDU6TGFiZWwxNjQzNjU4MDY2",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-packaging",
        "name": "comp-packaging",
        "color": "b5bcff",
        "default": false,
        "description": "deb, rpm, tar, service-file etc."
      },
      {
        "id": 1575085465,
        "node_id": "MDU6TGFiZWwxNTc1MDg1NDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/unexpected%20behaviour",
        "name": "unexpected behaviour",
        "color": "e088ca",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-18T11:33:31Z",
    "updated_at": "2020-05-19T20:02:52Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the unexpected behaviour**\r\nI installed `clickhouse-server-20.3.8.53` on `centos` and got a version of `20.4.2.9`.\r\n**How to reproduce**\r\nMy origin clickhouse version was `19.14.7.15`.\r\n```\r\n$ clickhouse-client\r\nClickHouse client version 19.14.7.15 (official build).\r\nConnecting to localhost:9000 as user default.\r\nConnected to ClickHouse server version 19.14.7 revision 54425.\r\n```\r\nAnd I installed a version of `20.3.8.53`.\r\n```\r\n$ sudo yum install -y clickhouse-server-20.3.8.53\r\nLoaded plugins: fastestmirror, versionlock\r\nLoading mirror speeds from cached hostfile\r\nExcluding 3 updates due to versionlock (use \"yum versionlock status\" to show them)\r\nResolving Dependencies\r\n--> Running transaction check\r\n---> Package clickhouse-server.noarch 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-server.noarch 0:20.3.8.53-2 will be an update\r\n--> Processing Dependency: clickhouse-common-static = 20.3.8.53-2 for package: clickhouse-server-20.3.8.53-2.noarch\r\n--> Running transaction check\r\n---> Package clickhouse-common-static.x86_64 0:19.14.7.15-2 will be updated\r\n--> Processing Dependency: clickhouse-common-static = 19.14.7.15-2 for package: clickhouse-client-19.14.7.15-2.noarch\r\n---> Package clickhouse-common-static.x86_64 0:20.3.8.53-2 will be an update\r\n--> Running transaction check\r\n---> Package clickhouse-client.noarch 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-client.noarch 0:20.4.2.9-2 will be an update\r\n--> Processing Dependency: clickhouse-common-static = 20.4.2.9-2 for package: clickhouse-client-20.4.2.9-2.noarch\r\nrepo.yandex.ru_clickhouse_rpm_stable_x86_64/filelists_db                                                                                                              | 1.2 MB  00:00:00\r\n--> Running transaction check\r\n---> Package clickhouse-common-static.x86_64 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-common-static.x86_64 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-common-static.x86_64 0:20.3.8.53-2 will be an update\r\n---> Package clickhouse-common-static.x86_64 0:20.4.2.9-2 will be an update\r\n---> Package clickhouse-server.noarch 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-server.noarch 0:19.14.7.15-2 will be updated\r\n---> Package clickhouse-server.noarch 0:20.3.8.53-2 will be an update\r\n---> Package clickhouse-server.noarch 0:20.4.2.9-2 will be an update\r\n--> Finished Dependency Resolution\r\n\r\nDependencies Resolved\r\n\r\n=============================================================================================================================================================================================\r\n Package                                         Arch                          Version                              Repository                                                          Size\r\n=============================================================================================================================================================================================\r\nUpdating:\r\n clickhouse-server                               noarch                        20.4.2.9-2                           repo.yandex.ru_clickhouse_rpm_stable_x86_64                         76 k\r\nUpdating for dependencies:\r\n clickhouse-client                               noarch                        20.4.2.9-2                           repo.yandex.ru_clickhouse_rpm_stable_x86_64                         55 k\r\n clickhouse-common-static                        x86_64                        20.4.2.9-2                           repo.yandex.ru_clickhouse_rpm_stable_x86_64                        112 M\r\n\r\nTransaction Summary\r\n=============================================================================================================================================================================================\r\nUpgrade  1 Package (+2 Dependent packages)\r\n\r\nTotal download size: 112 M\r\nDownloading packages:\r\nDelta RPMs disabled because /usr/bin/applydeltarpm not installed.\r\n(1/3): clickhouse-client-20.4.2.9-2.noarch.rpm                                                                                                                        |  55 kB  00:00:00\r\n(2/3): clickhouse-server-20.4.2.9-2.noarch.rpm                                                                                                                        |  76 kB  00:00:00\r\n(3/3): clickhouse-common-static-20.4.2.9-2.x86_64.rpm                                                                                                                 | 112 MB  00:00:05\r\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nTotal                                                                                                                                                         19 MB/s | 112 MB  00:00:05\r\nRunning transaction check\r\nRunning transaction test\r\nTransaction test succeeded\r\nRunning transaction\r\n  Updating   : clickhouse-common-static-20.4.2.9-2.x86_64                                                                                                                                1/6\r\n  Updating   : clickhouse-client-20.4.2.9-2.noarch                                                                                                                                       2/6\r\n  Updating   : clickhouse-server-20.4.2.9-2.noarch                                                                                                                                       3/6\r\nwarning: /etc/init.d/clickhouse-server created as /etc/init.d/clickhouse-server.rpmnew\r\nwarning: /etc/systemd/system/clickhouse-server.service created as /etc/systemd/system/clickhouse-server.service.rpmnew\r\nPath to data directory in /etc/clickhouse-server/config.xml: /var/lib/clickhouse/\r\nln: failed to create symbolic link '/etc/clickhouse-server/preprocessed': File exists\r\n  Cleanup    : clickhouse-server-19.14.7.15-2.noarch                                                                                                                                     4/6\r\n  Cleanup    : clickhouse-client-19.14.7.15-2.noarch                                                                                                                                     5/6\r\n  Cleanup    : clickhouse-common-static-19.14.7.15-2.x86_64                                                                                                                              6/6\r\n  Verifying  : clickhouse-client-20.4.2.9-2.noarch                                                                                                                                       1/6\r\n  Verifying  : clickhouse-server-20.4.2.9-2.noarch                                                                                                                                       2/6\r\n  Verifying  : clickhouse-common-static-20.4.2.9-2.x86_64                                                                                                                                3/6\r\n  Verifying  : clickhouse-server-19.14.7.15-2.noarch                                                                                                                                     4/6\r\n  Verifying  : clickhouse-common-static-19.14.7.15-2.x86_64                                                                                                                              5/6\r\n  Verifying  : clickhouse-client-19.14.7.15-2.noarch                                                                                                                                     6/6\r\n\r\nUpdated:\r\n  clickhouse-server.noarch 0:20.4.2.9-2\r\n\r\nDependency Updated:\r\n  clickhouse-client.noarch 0:20.4.2.9-2                                                     clickhouse-common-static.x86_64 0:20.4.2.9-2\r\n\r\nComplete!\r\n```\r\nAfter I restarted my server I got this\r\n```\r\n$ sudo systemctl restart clickhouse-server.service\r\n $ clickhouse-client\r\nClickHouse client version 20.4.2.9 (official build).\r\nConnecting to localhost:9000 as user default.\r\nConnected to ClickHouse server version 20.4.2 revision 54434.\r\n```\r\nI didn't try other version or other linux system.\r\n**Expected behavior**\r\nI would like to install a newest stable version of ClickHouse. That's why I chose `20.3.8.53`. I don't know if `20.4` is stable. \r\n\r\nHow does it happen?\r\nHow can I install `20.3`?\r\nIs `20.4` stable to install?\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11003",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11003/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11003/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11003/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11003",
    "id": 620096410,
    "node_id": "MDU6SXNzdWU2MjAwOTY0MTA=",
    "number": 11003,
    "title": "OpenShift startup ",
    "user": {
      "login": "haarchri",
      "id": 21083497,
      "node_id": "MDQ6VXNlcjIxMDgzNDk3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/21083497?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haarchri",
      "html_url": "https://github.com/haarchri",
      "followers_url": "https://api.github.com/users/haarchri/followers",
      "following_url": "https://api.github.com/users/haarchri/following{/other_user}",
      "gists_url": "https://api.github.com/users/haarchri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haarchri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haarchri/subscriptions",
      "organizations_url": "https://api.github.com/users/haarchri/orgs",
      "repos_url": "https://api.github.com/users/haarchri/repos",
      "events_url": "https://api.github.com/users/haarchri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haarchri/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1010059902,
        "node_id": "MDU6TGFiZWwxMDEwMDU5OTAy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/docker",
        "name": "docker",
        "color": "2c8bdd",
        "default": false,
        "description": ""
      },
      {
        "id": 845247686,
        "node_id": "MDU6TGFiZWw4NDUyNDc2ODY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/usability",
        "name": "usability",
        "color": "ebf28c",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "filimonov",
        "id": 1549571,
        "node_id": "MDQ6VXNlcjE1NDk1NzE=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/filimonov",
        "html_url": "https://github.com/filimonov",
        "followers_url": "https://api.github.com/users/filimonov/followers",
        "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
        "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
        "organizations_url": "https://api.github.com/users/filimonov/orgs",
        "repos_url": "https://api.github.com/users/filimonov/repos",
        "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/filimonov/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 6,
    "created_at": "2020-05-18T10:29:00Z",
    "updated_at": "2020-06-24T08:32:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "(you don't have to strictly follow this form)\r\n\r\n**Describe the issue**\r\nWe have the following issues:\r\n```Necessary directory '/var/lib/clickhouse/' isn't owned by user with id '1016890000'```\r\n```        2 drwxrwsr-x. 3 root 1016890000 4.0K May 18 09:24 clickhouse```\r\n\r\nlooks like we are unable to set the UID - but you checked this in the entrypoint - is there a other solution available to setup the docker images without root ?\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use\r\n20\r\n\r\npossible solution could be: https://github.com/Uglykoyote/clickhouse"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11000",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11000/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11000/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/11000/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/11000",
    "id": 620068179,
    "node_id": "MDU6SXNzdWU2MjAwNjgxNzk=",
    "number": 11000,
    "title": "Cannot create VIEW with aliases on JOIN, get \"Cannot detect left and right JOIN keys. JOIN ON section is ambiguous..\"",
    "user": {
      "login": "vladimir-golovchenko",
      "id": 911096,
      "node_id": "MDQ6VXNlcjkxMTA5Ng==",
      "avatar_url": "https://avatars0.githubusercontent.com/u/911096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladimir-golovchenko",
      "html_url": "https://github.com/vladimir-golovchenko",
      "followers_url": "https://api.github.com/users/vladimir-golovchenko/followers",
      "following_url": "https://api.github.com/users/vladimir-golovchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladimir-golovchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladimir-golovchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladimir-golovchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/vladimir-golovchenko/orgs",
      "repos_url": "https://api.github.com/users/vladimir-golovchenko/repos",
      "events_url": "https://api.github.com/users/vladimir-golovchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladimir-golovchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1357578153,
        "node_id": "MDU6TGFiZWwxMzU3NTc4MTUz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-joins",
        "name": "comp-joins",
        "color": "b5bcff",
        "default": false,
        "description": "JOINs"
      },
      {
        "id": 2069471772,
        "node_id": "MDU6TGFiZWwyMDY5NDcxNzcy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-view",
        "name": "comp-view",
        "color": "b5bcff",
        "default": false,
        "description": "VIEWs"
      },
      {
        "id": 386401506,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDY=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/duplicate",
        "name": "duplicate",
        "color": "cccccc",
        "default": true,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-18T09:47:26Z",
    "updated_at": "2020-05-18T14:14:06Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Normal VIEW is failed when defined JOIN with aliases (taken from [stackoverflow](https://stackoverflow.com/q/61865368/303298)).\r\n\r\n```sql\r\nCREATE TABLE test_table_01 (\r\n    column Int32\r\n) ENGINE = Memory();\r\n\r\nCREATE TABLE test_table_02 (\r\n    column Int32\r\n) ENGINE = Memory();\r\n```\r\nCreating view leads to error:\r\n```sql\r\nCREATE VIEW test_view_01 AS\r\nSELECT \r\n    t1.column,\r\n    t2.column\r\nFROM test_table_01 AS t1 \r\n    INNER JOIN test_table_02 AS t2 ON t1.column = t2.column;\r\n```\r\n\r\n```bash\r\nReceived exception from server (version 20.3.8):\r\nCode: 352. DB::Exception: Received from localhost:9000. DB::Exception: Cannot detect left and right JOIN keys. JOIN ON section is ambiguous.. Stack trace:\r\n\r\n0. Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10542450 in /usr/bin/clickhouse\r\n1. DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x8f4272d in /usr/bin/clickhouse\r\n2. ? @ 0xd50f7e8 in /usr/bin/clickhouse\r\n3. DB::CollectJoinOnKeysMatcher::visit(DB::ASTFunction const&, std::__1::shared_ptr<DB::IAST> const&, DB::CollectJoinOnKeysMatcher::Data&) @ 0xd50f193 in /usr/bin/clickhouse\r\n4. DB::InDepthNodeVisitor<DB::CollectJoinOnKeysMatcher, true, std::__1::shared_ptr<DB::IAST> const>::visit(std::__1::shared_ptr<DB::IAST> const&) @ 0xd4fe16d in /usr/bin/clickhouse\r\n5. DB::SyntaxAnalyzer::analyzeSelect(std::__1::shared_ptr<DB::IAST>&, DB::SyntaxAnalyzerResult&&, DB::SelectQueryOptions const&, std::__1::vector<DB::TableWithColumnNamesAndTypes, std::__1::allocator<DB::TableWithColumnNamesAndTypes> > const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) const @ 0xd4f5538 in /usr/bin/clickhouse\r\n6. ? @ 0xd148295 in /usr/bin/clickhouse\r\n7. DB::InterpreterSelectQuery::InterpreterSelectQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, std::__1::shared_ptr<DB::IBlockInputStream> const&, std::__1::optional<DB::Pipe>, std::__1::shared_ptr<DB::IStorage> const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd1495ce in /usr/bin/clickhouse\r\n8. DB::InterpreterSelectQuery::InterpreterSelectQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd14ab89 in /usr/bin/clickhouse\r\n9. DB::InterpreterSelectWithUnionQuery::InterpreterSelectWithUnionQuery(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&, DB::SelectQueryOptions const&, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&) @ 0xd34fcd6 in /usr/bin/clickhouse\r\n10. DB::InterpreterSelectWithUnionQuery::getSampleBlock(std::__1::shared_ptr<DB::IAST> const&, DB::Context const&) @ 0xd3507ba in /usr/bin/clickhouse\r\n11. DB::InterpreterCreateQuery::setProperties(DB::ASTCreateQuery&) const @ 0xd051f62 in /usr/bin/clickhouse\r\n12. DB::InterpreterCreateQuery::createTable(DB::ASTCreateQuery&) @ 0xd05261d in /usr/bin/clickhouse\r\n13. DB::InterpreterCreateQuery::execute() @ 0xd054931 in /usr/bin/clickhouse\r\n14. ? @ 0xd55f038 in /usr/bin/clickhouse\r\n15. DB::executeQuery(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, bool, DB::QueryProcessingStage::Enum, bool, bool) @ 0xd561c71 in /usr/bin/clickhouse\r\n16. DB::TCPHandler::runImpl() @ 0x9025489 in /usr/bin/clickhouse\r\n17. DB::TCPHandler::run() @ 0x9026470 in /usr/bin/clickhouse\r\n18. Poco::Net::TCPServerConnection::start() @ 0xe3b9a4b in /usr/bin/clickhouse\r\n19. Poco::Net::TCPServerDispatcher::run() @ 0xe3b9ecd in /usr/bin/clickhouse\r\n20. Poco::PooledThread::run() @ 0x105d05b7 in /usr/bin/clickhouse\r\n21. Poco::ThreadImpl::runnableEntry(void*) @ 0x105cc3bc in /usr/bin/clickhouse\r\n22. ? @ 0x105cdd5d in /usr/bin/clickhouse\r\n23. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so\r\n24. __clone @ 0x12188f in /lib/x86_64-linux-gnu/libc-2.27.so\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10998",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10998/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10998/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10998/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10998",
    "id": 620026795,
    "node_id": "MDU6SXNzdWU2MjAwMjY3OTU=",
    "number": 10998,
    "title": "Issues when use S3 when using Amazon bucket",
    "user": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 2020016497,
        "node_id": "MDU6TGFiZWwyMDIwMDE2NDk3",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-s3",
        "name": "comp-s3",
        "color": "b5bcff",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "filimonov",
        "id": 1549571,
        "node_id": "MDQ6VXNlcjE1NDk1NzE=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/filimonov",
        "html_url": "https://github.com/filimonov",
        "followers_url": "https://api.github.com/users/filimonov/followers",
        "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
        "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
        "organizations_url": "https://api.github.com/users/filimonov/orgs",
        "repos_url": "https://api.github.com/users/filimonov/repos",
        "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/filimonov/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "excitoon",
        "id": 2255111,
        "node_id": "MDQ6VXNlcjIyNTUxMTE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2255111?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/excitoon",
        "html_url": "https://github.com/excitoon",
        "followers_url": "https://api.github.com/users/excitoon/followers",
        "following_url": "https://api.github.com/users/excitoon/following{/other_user}",
        "gists_url": "https://api.github.com/users/excitoon/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/excitoon/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/excitoon/subscriptions",
        "organizations_url": "https://api.github.com/users/excitoon/orgs",
        "repos_url": "https://api.github.com/users/excitoon/repos",
        "events_url": "https://api.github.com/users/excitoon/events{/privacy}",
        "received_events_url": "https://api.github.com/users/excitoon/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-18T08:50:43Z",
    "updated_at": "2020-05-24T19:21:06Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "2 blocker issues with AWS s3:\r\n1) can't parse one of the (proper) URL format (`Bucket name length out of bounds in S3 URI`)\r\ni.e. (https://s3.us-east-2.amazonaws.com/bucketname/).\r\n2) can't login to non default region `AuthorizationHeaderMalformed: the region 'XXXX' is wrong; expecting 'YYYY'`  (see https://github.com/aws/aws-sdk-cpp/issues/1057)\r\n\r\nAnd 3rd (rather minor/cosmetic/need to be rechecked):\r\nnot showing the real error / reason of the issue here:\r\nhttps://github.com/ClickHouse/ClickHouse/blob/f981649213fb519c57fda3dc2c51ab709cb327f4/src/Storages/StorageS3.cpp#L242-L248"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10994",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10994/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10994/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10994/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10994",
    "id": 619984966,
    "node_id": "MDU6SXNzdWU2MTk5ODQ5NjY=",
    "number": 10994,
    "title": "Failed to load table with Dictionary engine when initializing ClickHouse server",
    "user": {
      "login": "maison2710",
      "id": 8477722,
      "node_id": "MDQ6VXNlcjg0Nzc3MjI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8477722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maison2710",
      "html_url": "https://github.com/maison2710",
      "followers_url": "https://api.github.com/users/maison2710/followers",
      "following_url": "https://api.github.com/users/maison2710/following{/other_user}",
      "gists_url": "https://api.github.com/users/maison2710/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maison2710/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maison2710/subscriptions",
      "organizations_url": "https://api.github.com/users/maison2710/orgs",
      "repos_url": "https://api.github.com/users/maison2710/repos",
      "events_url": "https://api.github.com/users/maison2710/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maison2710/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1351463315,
        "node_id": "MDU6TGFiZWwxMzUxNDYzMzE1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dictionary",
        "name": "comp-dictionary",
        "color": "b5bcff",
        "default": false,
        "description": "Dictionaries"
      },
      {
        "id": 2070999159,
        "node_id": "MDU6TGFiZWwyMDcwOTk5MTU5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.4-affected",
        "name": "v20.4-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.4"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-05-18T07:46:35Z",
    "updated_at": "2020-05-25T15:45:25Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "1 month ago, I found this issue when trying to use version 20.4.1 even it was not released. Now there is an official release of version 20.4.2 but the issue is still there.\r\nI created an issue on GitHub but there is no update then I want to re-post here\r\nhttps://github.com/ClickHouse/ClickHouse/issues/10397\r\n---------------------\r\nRecently, I upgraded ClickHouse from 19.5.3 to 20.4.2 and I got some issue when trying to load table with Dictionary engine during server's start up in version 20.4.2. (It worked fine with 19.5.3). \r\n\r\nI defined a Dictionary xml file with name topics_article and put this xml file under /etc/clickhouse-server/config.d/\r\n\r\nMy table create statement as:\r\nCREATE TABLE intermediate.topics_article (topic_idString,entryString,type String) ENGINE = Dictionary(topics_article)\r\n\r\nI also have setting in config.xml as <dictionaries_config>*_dictionary.xml</dictionaries_config>\r\n<dictionaries_lazy_load>true</dictionaries_lazy_load>\r\n\r\nHowever, in version 20.4.2, server can not start successfully during this error:\r\n\r\n```2020.05.18 07:25:16.032714 [ 191 ] {} <Information> DatabaseOrdinary (intermediate): Total 30 tables and 0 dictionaries.\r\n2020.05.18 07:25:16.087128 [ 218 ] {}<Error> ThreadPool: Exception in ThreadPool(max_threads: 4, max_free_threads: 4, queue_size: 4, shutdown_on_exception: 1).: Code: 36, e.displayText() = DB::Exception: external dictionary 'topics_article' not found: Cannot attach table `intermediate`.`topics_article` from metadata file /var/lib/clickhouse/metadata/intermediate/topics_article.sql from query ATTACH TABLE topics_article (`topic_id` String, `entry` String, `type` String) ENGINE = Dictionary('topics_article'), Stack trace (when copying this message, always include the lines below):\r\n\r\n0. Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x10406ef0 in /usr/bin/clickhouse\r\n1. DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int) @ 0x8ff88ad in /usr/bin/clickhouse\r\n2. ? @ 0xd03de31 in /usr/bin/clickhouse\r\n3. std::__1::shared_ptr<DB::IExternalLoadable const> DB::ExternalLoader::load<std::__1::shared_ptr<DB::IExternalLoadable const>, void>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const @ 0xd049ab3 in /usr/bin/clickhouse\r\n4. ? @ 0xd64ebcc in /usr/bin/clickhouse\r\n5. DB::StorageFactory::get(DB::ASTCreateQuery const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, DB::Context&, DB::ColumnsDescription const&, DB::ConstraintsDescription const&, bool) const @ 0xd67073d in /usr/bin/clickhouse\r\n6. DB::createTableFromAST(DB::ASTCreateQuery, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, DB::Context&, bool) @ 0xd02c9b7 in /usr/bin/clickhouse\r\n7. ? @ 0xd01fc58 in /usr/bin/clickhouse\r\n8. ? @ 0xd020612 in /usr/bin/clickhouse\r\n9. ThreadPoolImpl<ThreadFromGlobalPool>::worker(std::__1::__list_iterator<ThreadFromGlobalPool, void*>) @ 0x901f3ab in /usr/bin/clickhouse\r\n10. ThreadFromGlobalPool::ThreadFromGlobalPool<void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()>(void&&, void ThreadPoolImpl<ThreadFromGlobalPool>::scheduleImpl<void>(std::__1::function<void ()>, int, std::__1::optional<unsigned long>)::'lambda1'()&&...)::'lambda'()::operator()() const @ 0x902017a in /usr/bin/clickhouse\r\n11. ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x901e26b in /usr/bin/clickhouse\r\n12. ? @ 0x901c753 in /usr/bin/clickhouse\r\n13. start_thread @ 0x76db in /lib/x86_64-linux-gnu/libpthread-2.27.so\r\n14. __clone @ 0x12188f in /lib/x86_64-linux-gnu/libc-2.27.so\r\n(version 20.4.2.9 (official build))\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10987",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10987/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10987/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10987/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10987",
    "id": 619784014,
    "node_id": "MDU6SXNzdWU2MTk3ODQwMTQ=",
    "number": 10987,
    "title": "Split background pools for merges/mutations and fetches.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "Akazz",
      "id": 9271526,
      "node_id": "MDQ6VXNlcjkyNzE1MjY=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/9271526?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Akazz",
      "html_url": "https://github.com/Akazz",
      "followers_url": "https://api.github.com/users/Akazz/followers",
      "following_url": "https://api.github.com/users/Akazz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Akazz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Akazz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Akazz/subscriptions",
      "organizations_url": "https://api.github.com/users/Akazz/orgs",
      "repos_url": "https://api.github.com/users/Akazz/repos",
      "events_url": "https://api.github.com/users/Akazz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Akazz/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "Akazz",
        "id": 9271526,
        "node_id": "MDQ6VXNlcjkyNzE1MjY=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/9271526?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Akazz",
        "html_url": "https://github.com/Akazz",
        "followers_url": "https://api.github.com/users/Akazz/followers",
        "following_url": "https://api.github.com/users/Akazz/following{/other_user}",
        "gists_url": "https://api.github.com/users/Akazz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Akazz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Akazz/subscriptions",
        "organizations_url": "https://api.github.com/users/Akazz/orgs",
        "repos_url": "https://api.github.com/users/Akazz/repos",
        "events_url": "https://api.github.com/users/Akazz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Akazz/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-17T19:53:38Z",
    "updated_at": "2020-06-15T16:11:27Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "Merges and fetches are using the same BackgroundProcessingPool.\r\nIt has the following disadvantages:\r\n\r\n1. When replica is recovering, it's possible that all the threads in pool are occupied for fetches and no merges are processing. It leads to \"Too many parts\" error.\r\n\r\n2. The size of BackgroundProcessingPool is way large for fetches. Even a few connections can utilize 10 Gbit network and usually there is no point to fetch data with 16 connections.\r\n\r\nAlternative solutions:\r\n- limit amount of threads doing fetches in BackgroundProcessingPool.\r\n\r\n@Akazz if you are interested, or unassign please."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10982",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10982/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10982/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10982/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10982",
    "id": 619749877,
    "node_id": "MDU6SXNzdWU2MTk3NDk4Nzc=",
    "number": 10982,
    "title": "clickhouse-test continues working on SIGINT",
    "user": {
      "login": "myrrc",
      "id": 7099650,
      "node_id": "MDQ6VXNlcjcwOTk2NTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7099650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/myrrc",
      "html_url": "https://github.com/myrrc",
      "followers_url": "https://api.github.com/users/myrrc/followers",
      "following_url": "https://api.github.com/users/myrrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/myrrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/myrrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/myrrc/subscriptions",
      "organizations_url": "https://api.github.com/users/myrrc/orgs",
      "repos_url": "https://api.github.com/users/myrrc/repos",
      "events_url": "https://api.github.com/users/myrrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/myrrc/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 521113272,
        "node_id": "MDU6TGFiZWw1MjExMTMyNzI=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/build",
        "name": "build",
        "color": "d93f0b",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-17T16:47:14Z",
    "updated_at": "2020-05-18T17:03:14Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "(you don't have to strictly follow this form)\r\n\r\n**Describe the bug**\r\n./clickhouse test does not interrupt on SIGINT, continues looping.\r\n\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use -- last master\r\n\r\n\r\n**Expected behavior**\r\nclickhouse-test terminating\r\n\r\n**Error message and/or stacktrace**\r\n```\r\nKeyboardInterrupt\r\n    self.run()\r\n    racquire()\r\n  File \"/usr/lib/python2.7/multiprocessing/process.py\", line 114, in run\r\nKeyboardInterrupt\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 102, in worker\r\n    self.run()\r\n    task = get()\r\n  File \"/usr/lib/python2.7/multiprocessing/process.py\", line 114, in run\r\n  File \"/usr/lib/python2.7/multiprocessing/process.py\", line 267, in _bootstrap\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 102, in worker\r\n    self.run()\r\n  File \"/usr/lib/python2.7/multiprocessing/process.py\", line 114, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/lib/python2.7/multiprocessing/queues.py\", line 374, in get\r\n  File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 102, in worker\r\n    task = get()\r\n  File \"/usr/lib/python2.7/multiprocessing/queues.py\", line 374, in get\r\n    racquire()\r\nKeyboardInterrupt\r\n    task = get()\r\n  File \"/usr/lib/python2.7/multiprocessing/queues.py\", line 374, in get\r\n    racquire()\r\nKeyboardInterrupt\r\n    racquire()\r\nKeyboardInterrupt\r\n\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10979",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10979/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10979/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10979/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10979",
    "id": 619702620,
    "node_id": "MDU6SXNzdWU2MTk3MDI2MjA=",
    "number": 10979,
    "title": "Unexpected behavior of the JSONExtractArrayRaw",
    "user": {
      "login": "alphavector",
      "id": 11805788,
      "node_id": "MDQ6VXNlcjExODA1Nzg4",
      "avatar_url": "https://avatars1.githubusercontent.com/u/11805788?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alphavector",
      "html_url": "https://github.com/alphavector",
      "followers_url": "https://api.github.com/users/alphavector/followers",
      "following_url": "https://api.github.com/users/alphavector/following{/other_user}",
      "gists_url": "https://api.github.com/users/alphavector/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alphavector/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alphavector/subscriptions",
      "organizations_url": "https://api.github.com/users/alphavector/orgs",
      "repos_url": "https://api.github.com/users/alphavector/repos",
      "events_url": "https://api.github.com/users/alphavector/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alphavector/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1575085465,
        "node_id": "MDU6TGFiZWwxNTc1MDg1NDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/unexpected%20behaviour",
        "name": "unexpected behaviour",
        "color": "e088ca",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-17T13:24:01Z",
    "updated_at": "2020-05-17T13:24:01Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "**Describe the unexpected behaviour**\r\nUnexpected behavior of the `JSONExtractArrayRaw` function with decimal numbers\r\n\r\n**How to reproduce**\r\nI use the docker image yandex/clickhouse-server:latest.\r\nClickHouse version 20.4.2.9 (official build)\r\n\r\n`SELECT JSONExtractArrayRaw('{\"a\": \"hello\", \"b\": [-100, 200.0, \"hello\"]}', 'b');`\r\n**The result:**\r\n`['-100','200','\"hello\"']`\r\n**Expected result:**\r\n`['-100','200.0','\"hello\"']`\r\n\r\n`SELECT JSONExtractArrayRaw('{\"a\": \"hello\", \"b\": [-100, 200.2, \"hello\"]}', 'b');`\r\n**The result:**\r\n`['-100','200.20000000000002','\"hello\"']`\r\n**Expected result:**\r\n`['-100','200.2','\"hello\"']`\r\n\r\n`SELECT JSONExtractArrayRaw('{\"a\": \"hello\", \"b\": [-100, 200.200000000000000000000000000, \"hello\"]}', 'b');`\r\n**The result:**\r\n`['-100','200.2','\"hello\"']`\r\n**Expected result:**\r\n`['-100', '200.200000000000000000000000000', '\"hello\"']`\r\n\r\nAs you can see, the result is not at all what is expected."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10977",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10977/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10977/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10977/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10977",
    "id": 619662841,
    "node_id": "MDU6SXNzdWU2MTk2NjI4NDE=",
    "number": 10977,
    "title": "Index analysis does not work for expression `toHour(toDateTime(timestamp)) = 13`",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-17T10:13:34Z",
    "updated_at": "2020-05-17T10:13:34Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Describe the solution you'd like**\r\nIt should work with help of analysis of partially-monotonic functions that we have."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10976",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10976/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10976/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10976/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10976",
    "id": 619644482,
    "node_id": "MDU6SXNzdWU2MTk2NDQ0ODI=",
    "number": 10976,
    "title": "Query parameters don't work for mutations",
    "user": {
      "login": "th0th",
      "id": 698079,
      "node_id": "MDQ6VXNlcjY5ODA3OQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/698079?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/th0th",
      "html_url": "https://github.com/th0th",
      "followers_url": "https://api.github.com/users/th0th/followers",
      "following_url": "https://api.github.com/users/th0th/following{/other_user}",
      "gists_url": "https://api.github.com/users/th0th/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/th0th/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/th0th/subscriptions",
      "organizations_url": "https://api.github.com/users/th0th/orgs",
      "repos_url": "https://api.github.com/users/th0th/repos",
      "events_url": "https://api.github.com/users/th0th/events{/privacy}",
      "received_events_url": "https://api.github.com/users/th0th/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1351290474,
        "node_id": "MDU6TGFiZWwxMzUxMjkwNDc0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-mutations",
        "name": "comp-mutations",
        "color": "b5bcff",
        "default": false,
        "description": "ALTER UPDATE/DELETE"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-17T08:35:44Z",
    "updated_at": "2020-05-19T19:27:08Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\n\r\nWhen a parameter is used in `UPDATE` part of the query ```Query parameter `field` was not set``` occurs on an `ALTER` query.\r\n\r\n**How to reproduce**\r\n\r\n* ClickHouse server version 20.4.2.9 (official build).\r\n* HTTP interface\r\n* Non-default settings, if any\r\n\r\nTable: \r\n\r\n```sql\r\nCREATE TABLE table\r\n(\r\n  id UUID,\r\n  date_time DateTime,\r\n  x UInt32,\r\n  y UInt32\r\n) ENGINE = MergeTree()\r\nPARTITION BY toYYYYMMDD(date_time)\r\nORDER BY (date_time);\r\n```\r\n\r\nQuery: \r\n\r\n```sql\r\nALTER TABLE table\r\nUPDATE x = {x:UInt32}\r\nWHERE y = {y:UInt32};\r\n```\r\n\r\nrequest:\r\n\r\n<img width=\"1479\" alt=\"Screen Shot 2020-05-17 at 11 33 08\" src=\"https://user-images.githubusercontent.com/698079/82139661-41538200-9832-11ea-8554-b16b43c4e373.png\">\r\n\r\ncurl:\r\n\r\n```sh\r\n$ curl --location --request POST 'http://clickhouse-url/?query=ALTER%20TABLE%20table%0AUPDATE%20x%20%3D%20{x:UInt32}%0AWHERE%20y%20%3D%20{y:UInt32};&param_x=1&param_y=7'\r\n```\r\n\r\n**Expected behavior**\r\n\r\nUpdate query should run without any issues.\r\n\r\n**Error message and/or stacktrace**\r\n\r\n```\r\nCode: 456, e.displayText() = DB::Exception: Query parameter `x` was not set (version 20.4.2.9 (official build))\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10973",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10973/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10973/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10973/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10973",
    "id": 619617654,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE5MDY1NzM2",
    "number": 10973,
    "title": "[WIP] Automatic generation of random datasets for a query",
    "user": {
      "login": "ZeDRoman",
      "id": 34962941,
      "node_id": "MDQ6VXNlcjM0OTYyOTQx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/34962941?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZeDRoman",
      "html_url": "https://github.com/ZeDRoman",
      "followers_url": "https://api.github.com/users/ZeDRoman/followers",
      "following_url": "https://api.github.com/users/ZeDRoman/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZeDRoman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZeDRoman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZeDRoman/subscriptions",
      "organizations_url": "https://api.github.com/users/ZeDRoman/orgs",
      "repos_url": "https://api.github.com/users/ZeDRoman/repos",
      "events_url": "https://api.github.com/users/ZeDRoman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZeDRoman/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 9,
    "created_at": "2020-05-17T05:54:07Z",
    "updated_at": "2020-06-16T17:17:33Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10973",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10973",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10973.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10973.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n- Added database generation by query util\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\nUtil recieves queries unitl it gets EOF\r\nUtil print to std::out queries that generates database and fills it with values\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10971",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10971/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10971/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10971/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10971",
    "id": 619605248,
    "node_id": "MDU6SXNzdWU2MTk2MDUyNDg=",
    "number": 10971,
    "title": "One and a half billion data, very slow to execute, the results come out and it's much faster to execute again",
    "user": {
      "login": "zhbdesign",
      "id": 50901800,
      "node_id": "MDQ6VXNlcjUwOTAxODAw",
      "avatar_url": "https://avatars3.githubusercontent.com/u/50901800?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhbdesign",
      "html_url": "https://github.com/zhbdesign",
      "followers_url": "https://api.github.com/users/zhbdesign/followers",
      "following_url": "https://api.github.com/users/zhbdesign/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhbdesign/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhbdesign/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhbdesign/subscriptions",
      "organizations_url": "https://api.github.com/users/zhbdesign/orgs",
      "repos_url": "https://api.github.com/users/zhbdesign/repos",
      "events_url": "https://api.github.com/users/zhbdesign/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhbdesign/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      },
      {
        "id": 845267693,
        "node_id": "MDU6TGFiZWw4NDUyNjc2OTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-info",
        "name": "st-need-info",
        "color": "e5b890",
        "default": false,
        "description": "We need extra data to continue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-17T04:15:28Z",
    "updated_at": "2020-05-17T09:14:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "![微信图片_20200517121452](https://user-images.githubusercontent.com/50901800/82135686-09e7d400-9838-11ea-9167-b4b701f353bd.png)\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10966",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10966/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10966/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10966/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10966",
    "id": 619568371,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE5MDMxOTA5",
    "number": 10966,
    "title": "Update zlib-ng",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1874596525,
        "node_id": "MDU6TGFiZWwxODc0NTk2NTI1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/no-docs-needed",
        "name": "no-docs-needed",
        "color": "efefef",
        "default": false,
        "description": ""
      },
      {
        "id": 1309693854,
        "node_id": "MDU6TGFiZWwxMzA5NjkzODU0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-build",
        "name": "pr-build",
        "color": "007700",
        "default": false,
        "description": "Pull request with build/testing/packaging improvement"
      },
      {
        "id": 2107435505,
        "node_id": "MDU6TGFiZWwyMTA3NDM1NTA1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/submodule%20changed",
        "name": "submodule changed",
        "color": "b7130b",
        "default": false,
        "description": "At least one submodule changed in this PR."
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-16T22:39:24Z",
    "updated_at": "2020-06-20T12:01:30Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10966",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10966",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10966.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10966.patch"
    },
    "body": "Changelog category (leave one):\r\n- Build/Testing/Packaging Improvement\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nUpdate `zlib-ng` to the latest version. This is needed to run \"clusterfuzz\" (it is doing by Eldar Zaitov).\r\n\r\nNote: accidentially made `rebase` instead of `merge` in submodule repository. Old versions would not find the old referenced commit and has to be updated also.\r\n\r\nUpd: I have restored the old branch here: https://github.com/ClickHouse-Extras/zlib-ng/commits/develop-old"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10963",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10963/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10963/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10963/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10963",
    "id": 619538800,
    "node_id": "MDU6SXNzdWU2MTk1Mzg4MDA=",
    "number": 10963,
    "title": "clickhouse database in docker container should not be available externally until it is initialized",
    "user": {
      "login": "KorneiDontsov",
      "id": 18506086,
      "node_id": "MDQ6VXNlcjE4NTA2MDg2",
      "avatar_url": "https://avatars0.githubusercontent.com/u/18506086?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KorneiDontsov",
      "html_url": "https://github.com/KorneiDontsov",
      "followers_url": "https://api.github.com/users/KorneiDontsov/followers",
      "following_url": "https://api.github.com/users/KorneiDontsov/following{/other_user}",
      "gists_url": "https://api.github.com/users/KorneiDontsov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KorneiDontsov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KorneiDontsov/subscriptions",
      "organizations_url": "https://api.github.com/users/KorneiDontsov/orgs",
      "repos_url": "https://api.github.com/users/KorneiDontsov/repos",
      "events_url": "https://api.github.com/users/KorneiDontsov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KorneiDontsov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1010059902,
        "node_id": "MDU6TGFiZWwxMDEwMDU5OTAy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/docker",
        "name": "docker",
        "color": "2c8bdd",
        "default": false,
        "description": ""
      },
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-16T19:17:32Z",
    "updated_at": "2020-05-18T07:41:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I believe that clickhouse-server process should accept only local connections during execution of scripts in `/docker-entrypoint-initdb.d/`. I viewed [docker/server/entrypoint.sh](https://github.com/ClickHouse/ClickHouse/blob/a55c6763d6add428ba0816aca43fdc0f73794dba/docker/server/entrypoint.sh) and I didn't find this behaviour. Correct me if I am wrong.\r\n\r\nWhat I expect at [first launch of  `clickhouse-server`](https://github.com/ClickHouse/ClickHouse/blob/a55c6763d6add428ba0816aca43fdc0f73794dba/docker/server/entrypoint.sh#L92) is like\r\n`$gosu /usr/bin/clickhouse-server --config-file=$CLICKHOUSE_CONFIG -- listen_host=127.0.0.1 &`\r\nwhere `-- listen_host=127.0.0.1` gives the behaviour I search for.\r\n\r\nIf I understand CLI correctly I guess I could get this behaviour if I specify `<listen_host>127.0.0.1</listen_host>` in `config.xml` and execute `docker run` with `-- listen_host=0.0.0.0`. But as I said I believe that this should be done differently.\r\n\r\nTo be compatible with the existing behaviour a new environment variable may be used to configure behaviour."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10962",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10962/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10962/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10962/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10962",
    "id": 619515124,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE4OTk0NjYx",
    "number": 10962,
    "title": "Python UDF",
    "user": {
      "login": "ObjatieGroba",
      "id": 12159464,
      "node_id": "MDQ6VXNlcjEyMTU5NDY0",
      "avatar_url": "https://avatars2.githubusercontent.com/u/12159464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ObjatieGroba",
      "html_url": "https://github.com/ObjatieGroba",
      "followers_url": "https://api.github.com/users/ObjatieGroba/followers",
      "following_url": "https://api.github.com/users/ObjatieGroba/following{/other_user}",
      "gists_url": "https://api.github.com/users/ObjatieGroba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ObjatieGroba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ObjatieGroba/subscriptions",
      "organizations_url": "https://api.github.com/users/ObjatieGroba/orgs",
      "repos_url": "https://api.github.com/users/ObjatieGroba/repos",
      "events_url": "https://api.github.com/users/ObjatieGroba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ObjatieGroba/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-05-16T16:58:45Z",
    "updated_at": "2020-06-16T18:51:19Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10962",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10962",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10962.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10962.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nPython Scalar User Defined Functions\r\n\r\n\r\nDetailed description / Documentation draft:\r\nAdding Python Scalar User Defined Functions\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10961",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10961/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10961/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10961/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10961",
    "id": 619487791,
    "node_id": "MDU6SXNzdWU2MTk0ODc3OTE=",
    "number": 10961,
    "title": "Server not reacting to SIGINT, stuck at \"Application: Shutting down storages\"",
    "user": {
      "login": "myrrc",
      "id": 7099650,
      "node_id": "MDQ6VXNlcjcwOTk2NTA=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/7099650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/myrrc",
      "html_url": "https://github.com/myrrc",
      "followers_url": "https://api.github.com/users/myrrc/followers",
      "following_url": "https://api.github.com/users/myrrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/myrrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/myrrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/myrrc/subscriptions",
      "organizations_url": "https://api.github.com/users/myrrc/orgs",
      "repos_url": "https://api.github.com/users/myrrc/repos",
      "events_url": "https://api.github.com/users/myrrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/myrrc/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1273656645,
        "node_id": "MDU6TGFiZWwxMjczNjU2NjQ1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/alternative%20build",
        "name": "alternative build",
        "color": "fef2c0",
        "default": false,
        "description": ""
      },
      {
        "id": 845267693,
        "node_id": "MDU6TGFiZWw4NDUyNjc2OTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-info",
        "name": "st-need-info",
        "color": "e5b890",
        "default": false,
        "description": "We need extra data to continue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-16T14:29:39Z",
    "updated_at": "2020-05-18T02:15:02Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "(you don't have to strictly follow this form)\r\n\r\n**Describe the bug**\r\nThe server, being run on various databases (or without ones), receiving Ctrl + C (or SIGINT), stucks at \"Application: Shutting down storages\" step.\r\nAfter sending second SIGINT it terminates (as expected)\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use -- d0b56a4c7d\r\n273267ca8b\r\n* Queries to run that lead to unexpected result -- no queries\r\n\r\n**Expected behavior**\r\nServer exiting (graceful shutdown) on first SIGINT receive.\r\n\r\n**Error message and/or stacktrace**\r\nNo error message.\r\n\r\nUsed standard config.xml and own one, attached.\r\nServer log attached\r\n[config.xml.txt](https://github.com/ClickHouse/ClickHouse/files/4638519/config.xml.txt)\r\n[log.txt](https://github.com/ClickHouse/ClickHouse/files/4638521/log.txt)\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10958",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10958/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10958/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10958/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10958",
    "id": 619417189,
    "node_id": "MDU6SXNzdWU2MTk0MTcxODk=",
    "number": 10958,
    "title": "Allow SELECT * when using RBAC and Row level Filters",
    "user": {
      "login": "volfco",
      "id": 433045,
      "node_id": "MDQ6VXNlcjQzMzA0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/433045?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/volfco",
      "html_url": "https://github.com/volfco",
      "followers_url": "https://api.github.com/users/volfco/followers",
      "following_url": "https://api.github.com/users/volfco/following{/other_user}",
      "gists_url": "https://api.github.com/users/volfco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/volfco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/volfco/subscriptions",
      "organizations_url": "https://api.github.com/users/volfco/orgs",
      "repos_url": "https://api.github.com/users/volfco/repos",
      "events_url": "https://api.github.com/users/volfco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/volfco/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 2011606513,
        "node_id": "MDU6TGFiZWwyMDExNjA2NTEz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-rbac",
        "name": "comp-rbac",
        "color": "b5bcff",
        "default": false,
        "description": "Access control related"
      },
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-16T08:45:30Z",
    "updated_at": "2020-05-16T16:15:21Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "When running `SELECT * FROM queryMetrics` as a restricted user (Clickhouse 20.4.2.9) that has a limited SELECT GRANT, you get the following error:\r\n```\r\nCode: 497. DB::Exception: Received from 127.0.0.1:9000. DB::Exception: dyn_testing: Not enough privileges. To execute this query it's necessary to have the grant SELECT(Timestamp, Remote, QType, QName, Buffer, Cached, Datacenter, Server, IsTcp, DomainName, RecordName, DomainID) ON default.queryMetrics. \r\n```\r\nI'm using the following GRANT statement:\r\n```\r\nGRANT SELECT(Cached, Timestamp, QType, QName, Datacenter, DomainName, RecordName, DomainID) ON default.queryMetrics ON CLUSTER metrics TO dyn_testing WITH GRANT OPTION;\r\n```\r\n\r\nWhat I would like to see, is that the wildcard doesn't return with an error, but selects everything the user has access to. The only time an error would occur is if the restricted user tries to query a column they don't have permissions for. \r\n\r\nThis way the user doesn't need to manually specify the fields, and the database doesn't leak the fact that the user is not seeing all the columns in the table."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10957",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10957/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10957/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10957/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10957",
    "id": 619344681,
    "node_id": "MDU6SXNzdWU2MTkzNDQ2ODE=",
    "number": 10957,
    "title": "CREATE ROW POLICY cannot run as DDL",
    "user": {
      "login": "volfco",
      "id": 433045,
      "node_id": "MDQ6VXNlcjQzMzA0NQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/433045?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/volfco",
      "html_url": "https://github.com/volfco",
      "followers_url": "https://api.github.com/users/volfco/followers",
      "following_url": "https://api.github.com/users/volfco/following{/other_user}",
      "gists_url": "https://api.github.com/users/volfco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/volfco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/volfco/subscriptions",
      "organizations_url": "https://api.github.com/users/volfco/orgs",
      "repos_url": "https://api.github.com/users/volfco/repos",
      "events_url": "https://api.github.com/users/volfco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/volfco/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1401254412,
        "node_id": "MDU6TGFiZWwxNDAxMjU0NDEy",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dddl",
        "name": "comp-dddl",
        "color": "b5bcff",
        "default": false,
        "description": "Distributed DDL feature"
      },
      {
        "id": 2011606513,
        "node_id": "MDU6TGFiZWwyMDExNjA2NTEz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-rbac",
        "name": "comp-rbac",
        "color": "b5bcff",
        "default": false,
        "description": "Access control related"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-16T01:02:36Z",
    "updated_at": "2020-05-16T16:21:15Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\nCREATE ROW POLICY statement doesn't support DDL Query. \r\n\r\n**How to reproduce**\r\nUsing 20.4.2.9. \r\n```\r\nmetrics :) CREATE ROW POLICY plc_dyn_testing ON CLUSTER metrics ON default.pdnsQueryMetrics_shard AS RESTRICTIVE FOR SELECT USING DomainID = 1 TO testinguser1;\r\n\r\nSyntax error: failed at position 46:\r\n\r\nCREATE ROW POLICY plc_dyn_testing ON CLUSTER metrics ON default.pdnsQueryMetrics_shard AS RESTRICTIVE FOR SELECT USING DomainID = 1 TO testinguser1;\r\n\r\nExpected one of: WITH CHECK, AS, USING, FOR, TO\r\n\r\nmetrics :) \r\n```\r\n\r\n**Expected behavior**\r\nDocs indicate that ON CLUSTER is supported. https://clickhouse.tech/docs/en/sql-reference/statements/create/#create-row-policy-statement :\r\n```\r\nCREATE [ROW] POLICY [IF NOT EXISTS | OR REPLACE] policy_name [ON CLUSTER cluster_name] ON [db.]table\r\n    [AS {PERMISSIVE | RESTRICTIVE}]\r\n    [FOR SELECT]\r\n    [USING condition]\r\n    [TO {role [,...] | ALL | ALL EXCEPT role [,...]}]\r\n```\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10956",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10956/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10956/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10956/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10956",
    "id": 619338857,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE4ODg3NTgz",
    "number": 10956,
    "title": "Improve performance and lower memory usage of GROUP BY with novel method.",
    "user": {
      "login": "palasonic1",
      "id": 39745378,
      "node_id": "MDQ6VXNlcjM5NzQ1Mzc4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/39745378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/palasonic1",
      "html_url": "https://github.com/palasonic1",
      "followers_url": "https://api.github.com/users/palasonic1/followers",
      "following_url": "https://api.github.com/users/palasonic1/following{/other_user}",
      "gists_url": "https://api.github.com/users/palasonic1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/palasonic1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/palasonic1/subscriptions",
      "organizations_url": "https://api.github.com/users/palasonic1/orgs",
      "repos_url": "https://api.github.com/users/palasonic1/repos",
      "events_url": "https://api.github.com/users/palasonic1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/palasonic1/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-16T00:31:39Z",
    "updated_at": "2020-06-09T02:04:06Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10956",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10956",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10956.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10956.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\nplaceholder\r\n\r\nDetailed description / Documentation draft:\r\nplaceholder"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10955",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10955/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10955/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10955/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10955",
    "id": 619330853,
    "node_id": "MDU6SXNzdWU2MTkzMzA4NTM=",
    "number": 10955,
    "title": "CREATE AS SELECT casting data types",
    "user": {
      "login": "calebeaires",
      "id": 794195,
      "node_id": "MDQ6VXNlcjc5NDE5NQ==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/794195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebeaires",
      "html_url": "https://github.com/calebeaires",
      "followers_url": "https://api.github.com/users/calebeaires/followers",
      "following_url": "https://api.github.com/users/calebeaires/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebeaires/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebeaires/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebeaires/subscriptions",
      "organizations_url": "https://api.github.com/users/calebeaires/orgs",
      "repos_url": "https://api.github.com/users/calebeaires/repos",
      "events_url": "https://api.github.com/users/calebeaires/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebeaires/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-15T23:56:08Z",
    "updated_at": "2020-05-15T23:57:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Use case**\r\nTake advantage of CREATE AS SELECT in favor os clean code an performance and also (and eventually) change some field data type .\r\n\r\n**Describe the solution you'd like**\r\nFROM: Consider a table *world* that has this **Decimal** columns continent\r\nTO: Want replicate this table, but change this **Decimal** column to i.e: **String**\r\n\r\n```sql\r\nCREATE TABLE world\r\n(continent String)\r\nengine MergeTree() \r\nas select `continent` from `example_world`;\r\n```\r\n\r\nProblem: when I inform the data type of the column to be created from select, ClickHouse give me an error.\r\n\r\n**Describe alternatives you've considered**\r\nRight now I am creating the table first then using INSERT AS SELECT. I came from MySQL where I used to CREATE WITH SELECT informing columns data types.\r\n\r\n**Additional context**\r\nMy concern is that as my app does many sequencial create as select, and sometimes I need to change the column type, using INSERT AS SELECT after first CREATE the table will drop performance of complete tasks\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10954",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10954/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10954/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10954/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10954",
    "id": 619312853,
    "node_id": "MDU6SXNzdWU2MTkzMTI4NTM=",
    "number": 10954,
    "title": "Is there a way to evaluate WITH expression in distributed table and pass the result to data nodes?",
    "user": {
      "login": "yfinkelstein",
      "id": 166346,
      "node_id": "MDQ6VXNlcjE2NjM0Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/166346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yfinkelstein",
      "html_url": "https://github.com/yfinkelstein",
      "followers_url": "https://api.github.com/users/yfinkelstein/followers",
      "following_url": "https://api.github.com/users/yfinkelstein/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfinkelstein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yfinkelstein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfinkelstein/subscriptions",
      "organizations_url": "https://api.github.com/users/yfinkelstein/orgs",
      "repos_url": "https://api.github.com/users/yfinkelstein/repos",
      "events_url": "https://api.github.com/users/yfinkelstein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yfinkelstein/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2020-05-15T22:48:49Z",
    "updated_at": "2020-05-16T09:43:56Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hello, \r\nit's not clear from documentation what is the behavior of the system with respect to WITH clause evaluation. Consider the following 2 queries:\r\n\r\n1. `WITH dictGet('dict', 'version', toUInt64(0))  as _ver SELECT * from mytable`\r\n2. `WITH dictGet('dict', 'version', toUInt64(0)) AS _ver SELECT count(*) AS cnt FROM mytable\r\nPREWHERE version = _ver`\r\n\r\nBoth queries are sent to distributed table and then to data nodes.\r\nQuestions: \r\nFor both queries above, \r\n1. Will dictGet(..) be performed by DT and query sent to the data nodes be re-written as `WITH 10 as _ver SELECT ...` ?\r\n2. Will dictGet be performed by both DT and data nodes independently of each other? This means that potentially the result of the lookup can be different.\r\n3. Will dictGet be performed ONLY by the data nodes and DT will simply never evaluate the WITH clause?\r\n\r\nWhat we really need is a way to achieve the effect in 1 with WITH clause expansion in the DT node. This allows us to establish some common context for query execution on different data nodes. There are many useful application of this feature."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10945",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10945/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10945/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10945/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10945",
    "id": 618934153,
    "node_id": "MDU6SXNzdWU2MTg5MzQxNTM=",
    "number": 10945,
    "title": "groupArray(max_size)(col) with max_size defined in WITH clause",
    "user": {
      "login": "pic-Nick",
      "id": 5773437,
      "node_id": "MDQ6VXNlcjU3NzM0Mzc=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/5773437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pic-Nick",
      "html_url": "https://github.com/pic-Nick",
      "followers_url": "https://api.github.com/users/pic-Nick/followers",
      "following_url": "https://api.github.com/users/pic-Nick/following{/other_user}",
      "gists_url": "https://api.github.com/users/pic-Nick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pic-Nick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pic-Nick/subscriptions",
      "organizations_url": "https://api.github.com/users/pic-Nick/orgs",
      "repos_url": "https://api.github.com/users/pic-Nick/repos",
      "events_url": "https://api.github.com/users/pic-Nick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pic-Nick/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1575085465,
        "node_id": "MDU6TGFiZWwxNTc1MDg1NDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/unexpected%20behaviour",
        "name": "unexpected behaviour",
        "color": "e088ca",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-15T12:33:08Z",
    "updated_at": "2020-05-15T12:33:08Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the unexpected behaviour**\r\nWhen using groupArray function with max_size parameter defined as constant in WITH clause got error message:\r\n`Code: 47, e.displayText() = DB::Exception: Missing columns: 'max_size' while processing query: 'WITH 1 AS max_size SELECT groupArray(max_size)(col) FROM (SELECT 1 AS col UNION ALL SELECT 2)', required columns: 'col' 'max_size', source columns: 'col' (version 20.3.8.53 (official build))`\r\n\r\n**How to reproduce**\r\nClickHouse server version 20.3.8.53\r\n```\r\nwith 1 as max_size\r\nselect groupArray(max_size)(col) from (\r\nselect 1 as col\r\nUNION ALL\r\nselect 2\r\n)\r\n```\r\n\r\n**Expected behavior**\r\nIt would be nice to have this function accept max_size parameter as defined in WITH clause."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10943",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10943/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10943/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10943/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10943",
    "id": 618875009,
    "node_id": "MDU6SXNzdWU2MTg4NzUwMDk=",
    "number": 10943,
    "title": "Scaling out a live cluster by adding incremental capacity(online resharding)",
    "user": {
      "login": "yfinkelstein",
      "id": 166346,
      "node_id": "MDQ6VXNlcjE2NjM0Ng==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/166346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yfinkelstein",
      "html_url": "https://github.com/yfinkelstein",
      "followers_url": "https://api.github.com/users/yfinkelstein/followers",
      "following_url": "https://api.github.com/users/yfinkelstein/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfinkelstein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yfinkelstein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfinkelstein/subscriptions",
      "organizations_url": "https://api.github.com/users/yfinkelstein/orgs",
      "repos_url": "https://api.github.com/users/yfinkelstein/repos",
      "events_url": "https://api.github.com/users/yfinkelstein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yfinkelstein/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-15T10:44:50Z",
    "updated_at": "2020-05-28T21:49:08Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Use case**\r\nAs data set in the cluster grows, new shards need to be added with the purpose of both placing new(future) data on them as well as offloading existing data to free up space and other resources on the existing shards. An important requirement is **do it without a downtime** as well as **without sacrificing data consistency**. The second requirement can be formalized as follows:\r\n* Every physical row of data ever successfully stored in the cluster must be seen once and only once by any matching query at all times - even when resharding activity is taking place.\r\n* The effect of all ongoing row mutation activities in Collapsing-, Aggregating-, Summing-, etc xxMergeTrees must not be altered by resharding operations from the point of view of correctness of corresponding xxMergeTrees algorithms\r\n\r\n**Describe alternatives you've considered**\r\nWe first looked at clickouse-copier which obviously is closely related to the task of adding new shards. However, there is no evidence that the 2 requirements mentioned above have been taken into account. Specifically, \r\n1) the outcome of copying a live mutable partition from one shard to another is undefined in terms of any consistency guarantees, right? Some parts can be copied, some may not, and future writes will continue to go to the same partition in the source but not in the target. \r\n2) copying of a partition from one shard to another in a live cluster results in duplication of this partition's data such that a query running on both From and To shards may end up seeing the same data in both places. Even if the intended use of the copier is to first build out a new shard and only then add it to the cluster - there is still an obvious consistency problem with this because addition of a shard and dropping of partitions/parts in the previous shards locations  **is not atomic**\r\n\r\n**Describe the solution you'd like**\r\nThe purpose of this ticket is not necessarily to suggest how clickhouse SHOULD solve this problem but to seek feedback on whether the following implementation even makes sense. We can implement it ourselves in a private fork of clickhouse and use it in our deployment first.\r\nPlease consider that we are by no means experts in CH design and internals, so this idea may simply not be sound. \r\n \r\nHere is the idea that we have. \r\nThe key observation is that if some partition is **immutable** because, for instance, `PARTITION BY` includes an insertion date column and all the dates except for \"today\" are no longer being written to then using clickhouse-copier is safe. \r\n\r\n1. Define PARTITION BY to be `hash_range (some business fields) + toYYYYMMDD(insert_date) `- i.e. a tuple of 2 values of type int32 and Date. Hash range is an idea from stateful consistent hashing algorithms where the range of [0,Int_Max) is divided into some number of equal sub-ranges. Given a list of column values in some deterministic order, we first serialize them into a byte string,  take a hash of this byte string, and finally determine which of the sub-ranges this hash value belongs to. The number of hash ranges is chosen to be rather small and approximately equal to initial number of shards, say **10**. This means that every day there will be 10 new partitions created in the system. In a year there will be 3650 partitions in the system. Later we can probably collapse old partitions somehow.\r\n2. Each partition is mapped to exactly one shard in some mapping table which can be kept in a clickhouse dictionary. This map has an entry for each pair of partition=>shard. \r\n3. Each of the ranges (10 in our example) has a default shard it's pinned to, i.e. all future partitions that include this range will be placed on that shard _initially_. But they can be _moved_ to another shard later.\r\n4. To enable moving of the partitions, the partition map needs to be **versioned**. Say version 5 of the mapping table maps partition `(2, 2020-05-01) => shard 1`. In version 6 of the mapping table, a new shard 11 was added and this partition was moved over there. So, in version 6, there will be a record: `(2,2020-05-01) => shard 11` and previous record for that partition is gone. Note that several most recent partition map versions along with their partitions(data) are kept in the system such that if a given version of this map  is needed it can be  found. Old versions are eventually trimmed.\r\n5. At query time, the latest known version of the map is looked up during early stages of the query processing, and saved into the context as a variable `_sharding_map_version_`. This variable becomes the basis for a snapshot of the system in terms of the list and location of the partitions in the cluster. \r\n6. The query goes to a distributed table instance, which then dispatches it to all shards (or some shard subset based on primary key based routing optimization which is not relevant at the moment). All shards receive the same query i.e, they see the same value of `_sharding_map_version_` associated with this query.\r\n7. **Now, the key idea**: while going over the list of parts in _MergeTreeDataSelectExecutor.cpp_ _Pipes MergeTreeDataSelectExecutor::readFromParts_  **we filter out those parts that do not belong to the current shard based on the current partition _sbarding_map_version**. More formally, we check invariant `Map.get(_sharding_map_version_).get(partition) == current_shard_id`. If not TRUE, the part is ignored.\r\n8. In Distributed Table, the definition of Distributed engine will look approximately like this:\r\n`engine=Distributed(cluster, database, table, versionedConsistentHash(toYYYYMMDD(date), c1, c2, ...);` Here, versionedConsistentHash is a new built-in function which we will add which will perform the partition map lookup. The fuzzy part here is how to make Distributed engine recognize the shard id as the value returned by this function, but it probably can be done somehow (question: are the buckets in jumpConsitentMap and other such functions meant to correspond to shards?)\r\n\r\n8. What is the overall process/workflow to add a new shard?\r\na) provision a new shard with its replicas and add it to the cluster in distributed table instances right away. \r\nb) pick some immutable partitions (with dates in the past with some safety margin, say at least 3 days ago) and copy them to the new shard using clickhouse-copier.\r\nc) create a new partition map version reflecting moved partitions and their new location.\r\nd) activate the new version, i.e make it **current**. The clients will start seeing it for new queries/sessions. Old version is still readable and is still valid because the partitions that have been moved in the now-current version are still there in their original shards based on previous version.\r\ne) after some conservatively chosen time when it can be guaranteed that all queries/sessions that were using the previous version of the map are gone, it's safe to drop partitions in the original shards that were moved, and also drop the old version of the map.\r\n\r\n9. Simplified proof that this algorithm achieves the 2 key consistency goals that we mentioned in the beginning.\r\n* each query runs in the context of a single shard mapping version i.e. each partition is read at most once during the query execution\r\n* addition of a new shard can be done without a downtime on a live cluster (already supported by CH)\r\n* addition of a new shard results in immediate rebalancing of the data and soon after - freeing up space (deleting migrated partitions) in the existing shards which is the ultimate purpose of this process.\r\n\r\n\r\n**Additional context**\r\nit's quite possible that we missed some conner cases and some additional changes are required to make this implementation safe and sound. Please point out to these issues.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10941",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10941/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10941/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10941/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10941",
    "id": 618806857,
    "node_id": "MDU6SXNzdWU2MTg4MDY4NTc=",
    "number": 10941,
    "title": "There is no synchronization between replicas, neither in readonly state nor in synchronization",
    "user": {
      "login": "wujieaiyan",
      "id": 22367785,
      "node_id": "MDQ6VXNlcjIyMzY3Nzg1",
      "avatar_url": "https://avatars1.githubusercontent.com/u/22367785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wujieaiyan",
      "html_url": "https://github.com/wujieaiyan",
      "followers_url": "https://api.github.com/users/wujieaiyan/followers",
      "following_url": "https://api.github.com/users/wujieaiyan/following{/other_user}",
      "gists_url": "https://api.github.com/users/wujieaiyan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wujieaiyan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wujieaiyan/subscriptions",
      "organizations_url": "https://api.github.com/users/wujieaiyan/orgs",
      "repos_url": "https://api.github.com/users/wujieaiyan/repos",
      "events_url": "https://api.github.com/users/wujieaiyan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wujieaiyan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 521113272,
        "node_id": "MDU6TGFiZWw1MjExMTMyNzI=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/build",
        "name": "build",
        "color": "d93f0b",
        "default": false,
        "description": null
      },
      {
        "id": 845267693,
        "node_id": "MDU6TGFiZWw4NDUyNjc2OTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-info",
        "name": "st-need-info",
        "color": "e5b890",
        "default": false,
        "description": "We need extra data to continue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-15T08:51:10Z",
    "updated_at": "2020-05-15T15:22:57Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "2020.05.15 16:50:06.800472 [ 84 ] {} <Error> k19_test.replica_shard (ReplicatedMergeTreeRestartingThread): void DB::ReplicatedMergeTreeRestartingThread::run(): Code: 27, e.displayText() = DB::Exception: Cannot parse input: expected format version:  at end of stream., Stack trace (when copying this message, always include the lines below):\r\n\r\n0. 0x100ac1bc Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int)  in /usr/bin/clickhouse\r\n1. 0x8e74849 DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int)  in /usr/bin/clickhouse\r\n2. 0x8eaacd5 ?  in /usr/bin/clickhouse\r\n3. 0x8ea8caa DB::assertString(char const*, DB::ReadBuffer&)  in /usr/bin/clickhouse\r\n4. 0xd78dd1b DB::ReplicatedMergeTreeLogEntryData::readText(DB::ReadBuffer&)  in /usr/bin/clickhouse\r\n5. 0xd78f04b DB::ReplicatedMergeTreeLogEntry::parse(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Coordination::Stat const&)  in /usr/bin/clickhouse\r\n6. 0xd7b49c1 DB::ReplicatedMergeTreeQueue::load(std::__1::shared_ptr<zkutil::ZooKeeper>)  in /usr/bin/clickhouse\r\n7. 0xd7d7393 DB::ReplicatedMergeTreeRestartingThread::tryStartup()  in /usr/bin/clickhouse\r\n8. 0xd7d7cf8 DB::ReplicatedMergeTreeRestartingThread::run()  in /usr/bin/clickhouse\r\n9. 0xcd939f1 DB::BackgroundSchedulePoolTaskInfo::execute()  in /usr/bin/clickhouse\r\n10. 0xcd93fca DB::BackgroundSchedulePool::threadFunction()  in /usr/bin/clickhouse\r\n11. 0xcd94100 ?  in /usr/bin/clickhouse\r\n12. 0x8e97347 ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>)  in /usr/bin/clickhouse\r\n13. 0x8e9580f ?  in /usr/bin/clickhouse\r\n14. 0x7e25 start_thread  in /usr/lib64/libpthread-2.17.so\r\n15. 0xfebad __clone  in /usr/lib64/libc-2.17.so\r\n (version 20.1.6.30 (official build))\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10939",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10939/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10939/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10939/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10939",
    "id": 618776375,
    "node_id": "MDU6SXNzdWU2MTg3NzYzNzU=",
    "number": 10939,
    "title": "How to load hive data what type is map to clickhouse",
    "user": {
      "login": "Zhushatianxia",
      "id": 61313678,
      "node_id": "MDQ6VXNlcjYxMzEzNjc4",
      "avatar_url": "https://avatars0.githubusercontent.com/u/61313678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zhushatianxia",
      "html_url": "https://github.com/Zhushatianxia",
      "followers_url": "https://api.github.com/users/Zhushatianxia/followers",
      "following_url": "https://api.github.com/users/Zhushatianxia/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zhushatianxia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zhushatianxia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zhushatianxia/subscriptions",
      "organizations_url": "https://api.github.com/users/Zhushatianxia/orgs",
      "repos_url": "https://api.github.com/users/Zhushatianxia/repos",
      "events_url": "https://api.github.com/users/Zhushatianxia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zhushatianxia/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-15T07:59:26Z",
    "updated_at": "2020-05-15T07:59:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi,who can help me?\r\nI want use  \"ENGINE = HDFS(URI, format)\" to load data from hive,but the data type is map.\r\nI'm trying to replace \"Nested(id String ,name String)\" with map when creating the clickhouse engine = I found I had failed. \"Select * from table\",can not found nothing from hive。\r\nWhat should I do?;\r\nplease hellp me！！\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10935",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10935/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10935/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10935/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10935",
    "id": 618718964,
    "node_id": "MDU6SXNzdWU2MTg3MTg5NjQ=",
    "number": 10935,
    "title": "SSL connection unexpectedly closed",
    "user": {
      "login": "saravsars",
      "id": 3000143,
      "node_id": "MDQ6VXNlcjMwMDAxNDM=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/3000143?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saravsars",
      "html_url": "https://github.com/saravsars",
      "followers_url": "https://api.github.com/users/saravsars/followers",
      "following_url": "https://api.github.com/users/saravsars/following{/other_user}",
      "gists_url": "https://api.github.com/users/saravsars/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saravsars/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saravsars/subscriptions",
      "organizations_url": "https://api.github.com/users/saravsars/orgs",
      "repos_url": "https://api.github.com/users/saravsars/repos",
      "events_url": "https://api.github.com/users/saravsars/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saravsars/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1401253328,
        "node_id": "MDU6TGFiZWwxNDAxMjUzMzI4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-net",
        "name": "comp-net",
        "color": "b5bcff",
        "default": false,
        "description": "Network related"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-15T05:57:44Z",
    "updated_at": "2020-05-17T18:40:23Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the bug**\r\n`SSL connection unexpectedly closed` exception is getting printed for every 2 seconds (added the exception below). It is generating from HTTPHandler thread but there are no active connections from the server or to the server. It is getting printed even when the server is idle.\r\nBut there are no issues in replication or connecting from client.\r\n\r\n**How to reproduce**\r\n* ClickHouse server version: 20.3.8.53\r\n* Using ReplicatedMergeTree table with three nodes\r\n\r\n**Error message and/or stacktrace**\r\n```2020.05.15 05:30:43.124426 [ 3275 ] {} <Error> ServerErrorHandler: Poco::Exception. Code: 1000, e.code() = 0, e.displayText() = SSL connection unexpectedly closed, Stack trace (when copying this message, always include the lines below):```\r\n\r\n```0. Poco::IOException::IOException(int) @ 0x1054b5af in /usr/bin/clickhouse\r\n1. Poco::Net::NetException::NetException(int) @ 0xe39ca7d in /usr/bin/clickhouse\r\n2. Poco::Net::SSLConnectionUnexpectedlyClosedException::SSLConnectionUnexpectedlyClosedException(int) @ 0xe35bedd in /usr/bin/clickhouse\r\n3. ? @ 0xe36f66b in /usr/bin/clickhouse\r\n4. Poco::Net::SecureSocketImpl::completeHandshake() @ 0xe36e7b3 in /usr/bin/clickhouse\r\n5. Poco::Net::SecureSocketImpl::receiveBytes(void*, int, int) @ 0xe36ea29 in /usr/bin/clickhouse\r\n6. Poco::Net::HTTPSession::receive(char*, int) @ 0xe38c968 in /usr/bin/clickhouse\r\n7. Poco::Net::HTTPSession::get() @ 0xe38c9d3 in /usr/bin/clickhouse\r\n8. Poco::Net::HTTPHeaderStreamBuf::readFromDevice(char*, long) @ 0xe381bca in /usr/bin/clickhouse\r\n9. Poco::BasicBufferedStreamBuf<char, std::__1::char_traits<char>, Poco::Net::HTTPBufferAllocator>::underflow() @ 0xe37e438 in /usr/bin/clickhouse\r\n10. std::__1::basic_streambuf<char, std::__1::char_traits<char> >::uflow() @ 0x1105dfbe in ?\r\n11. std::__1::basic_istream<char, std::__1::char_traits<char> >::get() @ 0x110655b6 in ?\r\n12. Poco::Net::HTTPRequest::read(std::__1::basic_istream<char, std::__1::char_traits<char> >&) @ 0xe384f97 in /usr/bin/clickhouse\r\n13. Poco::Net::HTTPServerRequestImpl::HTTPServerRequestImpl(Poco::Net::HTTPServerResponseImpl&, Poco::Net::HTTPServerSession&, Poco::Net::HTTPServerParams*) @ 0xe38aa75 in /usr/bin/clickhouse\r\n14. Poco::Net::HTTPServerConnection::run() @ 0xe389b79 in /usr/bin/clickhouse\r\n15. Poco::Net::TCPServerConnection::start() @ 0xe3b9a4b in /usr/bin/clickhouse\r\n16. Poco::Net::TCPServerDispatcher::run() @ 0xe3b9ecd in /usr/bin/clickhouse\r\n17. Poco::PooledThread::run() @ 0x105d05b7 in /usr/bin/clickhouse\r\n18. Poco::ThreadImpl::runnableEntry(void*) @ 0x105cc3bc in /usr/bin/clickhouse\r\n19. ? @ 0x105cdd5d in /usr/bin/clickhouse\r\n20. start_thread @ 0x740b in /usr/lib64/libpthread-2.26.so\r\n21. __clone @ 0xece7f in /usr/lib64/libc-2.26.so\r\n (version 20.3.8.53 (official build))"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10931",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10931/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10931/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10931/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10931",
    "id": 618537321,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE4MjQ3ODU3",
    "number": 10931,
    "title": "[WIP] MongoDB engine (read-only)",
    "user": {
      "login": "ageraab",
      "id": 33520726,
      "node_id": "MDQ6VXNlcjMzNTIwNzI2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/33520726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ageraab",
      "html_url": "https://github.com/ageraab",
      "followers_url": "https://api.github.com/users/ageraab/followers",
      "following_url": "https://api.github.com/users/ageraab/following{/other_user}",
      "gists_url": "https://api.github.com/users/ageraab/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ageraab/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ageraab/subscriptions",
      "organizations_url": "https://api.github.com/users/ageraab/orgs",
      "repos_url": "https://api.github.com/users/ageraab/repos",
      "events_url": "https://api.github.com/users/ageraab/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ageraab/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "alesapin",
      "id": 3684697,
      "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alesapin",
      "html_url": "https://github.com/alesapin",
      "followers_url": "https://api.github.com/users/alesapin/followers",
      "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
      "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
      "organizations_url": "https://api.github.com/users/alesapin/orgs",
      "repos_url": "https://api.github.com/users/alesapin/repos",
      "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alesapin/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "alesapin",
        "id": 3684697,
        "node_id": "MDQ6VXNlcjM2ODQ2OTc=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/3684697?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alesapin",
        "html_url": "https://github.com/alesapin",
        "followers_url": "https://api.github.com/users/alesapin/followers",
        "following_url": "https://api.github.com/users/alesapin/following{/other_user}",
        "gists_url": "https://api.github.com/users/alesapin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alesapin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alesapin/subscriptions",
        "organizations_url": "https://api.github.com/users/alesapin/orgs",
        "repos_url": "https://api.github.com/users/alesapin/repos",
        "events_url": "https://api.github.com/users/alesapin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alesapin/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-14T21:09:35Z",
    "updated_at": "2020-06-09T02:04:06Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10931",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10931",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10931.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10931.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\nSupport table engine mongo(host:port, database, collection, user, password)\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10919",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10919/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10919/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10919/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10919",
    "id": 618217419,
    "node_id": "MDU6SXNzdWU2MTgyMTc0MTk=",
    "number": 10919,
    "title": "Support nested fields in MongoDB dictionaries ",
    "user": {
      "login": "filimonov",
      "id": 1549571,
      "node_id": "MDQ6VXNlcjE1NDk1NzE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1549571?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/filimonov",
      "html_url": "https://github.com/filimonov",
      "followers_url": "https://api.github.com/users/filimonov/followers",
      "following_url": "https://api.github.com/users/filimonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/filimonov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/filimonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/filimonov/subscriptions",
      "organizations_url": "https://api.github.com/users/filimonov/orgs",
      "repos_url": "https://api.github.com/users/filimonov/repos",
      "events_url": "https://api.github.com/users/filimonov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/filimonov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1351463315,
        "node_id": "MDU6TGFiZWwxMzUxNDYzMzE1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dictionary",
        "name": "comp-dictionary",
        "color": "b5bcff",
        "default": false,
        "description": "Dictionaries"
      },
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-14T13:08:48Z",
    "updated_at": "2020-05-14T13:08:48Z",
    "closed_at": null,
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "body": "For such a MongoDB document:\r\n```\r\n   { item: \"journal\", qty: 25, size: { h: 14, w: 21, uom: \"cm\" }, status: \"A\" },\r\n```\r\n\r\nI want to have a way to access `size.h`. (smth like jsonpath?)\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10917",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10917/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10917/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10917/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10917",
    "id": 618167207,
    "node_id": "MDU6SXNzdWU2MTgxNjcyMDc=",
    "number": 10917,
    "title": "Memory footprint of distributed table's ClickHouse server grows linearly and drops suddenly, and repeats",
    "user": {
      "login": "huang--yijian",
      "id": 7484190,
      "node_id": "MDQ6VXNlcjc0ODQxOTA=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/7484190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huang--yijian",
      "html_url": "https://github.com/huang--yijian",
      "followers_url": "https://api.github.com/users/huang--yijian/followers",
      "following_url": "https://api.github.com/users/huang--yijian/following{/other_user}",
      "gists_url": "https://api.github.com/users/huang--yijian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huang--yijian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huang--yijian/subscriptions",
      "organizations_url": "https://api.github.com/users/huang--yijian/orgs",
      "repos_url": "https://api.github.com/users/huang--yijian/repos",
      "events_url": "https://api.github.com/users/huang--yijian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huang--yijian/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      },
      {
        "id": 845267693,
        "node_id": "MDU6TGFiZWw4NDUyNjc2OTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-info",
        "name": "st-need-info",
        "color": "e5b890",
        "default": false,
        "description": "We need extra data to continue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 13,
    "created_at": "2020-05-14T11:52:44Z",
    "updated_at": "2020-05-24T02:35:38Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the situation**\r\nAs in the following screenshot, the ClickHouse server holding distributed tables has an constantly, linearly increasing memory footprint, and it drops suddenly. It looks like some kind of memory leak.\r\n![image](https://user-images.githubusercontent.com/7484190/81931209-51921400-961c-11ea-85e5-4c4a4ae88004.png)\r\n\r\nThe other servers holding local MergeTree tables don't not have this problem.\r\nSo this unstable memory footprint is caused by distributed tables.\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use\r\n20.1.4.14\r\n\r\n* Which interface to use, if matters\r\nQuery via JDBC driver\r\n\r\n* Non-default settings, if any\r\nNone\r\n\r\n* `CREATE TABLE` statements for all tables involved\r\nThere are multiple tables. The major ones are:\r\n`CREATE TABLE edw.user_behavior_v3_all (`appId` Int32, `channel` Int32, `os` Int32, `version` Int32, `sessionId` Int64, `mostDeviceId` Int64, `leastDeviceId` Int64, `deviceName` Int32, `deviceType` Int32, `serverTime` DateTime, `timestamp` UInt64, `location` Int32, `manufacturer` Int32, `networkMode` Int32, `carrierOperator` Int32, `uid` Int64, `dataId` Int32, `propsKey` Array(Int32), `propsValue` Array(String), `clientTime` DateTime, `clientTimestamp` UInt64, `seq` UInt64, `event` Int32, `clientAb` Array(Int64)) ENGINE = Distributed(edw, edw, user_behavior_v3, rand())`\r\n\r\n`CREATE TABLE edw.user_behavior_user_20nodes_all (`trackTypeId` Int32, `channel` Int32, `version` Int32, `sessionId` Int64, `deviceName` Int32, `deviceType` Int32, `serverTime` DateTime, `timestamp` UInt64, `location` Int32, `carrierOperator` Int32, `dt` Int32, `uid` Int64, `dataId` Int32, `propsKey` Array(Int32), `propsValue` Array(String), `clientTime` DateTime, `clientTimestamp` UInt64, `seq` UInt64, `clientAb` Array(Int64)) ENGINE = Distributed(edw, edw, user_behavior_user_20nodes, rand())`\r\n\r\n\r\n* Queries to run that lead to slow performance\r\nNot sure if there is one deadly query, or it is caused by multiple queries.\r\n\r\n**Expected performance**\r\nWhat are your performance expectation, why do you think they are realistic? Has it been working faster in older ClickHouse releases? Is it working faster in some specific other system?\r\n\r\nWe expect not only a stable increase in memory footprint, but also a stable decrease in it, instead of dropping the memory footprint suddenly.\r\nWe don't have strong evidence that it is related to version 20.1.4.14.\r\n\r\n**Additional context**\r\nNone.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10913",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10913/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10913/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10913/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10913",
    "id": 618095952,
    "node_id": "MDU6SXNzdWU2MTgwOTU5NTI=",
    "number": 10913,
    "title": "Index condition not deduced for joined table",
    "user": {
      "login": "akuzm",
      "id": 36882414,
      "node_id": "MDQ6VXNlcjM2ODgyNDE0",
      "avatar_url": "https://avatars0.githubusercontent.com/u/36882414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akuzm",
      "html_url": "https://github.com/akuzm",
      "followers_url": "https://api.github.com/users/akuzm/followers",
      "following_url": "https://api.github.com/users/akuzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/akuzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akuzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akuzm/subscriptions",
      "organizations_url": "https://api.github.com/users/akuzm/orgs",
      "repos_url": "https://api.github.com/users/akuzm/repos",
      "events_url": "https://api.github.com/users/akuzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akuzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1357578153,
        "node_id": "MDU6TGFiZWwxMzU3NTc4MTUz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-joins",
        "name": "comp-joins",
        "color": "b5bcff",
        "default": false,
        "description": "JOINs"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-14T09:59:55Z",
    "updated_at": "2020-05-14T17:26:01Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "```\r\n/4/ :) set force_index_by_date = 1\r\n\r\n\r\n/4/ :) select count(*) from hits l join hits r using EventDate where l.EventDate < today();\r\n\r\nReceived exception from server (version 20.5.1):\r\nCode: 277. DB::Exception: Received from localhost:9000. DB::Exception: MinMax index by columns (EventDate) is not used and setting 'force_index_by_date' is set: While executing CreatingSetsTransform. Stack trace:\r\n```\r\n\r\nThe fix should probably start with adding a general understanding of transitive equality to the query planner.\r\n\r\nAlso, the error message could be better -- it doesn't tell the table name."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10909",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10909/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10909/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10909/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10909",
    "id": 618038364,
    "node_id": "MDU6SXNzdWU2MTgwMzgzNjQ=",
    "number": 10909,
    "title": "Data Replication cant be achieved with encryption?",
    "user": {
      "login": "cshivashgit",
      "id": 58802632,
      "node_id": "MDQ6VXNlcjU4ODAyNjMy",
      "avatar_url": "https://avatars0.githubusercontent.com/u/58802632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cshivashgit",
      "html_url": "https://github.com/cshivashgit",
      "followers_url": "https://api.github.com/users/cshivashgit/followers",
      "following_url": "https://api.github.com/users/cshivashgit/following{/other_user}",
      "gists_url": "https://api.github.com/users/cshivashgit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cshivashgit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cshivashgit/subscriptions",
      "organizations_url": "https://api.github.com/users/cshivashgit/orgs",
      "repos_url": "https://api.github.com/users/cshivashgit/repos",
      "events_url": "https://api.github.com/users/cshivashgit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cshivashgit/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-14T08:38:25Z",
    "updated_at": "2020-05-14T14:10:37Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I was trying data replication. It worked without encryption using ports 8123,9000 and 9009.\r\nBut when i changed the configs to encryption by providing certificates and port to 8443, 9440 and 9009 clickhouse-server didnt come up.\r\nThere was always an error \"<Error> Application: Not found: tcp_port\"\r\nSo it seems its looking for tcp_port instead of tcp_port_secure.\r\n\r\nIf this is not the way , please suggest a way to replicate between servers with encryption."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10906",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10906/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10906/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10906/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10906",
    "id": 617972004,
    "node_id": "MDU6SXNzdWU2MTc5NzIwMDQ=",
    "number": 10906,
    "title": "Partition prune should work when only partition columns used in a udf in where condition",
    "user": {
      "login": "kaijianding",
      "id": 8663725,
      "node_id": "MDQ6VXNlcjg2NjM3MjU=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8663725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaijianding",
      "html_url": "https://github.com/kaijianding",
      "followers_url": "https://api.github.com/users/kaijianding/followers",
      "following_url": "https://api.github.com/users/kaijianding/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaijianding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaijianding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaijianding/subscriptions",
      "organizations_url": "https://api.github.com/users/kaijianding/orgs",
      "repos_url": "https://api.github.com/users/kaijianding/repos",
      "events_url": "https://api.github.com/users/kaijianding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaijianding/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      },
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-14T06:52:00Z",
    "updated_at": "2020-05-15T16:29:10Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**Describe the situation**\r\nsql like `select * from test14 where concat(year,month,day)='20200513'`; when year,month,day are partition keys, should do partition prune.\r\n\r\n**How to reproduce**\r\n* Which ClickHouse server version to use\r\n19.17.4.11\r\n\r\n* `CREATE TABLE` statements for all tables involved\r\n```\r\nCREATE TABLE test14 (\r\n  `num` Int32,\r\n  `year` String,\r\n  `month` String,\r\n  `day` String\r\n) ENGINE = ReplicatedMergeTree(\r\n  '/clickhouse/tables/{shard}/test14',\r\n  '{replica}'\r\n) PARTITION BY (year,month,day)\r\nORDER BY\r\n  tuple() SETTINGS index_granularity = 8192\r\n\r\ninsert into test14 (num,year,month,day) values(1,'2020','05','13');\r\ninsert into test14 (num,year,month,day) values(2,'2020','05','14');\r\n\r\nselect name,is_in_partition_key from system.columns where table='test14';\r\n┌─name──┬─is_in_partition_key─┐\r\n│ num   │                   0 │\r\n│ year  │                   1 │\r\n│ month │                   1 │\r\n│ day   │                   1 │\r\n└───────┴─────────────────────┘\r\n```\r\n* Queries to run that lead to slow performance\r\n`select * from test14 where concat(year,month,day)='20200513';`\r\n```\r\n(SelectExecutor): Key condition: unknown\r\n(SelectExecutor): MinMax index condition: unknown\r\n(SelectExecutor): Selected 2 parts by date, 2 parts by key, 2 marks to read from 2 ranges\r\n```\r\n**Expected performance**\r\nyear, month, day are is_in_partition_key=true, thus concat(year, month, day) should be able to use partition meta info to do the fast calculation without access to the real data and partition prune should happen, then only 1 part should be involved.\r\n\r\nupdate:\r\n---------------------------------\r\nA skipping index like `INDEX a (concat(year, month, day)) TYPE minmax GRANULARITY 3`  is helpful to reduce disk read for a sql who has where condition like `concat(year, month, day) between '20191210' and '20200515'`.\r\nsee the below comment"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10899",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10899/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10899/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10899/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10899",
    "id": 617684595,
    "node_id": "MDU6SXNzdWU2MTc2ODQ1OTU=",
    "number": 10899,
    "title": "Clamping of settings instead of query error.",
    "user": {
      "login": "vitstn",
      "id": 7100089,
      "node_id": "MDQ6VXNlcjcxMDAwODk=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7100089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vitstn",
      "html_url": "https://github.com/vitstn",
      "followers_url": "https://api.github.com/users/vitstn/followers",
      "following_url": "https://api.github.com/users/vitstn/following{/other_user}",
      "gists_url": "https://api.github.com/users/vitstn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vitstn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vitstn/subscriptions",
      "organizations_url": "https://api.github.com/users/vitstn/orgs",
      "repos_url": "https://api.github.com/users/vitstn/repos",
      "events_url": "https://api.github.com/users/vitstn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vitstn/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-13T19:05:20Z",
    "updated_at": "2020-05-13T19:05:20Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "It would allow to add additional constraints, like max_execution_time, for user queries.\n\nSuggested syntax:\n\nsettings_constraints_clamp = 0 | 1 (default 0)"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10897",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10897/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10897/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10897/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10897",
    "id": 617675350,
    "node_id": "MDU6SXNzdWU2MTc2NzUzNTA=",
    "number": 10897,
    "title": "ALTER TABLE DROP COLUMN Hangs forever",
    "user": {
      "login": "silviucpp",
      "id": 4814731,
      "node_id": "MDQ6VXNlcjQ4MTQ3MzE=",
      "avatar_url": "https://avatars0.githubusercontent.com/u/4814731?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/silviucpp",
      "html_url": "https://github.com/silviucpp",
      "followers_url": "https://api.github.com/users/silviucpp/followers",
      "following_url": "https://api.github.com/users/silviucpp/following{/other_user}",
      "gists_url": "https://api.github.com/users/silviucpp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/silviucpp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/silviucpp/subscriptions",
      "organizations_url": "https://api.github.com/users/silviucpp/orgs",
      "repos_url": "https://api.github.com/users/silviucpp/repos",
      "events_url": "https://api.github.com/users/silviucpp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/silviucpp/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1351290474,
        "node_id": "MDU6TGFiZWwxMzUxMjkwNDc0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-mutations",
        "name": "comp-mutations",
        "color": "b5bcff",
        "default": false,
        "description": "ALTER UPDATE/DELETE"
      },
      {
        "id": 1547429435,
        "node_id": "MDU6TGFiZWwxNTQ3NDI5NDM1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v19.14",
        "name": "v19.14",
        "color": "55007a",
        "default": false,
        "description": "Issue affects version 19.14.* or PR was manually backported to related stable branch"
      },
      {
        "id": 2070999159,
        "node_id": "MDU6TGFiZWwyMDcwOTk5MTU5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.4-affected",
        "name": "v20.4-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.4"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "qoega",
      "id": 2159081,
      "node_id": "MDQ6VXNlcjIxNTkwODE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2159081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoega",
      "html_url": "https://github.com/qoega",
      "followers_url": "https://api.github.com/users/qoega/followers",
      "following_url": "https://api.github.com/users/qoega/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoega/subscriptions",
      "organizations_url": "https://api.github.com/users/qoega/orgs",
      "repos_url": "https://api.github.com/users/qoega/repos",
      "events_url": "https://api.github.com/users/qoega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoega/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "qoega",
        "id": 2159081,
        "node_id": "MDQ6VXNlcjIxNTkwODE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2159081?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qoega",
        "html_url": "https://github.com/qoega",
        "followers_url": "https://api.github.com/users/qoega/followers",
        "following_url": "https://api.github.com/users/qoega/following{/other_user}",
        "gists_url": "https://api.github.com/users/qoega/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qoega/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qoega/subscriptions",
        "organizations_url": "https://api.github.com/users/qoega/orgs",
        "repos_url": "https://api.github.com/users/qoega/repos",
        "events_url": "https://api.github.com/users/qoega/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qoega/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 16,
    "created_at": "2020-05-13T18:50:28Z",
    "updated_at": "2020-05-19T08:26:56Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Hello,\r\n\r\nI upgrade to Clickhouse c811e1f0d0c439b74843770082569aa7fd5f9743 (master 2 days ago) and I'm facing lot of problems (https://github.com/ClickHouse/ClickHouse/issues/10892) .\r\n\r\nFor example:\r\n\r\n```bash\r\nCREATE DATABASE tb1\r\nCREATE TABLE tb1.collection_ops_SUITE(`string` Nullable(String),`int` Nullable(Int64),`timestamp` DateTime,`created_at` DateTime) ENGINE = MergeTree PARTITION BY toYYYYMM(timestamp) ORDER BY (timestamp)\r\nINSERT INTO tb1.collection_ops_SUITE(`created_at`,`timestamp`,`int`,`string`) VALUES (1589395126,1589395126,1,'str'),(1589395126,1589395126,2,'str')\r\nALTER TABLE tb1.collection_ops_SUITE DROP COLUMN `int`\r\n```\r\n\r\nRunning following queries with HTTP client or tabbix will hang forever in the ALTER table.\r\n\r\nIn logs I see:\r\n\r\n```\r\n2020.05.13 18:44:13.557064 [ 2579621 ] {00000000-0000-4000-8000-000000000000} <Information> tb1.collection_ops_SUITE: Added mutation: mutation_2.txt\r\n2020.05.13 18:44:13.557266 [ 2579621 ] {00000000-0000-4000-8000-000000000000} <Information> tb1.collection_ops_SUITE: Waiting mutation: mutation_2.txt\r\n```\r\n\r\nThen nothing more\r\n\r\nSilviu\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10894",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10894/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10894/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10894/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10894",
    "id": 617622346,
    "node_id": "MDU6SXNzdWU2MTc2MjIzNDY=",
    "number": 10894,
    "title": "Table aliases in MATERIALIZED VIEWS",
    "user": {
      "login": "simplemagik",
      "id": 130343,
      "node_id": "MDQ6VXNlcjEzMDM0Mw==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/130343?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simplemagik",
      "html_url": "https://github.com/simplemagik",
      "followers_url": "https://api.github.com/users/simplemagik/followers",
      "following_url": "https://api.github.com/users/simplemagik/following{/other_user}",
      "gists_url": "https://api.github.com/users/simplemagik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simplemagik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simplemagik/subscriptions",
      "organizations_url": "https://api.github.com/users/simplemagik/orgs",
      "repos_url": "https://api.github.com/users/simplemagik/repos",
      "events_url": "https://api.github.com/users/simplemagik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simplemagik/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1357578153,
        "node_id": "MDU6TGFiZWwxMzU3NTc4MTUz",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-joins",
        "name": "comp-joins",
        "color": "b5bcff",
        "default": false,
        "description": "JOINs"
      },
      {
        "id": 1507888214,
        "node_id": "MDU6TGFiZWwxNTA3ODg4MjE0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-accepted",
        "name": "st-accepted",
        "color": "e5b890",
        "default": false,
        "description": "The issue is in our backlog, ready to take"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "4ertus2",
      "id": 8061274,
      "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ertus2",
      "html_url": "https://github.com/4ertus2",
      "followers_url": "https://api.github.com/users/4ertus2/followers",
      "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
      "organizations_url": "https://api.github.com/users/4ertus2/orgs",
      "repos_url": "https://api.github.com/users/4ertus2/repos",
      "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ertus2/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "4ertus2",
        "id": 8061274,
        "node_id": "MDQ6VXNlcjgwNjEyNzQ=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8061274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/4ertus2",
        "html_url": "https://github.com/4ertus2",
        "followers_url": "https://api.github.com/users/4ertus2/followers",
        "following_url": "https://api.github.com/users/4ertus2/following{/other_user}",
        "gists_url": "https://api.github.com/users/4ertus2/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/4ertus2/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/4ertus2/subscriptions",
        "organizations_url": "https://api.github.com/users/4ertus2/orgs",
        "repos_url": "https://api.github.com/users/4ertus2/repos",
        "events_url": "https://api.github.com/users/4ertus2/events{/privacy}",
        "received_events_url": "https://api.github.com/users/4ertus2/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-13T17:21:25Z",
    "updated_at": "2020-05-18T16:51:51Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Seems there is some trouble with table aliases in creating MATERIALIZED VIEWS (mb somewhere else too)\r\n\r\nHow to reproduce:\r\n\r\n```\r\nCREATE TABLE event (\r\n    `event_time` DateTime,\r\n    `event_name` String,\r\n    `user_id` String\r\n)\r\nENGINE = MergeTree()\r\nORDER BY (event_time, event_name)\r\n\r\nCREATE TABLE user (\r\n    `user_id` String,\r\n    `user_type` String\r\n)\r\nENGINE = MergeTree()\r\nORDER BY (user_id)\r\n\r\nINSERT INTO event VALUES\r\n('2020-05-01 00:00:01', 'install', '1'),\r\n('2020-05-01 00:00:02', 'install', '2')\r\n('2020-05-01 00:00:03', 'install', '3')\r\n\r\nINSERT INTO user VALUES\r\n('1', 'type_1'),\r\n('2', 'type_2'),\r\n('3', 'type_3')\r\n\r\nCREATE MATERIALIZED VIEW mv\r\n(\r\n    `event_time` DateTime,\r\n    `event_name` String,\r\n    `user_id` String,\r\n    `user_type` String\r\n)\r\nENGINE = MergeTree()\r\nORDER BY (event_time, event_name) POPULATE AS\r\nSELECT\r\n    e.event_time,\r\n    e.event_name,\r\n    e.user_id,\r\n    u.user_type\r\nFROM event e\r\nINNER JOIN user u ON u.user_id = e.user_id\r\n```\r\n\r\nGot error DB::Exception: Cannot detect left and right JOIN keys. JOIN ON section is ambiguous..\r\n\r\nBut next one works fine\r\n```\r\n\r\nDROP TABLE mv\r\nCREATE MATERIALIZED VIEW mv\r\n(\r\n    `event_time` DateTime,\r\n    `event_name` String,\r\n    `user_id` String,\r\n    `user_type` String\r\n)\r\nENGINE = MergeTree()\r\nORDER BY (event_time, event_name) POPULATE AS\r\nSELECT\r\n    event.event_time,\r\n    event.event_name,\r\n    event.user_id,\r\n    user.user_type\r\nFROM event\r\nINNER JOIN user ON user.user_id = event.user_id\r\n``` "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10893",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10893/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10893/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10893/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10893",
    "id": 617613403,
    "node_id": "MDU6SXNzdWU2MTc2MTM0MDM=",
    "number": 10893,
    "title": "toTimeZone is ignored under certain conditions",
    "user": {
      "login": "erikdubbelboer",
      "id": 522870,
      "node_id": "MDQ6VXNlcjUyMjg3MA==",
      "avatar_url": "https://avatars3.githubusercontent.com/u/522870?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erikdubbelboer",
      "html_url": "https://github.com/erikdubbelboer",
      "followers_url": "https://api.github.com/users/erikdubbelboer/followers",
      "following_url": "https://api.github.com/users/erikdubbelboer/following{/other_user}",
      "gists_url": "https://api.github.com/users/erikdubbelboer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erikdubbelboer/subscriptions",
      "organizations_url": "https://api.github.com/users/erikdubbelboer/orgs",
      "repos_url": "https://api.github.com/users/erikdubbelboer/repos",
      "events_url": "https://api.github.com/users/erikdubbelboer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erikdubbelboer/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1481221764,
        "node_id": "MDU6TGFiZWwxNDgxMjIxNzY0",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-datetime",
        "name": "comp-datetime",
        "color": "b5bcff",
        "default": false,
        "description": "date & time & timezone related"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-13T17:07:00Z",
    "updated_at": "2020-05-14T14:29:29Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "`toTimeZone` is ignored under certain conditions. Tested with the latest version. To reproduce:\r\n```sql\r\nCREATE TABLE test (timestamp DateTime, i UInt8) Engine=MergeTree() PARTITION BY toYYYYMM(timestamp) ORDER BY (i);\r\nINSERT INTO test values ('2020-05-13 16:38:45', 1);\r\n\r\nSELECT \r\n    toTimeZone(timestamp, 'America/Sao_Paulo') AS converted,\r\n    timestamp AS original\r\nFROM test\r\nLEFT JOIN (SELECT 2 AS x) AS anything ON x = i\r\nWHERE timestamp >= toDateTime('2020-05-13T00:00:00', 'America/Sao_Paulo');\r\n\r\n/*\r\n┌─converted───────────┬─original────────────┐\r\n│ 2020-05-13 16:38:45 │ 2020-05-13 16:38:45 │ <-- toTimeZone is ignored.\r\n└─────────────────────┴─────────────────────┘\r\n*/\r\n\r\nSELECT \r\n    toTimeZone(timestamp, 'America/Sao_Paulo') AS converted,\r\n    timestamp AS original\r\nFROM test\r\n-- LEFT JOIN (SELECT 2 AS x) AS anything ON x = i -- Removing the join fixes the issue.\r\nWHERE timestamp >= toDateTime('2020-05-13T00:00:00', 'America/Sao_Paulo');\r\n\r\n/*\r\n┌─converted───────────┬─original────────────┐\r\n│ 2020-05-13 13:38:45 │ 2020-05-13 16:38:45 │ <-- toTimeZone works.\r\n└─────────────────────┴─────────────────────┘\r\n*/\r\n\r\nSELECT \r\n    toTimeZone(timestamp, 'America/Sao_Paulo') AS converted,\r\n    timestamp AS original\r\nFROM test\r\nLEFT JOIN (SELECT 2 AS x) AS anything ON x = i\r\nWHERE timestamp >= '2020-05-13T00:00:00'; -- Not using toDateTime in the WHERE also fixes the issue.\r\n\r\n/*\r\n┌─converted───────────┬─original────────────┐\r\n│ 2020-05-13 13:38:45 │ 2020-05-13 16:38:45 │ <-- toTimeZone works.\r\n└─────────────────────┴─────────────────────┘\r\n*/\r\n```"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10884",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10884/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10884/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10884/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10884",
    "id": 617335825,
    "node_id": "MDU6SXNzdWU2MTczMzU4MjU=",
    "number": 10884,
    "title": "Broker: Request timed out on ClickHouse engine=Kafka",
    "user": {
      "login": "brefre",
      "id": 8854043,
      "node_id": "MDQ6VXNlcjg4NTQwNDM=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8854043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brefre",
      "html_url": "https://github.com/brefre",
      "followers_url": "https://api.github.com/users/brefre/followers",
      "following_url": "https://api.github.com/users/brefre/following{/other_user}",
      "gists_url": "https://api.github.com/users/brefre/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brefre/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brefre/subscriptions",
      "organizations_url": "https://api.github.com/users/brefre/orgs",
      "repos_url": "https://api.github.com/users/brefre/repos",
      "events_url": "https://api.github.com/users/brefre/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brefre/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1334071168,
        "node_id": "MDU6TGFiZWwxMzM0MDcxMTY4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-kafka",
        "name": "comp-kafka",
        "color": "b5bcff",
        "default": false,
        "description": "Kafka Engine"
      },
      {
        "id": 1669010018,
        "node_id": "MDU6TGFiZWwxNjY5MDEwMDE4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question-answered",
        "name": "question-answered",
        "color": "bfdadc",
        "default": false,
        "description": ""
      },
      {
        "id": 1575085465,
        "node_id": "MDU6TGFiZWwxNTc1MDg1NDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/unexpected%20behaviour",
        "name": "unexpected behaviour",
        "color": "e088ca",
        "default": false,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 10,
    "created_at": "2020-05-13T10:33:35Z",
    "updated_at": "2020-06-24T08:31:24Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi,\r\n\r\nI have five servers running \"identical workload\", they are all run 18.12.17, except for one that is running 20.3.8.53. The new version has a lower workload, as it only ingests data, and is not queried.\r\n\r\nUnfortunately I'm getting errors in the log (only the 20.3.8.53 version has this problem):\r\n\r\n```\r\n2020.05.12 21:03:03.465847 [ 11164 ] {} <Error> void DB::StorageKafka::threadFunc(): std::exception. Code: 1001, type: cppkafka::HandleException, e.what() = Broker: Request timed out, Stack trace (when copying this message, always include the lines below):\r\n\r\n0. cppkafka::HandleException::HandleException(cppkafka::Error) @ 0xb98c69a in /usr/bin/clickhouse\r\n1. ? @ 0x4e95323 in /usr/bin/clickhouse\r\n2. DB::ReadBufferFromKafkaConsumer::commit() @ 0x979b234 in /usr/bin/clickhouse\r\n3. DB::KafkaBlockInputStream::commit() @ 0x9787eb5 in /usr/bin/clickhouse\r\n4. DB::StorageKafka::streamToViews() @ 0x9385930 in /usr/bin/clickhouse\r\n5. DB::StorageKafka::threadFunc() @ 0x938636c in /usr/bin/clickhouse\r\n6. DB::BackgroundSchedulePoolTaskInfo::execute() @ 0x939fb77 in /usr/bin/clickhouse\r\n7. DB::BackgroundSchedulePool::threadFunction() @ 0x93a014a in /usr/bin/clickhouse\r\n8. ? @ 0x93a024d in /usr/bin/clickhouse\r\n9. ThreadPoolImpl<std::__1::thread>::worker(std::__1::__list_iterator<std::__1::thread, void*>) @ 0x4ffe407 in /usr/bin/clickhouse\r\n10. ? @ 0x4ffca5f in /usr/bin/clickhouse\r\n11. start_thread @ 0x7dc5 in /usr/lib64/libpthread-2.17.so\r\n12. clone @ 0xf776d in /usr/lib64/libc-2.17.so\r\n (version 20.3.8.53)\r\n2020.05.12 21:03:03.465896 [ 11164 ] {} <Trace> StorageKafka (table_name): Execution took 7334 ms.\r\n```\r\n\r\nQuestion #1: Is this error related to *table_name*, or is it accidental that table_name comes after this exception? I see different tables here, but they are normally kafka-tables with high throughput.\r\n\r\nQuestion #2: What parameters can I tune to prevent this? I have tried to increase various timeouts, but I don't know which causes the error. I guess that I for some topics should increase the commit timeout, or make it commit less often (increasing max_insert_block_size, perhaps?)\r\n\r\nI don't think this is a problem with my production kafka cluster, since none of the other four  clickhouse versions has this problem. I also suspect that these errors cause me to either loose data or get duplicates (This is happening for sure, but I'm not sure if it is the clickhouse restarts that causes it, or the errors themselves). \r\n\r\nI want to upgrade the clickhouse version for all my servers, but unfortunately, I cant do this until kafka ingestion is more stable."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10882",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10882/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10882/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10882/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10882",
    "id": 617290449,
    "node_id": "MDU6SXNzdWU2MTcyOTA0NDk=",
    "number": 10882,
    "title": "Tuple creation functions",
    "user": {
      "login": "qoega",
      "id": 2159081,
      "node_id": "MDQ6VXNlcjIxNTkwODE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2159081?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoega",
      "html_url": "https://github.com/qoega",
      "followers_url": "https://api.github.com/users/qoega/followers",
      "following_url": "https://api.github.com/users/qoega/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoega/subscriptions",
      "organizations_url": "https://api.github.com/users/qoega/orgs",
      "repos_url": "https://api.github.com/users/qoega/repos",
      "events_url": "https://api.github.com/users/qoega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoega/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2020-05-13T09:23:53Z",
    "updated_at": "2020-05-14T12:50:01Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "**Use case**\r\nWe can not construct large Tuples automatically and can't convert arrays to Tuples.\r\n**Describe the solution you'd like**\r\nNew functions like for arrays(https://clickhouse.tech/docs/en/sql-reference/functions/array-functions/)\r\n- For given type T `range(T ,end), range(T start, end [, step])`\r\n- `tupleConcat` - we can concatenate arrays of different types\r\n- etc.\r\n\r\nAdditionally conversion from Array(T) to Tuple(T,T,...) with explicit length of tuple. We can use default values if Array is shorter and trim Array if it is too long.\r\n\r\nFor example in #10874 I wanted to test corner cases and performance for large tuples."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10881",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10881/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10881/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10881/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10881",
    "id": 617285972,
    "node_id": "MDU6SXNzdWU2MTcyODU5NzI=",
    "number": 10881,
    "title": "clickhouse-copier Exception: Empty query",
    "user": {
      "login": "byx313",
      "id": 37653716,
      "node_id": "MDQ6VXNlcjM3NjUzNzE2",
      "avatar_url": "https://avatars3.githubusercontent.com/u/37653716?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/byx313",
      "html_url": "https://github.com/byx313",
      "followers_url": "https://api.github.com/users/byx313/followers",
      "following_url": "https://api.github.com/users/byx313/following{/other_user}",
      "gists_url": "https://api.github.com/users/byx313/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/byx313/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/byx313/subscriptions",
      "organizations_url": "https://api.github.com/users/byx313/orgs",
      "repos_url": "https://api.github.com/users/byx313/repos",
      "events_url": "https://api.github.com/users/byx313/events{/privacy}",
      "received_events_url": "https://api.github.com/users/byx313/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1401853216,
        "node_id": "MDU6TGFiZWwxNDAxODUzMjE2",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-copier",
        "name": "comp-copier",
        "color": "b5bcff",
        "default": false,
        "description": "clickhouse-copier"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "nikitamikhaylov",
      "id": 25705399,
      "node_id": "MDQ6VXNlcjI1NzA1Mzk5",
      "avatar_url": "https://avatars0.githubusercontent.com/u/25705399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikitamikhaylov",
      "html_url": "https://github.com/nikitamikhaylov",
      "followers_url": "https://api.github.com/users/nikitamikhaylov/followers",
      "following_url": "https://api.github.com/users/nikitamikhaylov/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikitamikhaylov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikitamikhaylov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikitamikhaylov/subscriptions",
      "organizations_url": "https://api.github.com/users/nikitamikhaylov/orgs",
      "repos_url": "https://api.github.com/users/nikitamikhaylov/repos",
      "events_url": "https://api.github.com/users/nikitamikhaylov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikitamikhaylov/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "nikitamikhaylov",
        "id": 25705399,
        "node_id": "MDQ6VXNlcjI1NzA1Mzk5",
        "avatar_url": "https://avatars0.githubusercontent.com/u/25705399?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nikitamikhaylov",
        "html_url": "https://github.com/nikitamikhaylov",
        "followers_url": "https://api.github.com/users/nikitamikhaylov/followers",
        "following_url": "https://api.github.com/users/nikitamikhaylov/following{/other_user}",
        "gists_url": "https://api.github.com/users/nikitamikhaylov/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nikitamikhaylov/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nikitamikhaylov/subscriptions",
        "organizations_url": "https://api.github.com/users/nikitamikhaylov/orgs",
        "repos_url": "https://api.github.com/users/nikitamikhaylov/repos",
        "events_url": "https://api.github.com/users/nikitamikhaylov/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nikitamikhaylov/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-13T09:17:49Z",
    "updated_at": "2020-05-14T15:52:22Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "hello guys,I met a error when I use clickhouse-copier.\r\nch version:19.9.5.36\r\nerror info:\r\n\r\n> 2020.05.13 17:12:46.059558 [ 1 ] {} <Error> : virtual int DB::ClusterCopierApp::main(const std::vector<std::basic_string<char> >&): Code: 62, e.displayText() = DB::Exception: Empty query, Stack trace:\r\n\r\n0. clickhouse-copier(StackTrace::StackTrace()+0x16) [0x65cbc16]\r\n1. clickhouse-copier(DB::Exception::Exception(std::string const&, int)+0x1f) [0x2ffea8f]\r\n2. clickhouse-copier(DB::parseQuery(DB::IParser&, std::string const&, unsigned long)+0x20a) [0x641e6ea]\r\n3. clickhouse-copier() [0x30af203]\r\n4. clickhouse-copier(DB::ClusterCopier::init()+0x43a) [0x30b0a8a]\r\n5. clickhouse-copier(DB::ClusterCopierApp::mainImpl()+0x5fa) [0x30a096a]\r\n6. clickhouse-copier(DB::ClusterCopierApp::main(std::vector<std::string, std::allocator<std::string> > const&)+0x1a) [0x2fe046a]\r\n7. clickhouse-copier(Poco::Util::Application::run()+0x26) [0x677b836]\r\n8. clickhouse-copier(mainEntryClickHouseClusterCopier(int, char**)+0x9a) [0x309d81a]\r\n9. clickhouse-copier(main+0x22e) [0x2fd60ce]\r\n10. /lib64/libc.so.6(__libc_start_main+0xfd) [0x31a541ed5d]\r\n11. clickhouse-copier() [0x2ffae49]\r\n (version 19.9.5.36)\r\n\r\n\r\n\r\nits my schema.xml\r\n\r\n> <yandex>\r\n    <!-- Configuration of clusters as in an ordinary server config -->\r\n    <remote_servers>\r\n        <source_cluster>\r\n            <shard>\r\n                <weight>1</weight>\r\n                    <replica>\r\n                        <host>127.0.0.1</host>\r\n                       <!-- our tcp port is 19008-->\r\n                        <port>19008</port>\r\n                    </replica>\r\n            </shard>\r\n        </source_cluster>\r\n\r\n        <destination_cluster>\r\n            <shard>\r\n                <weight>1</weight>\r\n                    <replica>\r\n                        <host>[ip]</host>\r\n                        <port>19008</port>\r\n                    </replica>\r\n            </shard>\r\n        </destination_cluster>\r\n    </remote_servers>\r\n    <max_workers>2</max_workers>\r\n    <settings_pull>\r\n        <readonly>1</readonly>\r\n    </settings_pull>\r\n    <settings_push>\r\n        <readonly>0</readonly>\r\n    </settings_push>\r\n    <settings>\r\n        <connect_timeout>3</connect_timeout>\r\n        <!-- Sync insert is set forcibly, leave it here just in case. -->\r\n        <insert_distributed_sync>1</insert_distributed_sync>\r\n    </settings>\r\n    <!-- Copying tasks description.\r\n         You could specify several table task in the same task description (in the same ZooKeeper node), they will be performed\r\n         sequentially.\r\n    -->\r\n    <tables>\r\n        <!-- A table task, copies one table. -->\r\n        <table_hits>\r\n            <!-- Source cluster name (from <remote_servers/> section) and tables in it that should be copied -->\r\n            <cluster_pull>[CLUSTER]</cluster_pull>\r\n            <database_pull>[DATABASE]</database_pull>\r\n            <table_pull>[TABLE]</table_pull>\r\n            <!-- Destination cluster name and tables in which the data should be inserted -->\r\n            <cluster_push>[CLUSTER]</cluster_push>\r\n            <database_push>[DATABASE]</database_push>\r\n            <table_push>[TABLE]</table_push>\r\n            <!-- Sharding key used to insert data to destination cluster -->\r\n            <sharding_key>rand()</sharding_key>\r\n            <engine/>\r\n            <enabled_partitions>\r\n                <partition>'2019-02-26'</partition>\r\n            </enabled_partitions>\r\n        </table_hits>\r\n    </tables>\r\n</yandex>\r\n\r\n\r\nHope for replying!\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10880",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10880/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10880/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10880/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10880",
    "id": 617280882,
    "node_id": "MDU6SXNzdWU2MTcyODA4ODI=",
    "number": 10880,
    "title": "Array(LowCardinality(String)) has() function slower",
    "user": {
      "login": "yancheng44",
      "id": 24712421,
      "node_id": "MDQ6VXNlcjI0NzEyNDIx",
      "avatar_url": "https://avatars2.githubusercontent.com/u/24712421?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yancheng44",
      "html_url": "https://github.com/yancheng44",
      "followers_url": "https://api.github.com/users/yancheng44/followers",
      "following_url": "https://api.github.com/users/yancheng44/following{/other_user}",
      "gists_url": "https://api.github.com/users/yancheng44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yancheng44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yancheng44/subscriptions",
      "organizations_url": "https://api.github.com/users/yancheng44/orgs",
      "repos_url": "https://api.github.com/users/yancheng44/repos",
      "events_url": "https://api.github.com/users/yancheng44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yancheng44/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1446368065,
        "node_id": "MDU6TGFiZWwxNDQ2MzY4MDY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-lowcardinality",
        "name": "comp-lowcardinality",
        "color": "b5bcff",
        "default": false,
        "description": "LowCardinality data type"
      },
      {
        "id": 756395244,
        "node_id": "MDU6TGFiZWw3NTYzOTUyNDQ=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/performance",
        "name": "performance",
        "color": "c2e0c6",
        "default": false,
        "description": null
      },
      {
        "id": 1359227361,
        "node_id": "MDU6TGFiZWwxMzU5MjI3MzYx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v19.7",
        "name": "v19.7",
        "color": "55007a",
        "default": false,
        "description": "Issue affects version 19.7.* or PR was manually backported to related stable branch"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-13T09:10:27Z",
    "updated_at": "2020-05-14T20:03:02Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "hello,\r\n\r\nI store the  exp_id list in an Array using Array(LowCardinality(String)) for our A/B test 。 \r\nexample exps  array data:  ['zeyudu_rec_6096_1','default','zeyudu_rec_6096_2','zeyudu_rec_6096_3',....]\r\n     \r\nMy Query:\r\n\r\nSELECT\r\n    multiIf(has(exps_lowcard, 'zeyudu_rec_6096_1'), 'control', has(exps_lowcard, 'zeyudu_rec_6096_2'), '6096_2', 'other') AS expr_model_v20,\r\n    SUM(multiIf(windowType = 'CLICK', ((((4 * hasFollow) + hasLike) + hasComment) + (4 * hasShare)) + hasCollect, NULL) * SampleWeight) AS `SUM(ces)`\r\nFROM default.explore_feed_bitmap\r\nGROUP BY expr_model_v20\r\n\r\nresult:  1.1E rows  taken 34 seconds\r\n\r\n\r\n\r\nI make anther test : \r\n       I manage  an  external exp_id dictionay and then store the exp_id list  like  [1001,3001,4002,6001,6002.....]  \r\n \r\ntest query:\r\n\r\nSELECT\r\n    multiIf(has(exps_array, 6001), 'control', has(exps_array, 6002), '6002', 'other') AS expr_model_v20,\r\n    SUM(multiIf(windowType = 'CLICK', ((((4 * hasFollow) + hasLike) + hasComment) + (4 * hasShare)) + hasCollect, NULL) * SampleWeight) AS `SUM(ces)`\r\nFROM default.explore_feed_bitmap\r\nGROUP BY expr_model_v20\r\n\r\nresult: 1.1E rows  taken 3.2 seconds ,  \r\n\r\nclickhouser version: 19.17.4.11  \r\n\r\ncan you help check this issue. I think the LowCardinality Array should has the close performance with an Array stores Int。  \r\n\r\nIf you need more information,  I will update .\r\n\r\nthanks\r\njohnny "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10879",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10879/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10879/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10879/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10879",
    "id": 617230950,
    "node_id": "MDU6SXNzdWU2MTcyMzA5NTA=",
    "number": 10879,
    "title": "Dictionary couldn't update",
    "user": {
      "login": "wenwen2019",
      "id": 46664561,
      "node_id": "MDQ6VXNlcjQ2NjY0NTYx",
      "avatar_url": "https://avatars1.githubusercontent.com/u/46664561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wenwen2019",
      "html_url": "https://github.com/wenwen2019",
      "followers_url": "https://api.github.com/users/wenwen2019/followers",
      "following_url": "https://api.github.com/users/wenwen2019/following{/other_user}",
      "gists_url": "https://api.github.com/users/wenwen2019/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wenwen2019/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wenwen2019/subscriptions",
      "organizations_url": "https://api.github.com/users/wenwen2019/orgs",
      "repos_url": "https://api.github.com/users/wenwen2019/repos",
      "events_url": "https://api.github.com/users/wenwen2019/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wenwen2019/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1351463315,
        "node_id": "MDU6TGFiZWwxMzUxNDYzMzE1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-dictionary",
        "name": "comp-dictionary",
        "color": "b5bcff",
        "default": false,
        "description": "Dictionaries"
      },
      {
        "id": 1397892658,
        "node_id": "MDU6TGFiZWwxMzk3ODkyNjU4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/obsolete-version",
        "name": "obsolete-version",
        "color": "dddddd",
        "default": false,
        "description": ""
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      },
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      },
      {
        "id": 845267693,
        "node_id": "MDU6TGFiZWw4NDUyNjc2OTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/st-need-info",
        "name": "st-need-info",
        "color": "e5b890",
        "default": false,
        "description": "We need extra data to continue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-13T07:58:24Z",
    "updated_at": "2020-05-14T20:03:55Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I created a dictionary, and the data source is mysql table. When I updated the data of mysql table, the dictionary was not updated, and no dictionary could be created. The data source also had local files tested, and as long as the data source was updated, the dictionary could not be updated or created.\r\nthe version of the clickhouse is 19.3.7.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10872",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10872/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10872/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10872/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10872",
    "id": 617091324,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE3MDc1NjMz",
    "number": 10872,
    "title": "[WIP] 16 bit floatting types",
    "user": {
      "login": "RuS2m",
      "id": 34570656,
      "node_id": "MDQ6VXNlcjM0NTcwNjU2",
      "avatar_url": "https://avatars2.githubusercontent.com/u/34570656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RuS2m",
      "html_url": "https://github.com/RuS2m",
      "followers_url": "https://api.github.com/users/RuS2m/followers",
      "following_url": "https://api.github.com/users/RuS2m/following{/other_user}",
      "gists_url": "https://api.github.com/users/RuS2m/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RuS2m/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RuS2m/subscriptions",
      "organizations_url": "https://api.github.com/users/RuS2m/orgs",
      "repos_url": "https://api.github.com/users/RuS2m/repos",
      "events_url": "https://api.github.com/users/RuS2m/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RuS2m/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1077827669,
        "node_id": "MDU6TGFiZWwxMDc3ODI3NjY5",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/can%20be%20tested",
        "name": "can be tested",
        "color": "4b07ea",
        "default": false,
        "description": "Can run CI checks on this external PR"
      },
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "KochetovNicolai",
      "id": 4092911,
      "node_id": "MDQ6VXNlcjQwOTI5MTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/4092911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KochetovNicolai",
      "html_url": "https://github.com/KochetovNicolai",
      "followers_url": "https://api.github.com/users/KochetovNicolai/followers",
      "following_url": "https://api.github.com/users/KochetovNicolai/following{/other_user}",
      "gists_url": "https://api.github.com/users/KochetovNicolai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KochetovNicolai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KochetovNicolai/subscriptions",
      "organizations_url": "https://api.github.com/users/KochetovNicolai/orgs",
      "repos_url": "https://api.github.com/users/KochetovNicolai/repos",
      "events_url": "https://api.github.com/users/KochetovNicolai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KochetovNicolai/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "KochetovNicolai",
        "id": 4092911,
        "node_id": "MDQ6VXNlcjQwOTI5MTE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/4092911?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KochetovNicolai",
        "html_url": "https://github.com/KochetovNicolai",
        "followers_url": "https://api.github.com/users/KochetovNicolai/followers",
        "following_url": "https://api.github.com/users/KochetovNicolai/following{/other_user}",
        "gists_url": "https://api.github.com/users/KochetovNicolai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KochetovNicolai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KochetovNicolai/subscriptions",
        "organizations_url": "https://api.github.com/users/KochetovNicolai/orgs",
        "repos_url": "https://api.github.com/users/KochetovNicolai/repos",
        "events_url": "https://api.github.com/users/KochetovNicolai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KochetovNicolai/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-05-13T02:28:28Z",
    "updated_at": "2020-06-09T02:04:07Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10872",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10872",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10872.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10872.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category (leave one):\r\n- New Feature\r\n\r\n\r\n\r\nChangelog entry (a user-readable short description of the changes that goes to CHANGELOG.md):\r\n\r\n...\r\n\r\n\r\nDetailed description / Documentation draft:\r\n\r\n...\r\n\r\nBy adding documentation, you'll allow users to try your new feature immediately, not when someone else will have time to document it later. Documentation is necessary for all features that affect user experience in any way. You can add brief documentation draft above, or add documentation right into your patch as Markdown files in [docs](https://github.com/ClickHouse/ClickHouse/tree/master/docs) folder.\r\n\r\nIf you are doing this for the first time, it's recommended to read the lightweight [Contributing to ClickHouse Documentation](https://github.com/ClickHouse/ClickHouse/tree/master/docs/README.md) guide first.\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10863",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10863/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10863/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10863/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10863",
    "id": 616918406,
    "node_id": "MDU6SXNzdWU2MTY5MTg0MDY=",
    "number": 10863,
    "title": "Ideas on how to rework cache dictionaries.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-12T19:54:20Z",
    "updated_at": "2020-05-13T19:24:39Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "The code of cache dictionaries is unnesessarily complicated.\r\n\r\n1. Template specialization on types (all integers and strings) is unnecessary.\r\n2. It does not make sense to have separate `cache` and `complex_key_cache` - the performance of generic case won't be lower.\r\n3. It stores all attributes in separate hash tables that leads to higher complexity and higher memory usage. Instead, let's serialize all attributes of every record into single contiguous memory region (in ArenaWithFreeLists) along with offsets to every column. This will also allow to support more data types. Serialize and desirialize with IColumn methods.\r\n4. Intrusive LRU linked list may work better than cache table and as we collect all attributes together, memory overhead won't be high.\r\n\r\nWe can create new type of dictionary layout, then provide for `cache` and `complex_key_cached` and remove their code."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10862",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10862/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10862/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10862/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10862",
    "id": 616905667,
    "node_id": "MDU6SXNzdWU2MTY5MDU2Njc=",
    "number": 10862,
    "title": "A setting date_time_output_format.",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 520905553,
        "node_id": "MDU6TGFiZWw1MjA5MDU1NTM=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/feature",
        "name": "feature",
        "color": "1d76db",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-12T19:32:31Z",
    "updated_at": "2020-05-14T12:31:51Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "With values `simple`, `iso` and `unix_timestamp`.\r\n\r\nSimple: `2010-10-31 02:30:00`\r\nISO: `2010-10-31T02:30:00+03:00`\r\nUnix timestamp: `1288481400`\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10851",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10851/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10851/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10851/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10851",
    "id": 616709635,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDE2NzY4OTY0",
    "number": 10851,
    "title": "ISSUES-4006 support dump mysql all data for mysql database",
    "user": {
      "login": "zhang2014",
      "id": 8087042,
      "node_id": "MDQ6VXNlcjgwODcwNDI=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/8087042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhang2014",
      "html_url": "https://github.com/zhang2014",
      "followers_url": "https://api.github.com/users/zhang2014/followers",
      "following_url": "https://api.github.com/users/zhang2014/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhang2014/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhang2014/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhang2014/subscriptions",
      "organizations_url": "https://api.github.com/users/zhang2014/orgs",
      "repos_url": "https://api.github.com/users/zhang2014/repos",
      "events_url": "https://api.github.com/users/zhang2014/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhang2014/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1807683251,
        "node_id": "MDU6TGFiZWwxODA3NjgzMjUx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/doc-alert",
        "name": "doc-alert",
        "color": "e51068",
        "default": false,
        "description": "PR where any documentation work is needed or proceeded"
      },
      {
        "id": 1309674771,
        "node_id": "MDU6TGFiZWwxMzA5Njc0Nzcx",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/pr-feature",
        "name": "pr-feature",
        "color": "007700",
        "default": false,
        "description": "Pull request with new product feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "tavplubix",
      "id": 14847450,
      "node_id": "MDQ6VXNlcjE0ODQ3NDUw",
      "avatar_url": "https://avatars0.githubusercontent.com/u/14847450?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tavplubix",
      "html_url": "https://github.com/tavplubix",
      "followers_url": "https://api.github.com/users/tavplubix/followers",
      "following_url": "https://api.github.com/users/tavplubix/following{/other_user}",
      "gists_url": "https://api.github.com/users/tavplubix/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tavplubix/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tavplubix/subscriptions",
      "organizations_url": "https://api.github.com/users/tavplubix/orgs",
      "repos_url": "https://api.github.com/users/tavplubix/repos",
      "events_url": "https://api.github.com/users/tavplubix/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tavplubix/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "tavplubix",
        "id": 14847450,
        "node_id": "MDQ6VXNlcjE0ODQ3NDUw",
        "avatar_url": "https://avatars0.githubusercontent.com/u/14847450?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tavplubix",
        "html_url": "https://github.com/tavplubix",
        "followers_url": "https://api.github.com/users/tavplubix/followers",
        "following_url": "https://api.github.com/users/tavplubix/following{/other_user}",
        "gists_url": "https://api.github.com/users/tavplubix/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tavplubix/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tavplubix/subscriptions",
        "organizations_url": "https://api.github.com/users/tavplubix/orgs",
        "repos_url": "https://api.github.com/users/tavplubix/repos",
        "events_url": "https://api.github.com/users/tavplubix/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tavplubix/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-12T14:37:40Z",
    "updated_at": "2020-06-15T20:48:46Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/ClickHouse/ClickHouse/pulls/10851",
      "html_url": "https://github.com/ClickHouse/ClickHouse/pull/10851",
      "diff_url": "https://github.com/ClickHouse/ClickHouse/pull/10851.diff",
      "patch_url": "https://github.com/ClickHouse/ClickHouse/pull/10851.patch"
    },
    "body": "I hereby agree to the terms of the CLA available at: https://yandex.ru/legal/cla/?lang=en\r\n\r\nChangelog category:\r\n- New Feature\r\n\r\nChangelog entry:\r\n#4006\r\n\r\n\r\nDetailed description / Documentation draft:\r\nThis task is a subtask for ClickHouse as MySQL Slave.\r\nThis pr completed the convert `MySQL create query` to `ClickHouse create query` and pull all data from MySQL\r\n\r\nConsume MySQL incremental data will be completed in next pr(not merge until the next pr is done).\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10846",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10846/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10846/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10846/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10846",
    "id": 616577262,
    "node_id": "MDU6SXNzdWU2MTY1NzcyNjI=",
    "number": 10846,
    "title": "'if' function not working with Nullable condition.",
    "user": {
      "login": "LittleMaverick",
      "id": 25553967,
      "node_id": "MDQ6VXNlcjI1NTUzOTY3",
      "avatar_url": "https://avatars3.githubusercontent.com/u/25553967?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LittleMaverick",
      "html_url": "https://github.com/LittleMaverick",
      "followers_url": "https://api.github.com/users/LittleMaverick/followers",
      "following_url": "https://api.github.com/users/LittleMaverick/following{/other_user}",
      "gists_url": "https://api.github.com/users/LittleMaverick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LittleMaverick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LittleMaverick/subscriptions",
      "organizations_url": "https://api.github.com/users/LittleMaverick/orgs",
      "repos_url": "https://api.github.com/users/LittleMaverick/repos",
      "events_url": "https://api.github.com/users/LittleMaverick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LittleMaverick/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1634867650,
        "node_id": "MDU6TGFiZWwxNjM0ODY3NjUw",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-nullable",
        "name": "comp-nullable",
        "color": "b5bcff",
        "default": false,
        "description": "Nulls related"
      },
      {
        "id": 1907525265,
        "node_id": "MDU6TGFiZWwxOTA3NTI1MjY1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.3-affected",
        "name": "v20.3-affected",
        "color": "55007a",
        "default": false,
        "description": "This issue affects some releases of v20.3"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-12T11:22:23Z",
    "updated_at": "2020-06-23T21:54:13Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I try to execute such query:\r\n`SELECT if(isFinite(toUInt64OrZero(toNullable('123'))), 1, 0)`\r\n\r\nBut it throws an exception:\r\n\r\n`Code: 44, e.displayText() = DB::Exception: Illegal column Const(Nullable(UInt8)) of first argument of function if. Must be ColumnUInt8 or ColumnConstUInt8. (version 20.3.8.53 (official build))`\r\n\r\n`SELECT toTypeName(isFinite(toUInt64OrZero(toNullable('123')))) - Nullable(UInt8) ` "
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10842",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10842/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10842/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10842/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10842",
    "id": 616525752,
    "node_id": "MDU6SXNzdWU2MTY1MjU3NTI=",
    "number": 10842,
    "title": "Is table TTL replicated?",
    "user": {
      "login": "Zer0Divis0r",
      "id": 10449753,
      "node_id": "MDQ6VXNlcjEwNDQ5NzUz",
      "avatar_url": "https://avatars3.githubusercontent.com/u/10449753?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zer0Divis0r",
      "html_url": "https://github.com/Zer0Divis0r",
      "followers_url": "https://api.github.com/users/Zer0Divis0r/followers",
      "following_url": "https://api.github.com/users/Zer0Divis0r/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zer0Divis0r/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zer0Divis0r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zer0Divis0r/subscriptions",
      "organizations_url": "https://api.github.com/users/Zer0Divis0r/orgs",
      "repos_url": "https://api.github.com/users/Zer0Divis0r/repos",
      "events_url": "https://api.github.com/users/Zer0Divis0r/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zer0Divis0r/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401510,
        "node_id": "MDU6TGFiZWwzODY0MDE1MTA=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/question",
        "name": "question",
        "color": "bfdadc",
        "default": true,
        "description": ""
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "excitoon",
      "id": 2255111,
      "node_id": "MDQ6VXNlcjIyNTUxMTE=",
      "avatar_url": "https://avatars1.githubusercontent.com/u/2255111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/excitoon",
      "html_url": "https://github.com/excitoon",
      "followers_url": "https://api.github.com/users/excitoon/followers",
      "following_url": "https://api.github.com/users/excitoon/following{/other_user}",
      "gists_url": "https://api.github.com/users/excitoon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/excitoon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/excitoon/subscriptions",
      "organizations_url": "https://api.github.com/users/excitoon/orgs",
      "repos_url": "https://api.github.com/users/excitoon/repos",
      "events_url": "https://api.github.com/users/excitoon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/excitoon/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "excitoon",
        "id": 2255111,
        "node_id": "MDQ6VXNlcjIyNTUxMTE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2255111?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/excitoon",
        "html_url": "https://github.com/excitoon",
        "followers_url": "https://api.github.com/users/excitoon/followers",
        "following_url": "https://api.github.com/users/excitoon/following{/other_user}",
        "gists_url": "https://api.github.com/users/excitoon/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/excitoon/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/excitoon/subscriptions",
        "organizations_url": "https://api.github.com/users/excitoon/orgs",
        "repos_url": "https://api.github.com/users/excitoon/repos",
        "events_url": "https://api.github.com/users/excitoon/events{/privacy}",
        "received_events_url": "https://api.github.com/users/excitoon/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-05-12T10:00:14Z",
    "updated_at": "2020-05-18T07:44:03Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Does the command ALTER TABLE MODIFY TTL replicates to other replicas?\r\n\r\nIf yes, do other replicas must have the same storage policy (or policy name?) and same disks/volumes names? \r\n\r\nThis is not clear from, the docs: it says \"different storage policies can be specified for the same table on different replicas\", but it looks like TTL still has to be identical."
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10839",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10839/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10839/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10839/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10839",
    "id": 616456204,
    "node_id": "MDU6SXNzdWU2MTY0NTYyMDQ=",
    "number": 10839,
    "title": "Unexpected logical error while adding block ....Node exists....",
    "user": {
      "login": "chengbinghan",
      "id": 37525039,
      "node_id": "MDQ6VXNlcjM3NTI1MDM5",
      "avatar_url": "https://avatars2.githubusercontent.com/u/37525039?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chengbinghan",
      "html_url": "https://github.com/chengbinghan",
      "followers_url": "https://api.github.com/users/chengbinghan/followers",
      "following_url": "https://api.github.com/users/chengbinghan/following{/other_user}",
      "gists_url": "https://api.github.com/users/chengbinghan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chengbinghan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chengbinghan/subscriptions",
      "organizations_url": "https://api.github.com/users/chengbinghan/orgs",
      "repos_url": "https://api.github.com/users/chengbinghan/repos",
      "events_url": "https://api.github.com/users/chengbinghan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chengbinghan/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 386401505,
        "node_id": "MDU6TGFiZWwzODY0MDE1MDU=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/bug",
        "name": "bug",
        "color": "ee0701",
        "default": true,
        "description": null
      },
      {
        "id": 1401894928,
        "node_id": "MDU6TGFiZWwxNDAxODk0OTI4",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/comp-zookeeper",
        "name": "comp-zookeeper",
        "color": "b5bcff",
        "default": false,
        "description": "Zookeeper"
      },
      {
        "id": 1798569135,
        "node_id": "MDU6TGFiZWwxNzk4NTY5MTM1",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/v20.1",
        "name": "v20.1",
        "color": "510a75",
        "default": false,
        "description": "Issue affects version 20.1.* or PR was manually backported to related stable branch"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-05-12T08:16:36Z",
    "updated_at": "2020-06-10T14:51:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "**clickhouse version**: 20.1.6.30.\r\n(6 clickhouse + 3 zookeeper )\r\n**os:**\r\nLinux nf5180f11-app 3.10.0-862.el7.x86_64 #1 SMP Wed Mar 21 18:14:51 EDT 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nhello,\r\n\r\nclickhouse is so useful for us. thanks  clickhouse dev group. we use clickhouse for long time.\r\n\r\nClickhouse  is runnig well For a long time， last month,we update clickhouse from 19.16 to 20.1.6.30 ,  after update clickhouse is running well for long time.   but this week we find , Can't insert data to clickhouse,(query is ok)。 I can't find useful msg from document.  below is error log\r\n,thanks very very very much.\r\n\r\n**clickhouse error log**\r\n`2020.05.12 06:39:56.818151 [ 268 ] {} <Error> HTTPHandler: Code: 244, e.displayText() = DB::Exception: Unexpected logical error while adding block 8583 with ID '20200511_5413017660550546874_17832504202743138271': Node exists, path /clickhouse/tables/4/s4_machine_cdc_collect/s4_machine_cdc_collect_fin/log/log-, Stack trace (when copying this message, always include the lines below):\r\n\r\n0. 0x91f8a9c Poco::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n1. 0x4c7fac9 DB::Exception::Exception(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, int)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n2. 0x4a59da7 ?  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n3. 0x845174b DB::ReplicatedMergeTreeBlockOutputStream::write(DB::Block const&)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n4. 0x867c540 DB::PushingToViewsBlockOutputStream::write(DB::Block const&)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n5. 0x8682939 DB::SquashingBlockOutputStream::finalize()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n6. 0x86829c9 DB::SquashingBlockOutputStream::writeSuffix()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n7. 0x7eeb069 DB::copyData(DB::IBlockInputStream&, DB::IBlockOutputStream&, std::__1::atomic<bool>*)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n8. 0x8007a9d DB::NullAndDoCopyBlockInputStream::readImpl()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n9. 0x7ed5d19 DB::IBlockInputStream::read()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n10. 0x7eeaf5a DB::copyData(DB::IBlockInputStream&, DB::IBlockOutputStream&, std::__1::atomic<bool>*)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n11. 0x81b6667 DB::executeQuery(DB::ReadBuffer&, DB::WriteBuffer&, bool, DB::Context&, std::__1::function<void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>, std::__1::function<void (std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)>)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n12. 0x4cfb845 DB::HTTPHandler::processQuery(Poco::Net::HTTPServerRequest&, HTMLForm&, Poco::Net::HTTPServerResponse&, DB::HTTPHandler::Output&)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n13. 0x4cfee06 DB::HTTPHandler::handleRequest(Poco::Net::HTTPServerRequest&, Poco::Net::HTTPServerResponse&)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n14. 0x8c0f869 Poco::Net::HTTPServerConnection::run()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n15. 0x8c0d647 Poco::Net::TCPServerConnection::start()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n16. 0x8c0dc42 Poco::Net::TCPServerDispatcher::run()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n17. 0x92345ef Poco::PooledThread::run()  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n18. 0x9232bc8 Poco::ThreadImpl::runnableEntry(void*)  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n19. 0x9233d79 ?  in /opt/app/data/app/clickhouse/bin/clickhouse\r\n20. 0x7dd5 start_thread  in /usr/lib64/libpthread-2.17.so\r\n21. 0xfeb3d clone  in /usr/lib64/libc-2.17.so\r\n (version 20.1.6.30)`\r\n\r\nzookeeper  log \r\n`2020-05-12 07:13:42.249|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068a7d zxid:0x7001a6d44 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_method_aggr_min/2/log/log-0001380502 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_method_aggr_min/2/log/log-0001380502\r\n2020-05-12 07:13:42.251|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068a88 zxid:0x7001a6d45 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_topo_aggr_hour/1/log/log-0001379336 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_topo_aggr_hour/1/log/log-0001379336\r\n2020-05-12 07:13:42.523|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068aa4 zxid:0x7001a6d46 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_method_aggr_min/1/log/log-0001379229 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_method_aggr_min/1/log/log-0001379229\r\n2020-05-12 07:13:42.524|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068aad zxid:0x7001a6d47 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_topo_aggr_hour/2/log/log-0001380602 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_topo_aggr_hour/2/log/log-0001380602\r\n2020-05-12 07:13:42.650|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068acc zxid:0x7001a6d48 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_topo_aggr_min/1/log/log-0001379300 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_topo_aggr_min/1/log/log-0001379300\r\n2020-05-12 07:13:42.796|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068ae5 zxid:0x7001a6d49 txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_topo_aggr_min/2/log/log-0001380552 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_topo_aggr_min/2/log/log-0001380552\r\n2020-05-12 07:13:42.796|[myid:2]|INFO |[ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@653]|Got user-level KeeperException when processing sessionid:0x3069d24da780000 type:create cxid:0xa068ae6 zxid:0x7001a6d4a txntype:-1 reqpath:n/a Error Path:/clickhouse/tables/app_topo_aggr_one_min/1/log/log-0001734235 Error:KeeperErrorCode = NodeExists for /clickhouse/tables/app_topo_aggr_one_min/1/log/log-0001734235\r\n`\r\n\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10825",
    "repository_url": "https://api.github.com/repos/ClickHouse/ClickHouse",
    "labels_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10825/labels{/name}",
    "comments_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10825/comments",
    "events_url": "https://api.github.com/repos/ClickHouse/ClickHouse/issues/10825/events",
    "html_url": "https://github.com/ClickHouse/ClickHouse/issues/10825",
    "id": 616257197,
    "node_id": "MDU6SXNzdWU2MTYyNTcxOTc=",
    "number": 10825,
    "title": "Provide a way to run CI checks on local machine",
    "user": {
      "login": "alexey-milovidov",
      "id": 18581488,
      "node_id": "MDQ6VXNlcjE4NTgxNDg4",
      "avatar_url": "https://avatars3.githubusercontent.com/u/18581488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexey-milovidov",
      "html_url": "https://github.com/alexey-milovidov",
      "followers_url": "https://api.github.com/users/alexey-milovidov/followers",
      "following_url": "https://api.github.com/users/alexey-milovidov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexey-milovidov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexey-milovidov/subscriptions",
      "organizations_url": "https://api.github.com/users/alexey-milovidov/orgs",
      "repos_url": "https://api.github.com/users/alexey-milovidov/repos",
      "events_url": "https://api.github.com/users/alexey-milovidov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexey-milovidov/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 521113272,
        "node_id": "MDU6TGFiZWw1MjExMTMyNzI=",
        "url": "https://api.github.com/repos/ClickHouse/ClickHouse/labels/build",
        "name": "build",
        "color": "d93f0b",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2020-05-11T23:41:24Z",
    "updated_at": "2020-05-21T17:13:29Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "CI checks are run in Sandbox.\r\n\r\nSandbox is Yandex internal distributed system to run arbitrary jobs on various servers, manage dependencies, resources and artifacts. Jobs are implemented in Python and use Sandbox interface. Source code of the jobs is located in Yandex internal repository.\r\n\r\nOur own jobs are just small to medium size wrappers that download our source code from GitHub, run Docker images, collect results and publish them on GitHub and s3.\r\n\r\nWe can allow to run these jobs locally with the following steps:\r\n1. Move as much of the jobs source code as possible to public GitHub repository. Make Sandbox python jobs as small wrappers as possible.\r\n2. Provide a mock of Sandbox interface to run these jobs as is. Mirror the source code of these wrappers on public repository as well."
  }
]
